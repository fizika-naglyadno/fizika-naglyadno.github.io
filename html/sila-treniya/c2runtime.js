// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,ca,da,w,ea,fa,ga,O,ha,ja,la,ma,na,Q,oa,pa,U,sa,ta,ua,va,V,wa,xa,ya,za,Aa,W,Ba,Ca,Da,Ea,Ha,X,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Y,Ub,Vb={},Wb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(b,a,u,c){this.set(b,a,u,c)}function q(){this.Cb=this.Bb=this.Eb=this.Db=this.Nb=this.Mb=this.xb=this.wb=0}function m(b,a,u,c){b<a?u<c?(x=b<u?b:u,r=a>c?a:c):(x=b<c?b:c,r=a>u?a:u):u<c?(x=a<u?a:u,r=b>c?b:c):(x=a<c?a:c,r=b>u?b:u)}function n(){this.items=this.Nc=null;this.Zf=0;L&&(this.Nc=new Set);this.sf=[];this.rd=!0}function v(b){C[A++]=b}function p(){this.ka=this.ji=this.y=this.Hi=0}function f(b){this.cd=[];this.ll=this.nl=this.ol=this.ml=0;this.wg(b)}function a(b,a){this.Ni=
b;this.Mi=a;this.cells={}}function c(b,a){this.Ni=b;this.Mi=a;this.cells={}}function e(b,a,u){var c;return z.length?(c=z.pop(),c.qj=b,c.x=a,c.y=u,c):new ba(b,a,u)}function b(b,a,u){this.qj=b;this.x=a;this.y=u;this.Ha=new ca}function g(b,a,u){var c;return B.length?(c=B.pop(),c.qj=b,c.x=a,c.y=u,c):new da(b,a,u)}function l(b,a,u){this.qj=b;this.x=a;this.y=u;this.Ha=[];this.Te=!0;this.Lc=new ca;this.wf=!1}function h(b,a){return b.Ac-a.Ac}w=function(b){window.console&&window.console.log&&window.console.log(b)};
ea=function(b){window.console&&window.console.error&&window.console.error(b)};fa=function(b){return"undefined"===typeof b};ga=function(b){return"number"===typeof b};O=function(b){return"string"===typeof b};ha=function(b){return 0<b&&0===(b-1&b)};ja=function(b){--b;for(var a=1;32>a;a<<=1)b=b|b>>a;return b+1};la=function(b){return 0>b?-b:b};ma=function(b,a){return b<a?b:a};na=Math.PI;Q=function(b){return 0<=b?b|0:(b|0)-1};oa=function(b){var a=b|0;return a===b?a:a+1};pa=function(b,a,u,c,g,h,e,l){var k,
f,t,d;b<u?(f=b,k=u):(f=u,k=b);g<e?(d=g,t=e):(d=e,t=g);if(k<d||f>t)return!1;a<c?(f=a,k=c):(f=c,k=a);h<l?(d=h,t=l):(d=l,t=h);if(k<d||f>t)return!1;k=g-b+e-u;f=h-a+l-c;b=u-b;a=c-a;g=e-g;h=l-h;l=la(a*g-h*b);return la(g*f-h*k)>l?!1:la(b*f-a*k)<=l};d.prototype.set=function(b,a,u,c){this.left=b;this.top=a;this.right=u;this.bottom=c};d.prototype.Df=function(b){this.left=b.left;this.top=b.top;this.right=b.right;this.bottom=b.bottom};d.prototype.width=function(){return this.right-this.left};d.prototype.height=
function(){return this.bottom-this.top};d.prototype.offset=function(b,a){this.left+=b;this.top+=a;this.right+=b;this.bottom+=a;return this};d.prototype.normalize=function(){var b=0;this.left>this.right&&(b=this.left,this.left=this.right,this.right=b);this.top>this.bottom&&(b=this.top,this.top=this.bottom,this.bottom=b)};d.prototype.Sb=function(b,a){return b>=this.left&&b<=this.right&&a>=this.top&&a<=this.bottom};d.prototype.Hf=function(b){return this.left===b.left&&this.top===b.top&&this.right===
b.right&&this.bottom===b.bottom};U=d;q.prototype.xe=function(b){this.wb=b.left;this.xb=b.top;this.Mb=b.right;this.Nb=b.top;this.Db=b.right;this.Eb=b.bottom;this.Bb=b.left;this.Cb=b.bottom};q.prototype.Cn=function(b,a){if(0===a)this.xe(b);else{var u=Math.sin(a),c=Math.cos(a),g=b.left*u,h=b.top*u,e=b.right*u,u=b.bottom*u,l=b.left*c,k=b.top*c,f=b.right*c,c=b.bottom*c;this.wb=l-h;this.xb=k+g;this.Mb=f-h;this.Nb=k+e;this.Db=f-u;this.Eb=c+e;this.Bb=l-u;this.Cb=c+g}};q.prototype.offset=function(b,a){this.wb+=
b;this.xb+=a;this.Mb+=b;this.Nb+=a;this.Db+=b;this.Eb+=a;this.Bb+=b;this.Cb+=a;return this};var x=0,r=0;q.prototype.ql=function(b){m(this.wb,this.Mb,this.Db,this.Bb);b.left=x;b.right=r;m(this.xb,this.Nb,this.Eb,this.Cb);b.top=x;b.bottom=r};q.prototype.Sb=function(b,a){var u=this.wb,c=this.xb,g=this.Mb-u,h=this.Nb-c,e=this.Db-u,l=this.Eb-c,k=b-u,f=a-c,t=g*g+h*h,d=g*e+h*l,h=g*k+h*f,x=e*e+l*l,r=e*k+l*f,p=1/(t*x-d*d),g=(x*h-d*r)*p,t=(t*r-d*h)*p;if(0<=g&&0<t&&1>g+t)return!0;g=this.Bb-u;h=this.Cb-c;t=g*
g+h*h;d=g*e+h*l;h=g*k+h*f;p=1/(t*x-d*d);g=(x*h-d*r)*p;t=(t*r-d*h)*p;return 0<=g&&0<t&&1>g+t};sa=q;ta=function(b,a){for(var u in a)a.hasOwnProperty(u)&&(b[u]=a[u]);return b};ua=function(b,a){var u,c;a=Q(a);if(!(0>a||a>=b.length)){u=a;for(c=b.length-1;u<c;u++)b[u]=b[u+1];va(b,c)}};va=function(b,a){b.length=a};V=function(b){va(b,0)};wa=function(b,a){V(b);var u,c;u=0;for(c=a.length;u<c;++u)b[u]=a[u]};xa=function(b,a){b.push.apply(b,a)};ya=function(b,a){var u,c;u=0;for(c=b.length;u<c;++u)if(b[u]===a)return u;
return-1};za=function(b,a){var u=ya(b,a);-1!==u&&ua(b,u)};Aa=function(b,a,u){return b<a?a:b>u?u:b};W=function(b){return b/(180/na)};Ba=function(b){return 180/na*b};Ca=function(b){b%=360;0>b&&(b+=360);return b};Da=function(b){b%=2*na;0>b&&(b+=2*na);return b};Ea=function(b){return Ca(Ba(b))};Ha=function(b){return Da(W(b))};X=function(b,a,u,c){return Math.atan2(c-a,u-b)};Ia=function(b,a){if(b===a)return 0;var u=Math.sin(b),c=Math.cos(b),g=Math.sin(a),h=Math.cos(a),u=u*g+c*h;return 1<=u?0:-1>=u?na:Math.acos(u)};
Ja=function(b,a,u){var c=Math.sin(b),g=Math.cos(b),h=Math.sin(a),e=Math.cos(a);return Math.acos(c*h+g*e)>u?0<g*h-c*e?Da(b+u):Da(b-u):Da(a)};Ka=function(b,a){var u=Math.sin(b),c=Math.cos(b),g=Math.sin(a),h=Math.cos(a);return 0>=c*g-u*h};La=function(b,a,u,c){b=u-b;a=c-a;return Math.sqrt(b*b+a*a)};Ma=function(b,a){return!b!==!a};Na=function(b){for(var a in b)if(b.hasOwnProperty(a))return!0;return!1};Oa=function(b){for(var a in b)b.hasOwnProperty(a)&&delete b[a]};var H=+new Date;Pa=function(){if("undefined"!==
typeof window.performance){var b=window.performance;if("undefined"!==typeof b.now)return b.now();if("undefined"!==typeof b.webkitNow)return b.webkitNow();if("undefined"!==typeof b.mozNow)return b.mozNow();if("undefined"!==typeof b.msNow)return b.msNow()}return Date.now()-H};var k=!1,t=k=!1,D=!1;"undefined"!==typeof window&&(k=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),k=!k&&/safari/i.test(navigator.userAgent),t=/(iphone|ipod|ipad)/i.test(navigator.userAgent),D=window.c2ejecta);
var L=!k&&!D&&!t&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;n.prototype.contains=function(b){return this.Xc()?!1:L?this.Nc.has(b):this.items&&this.items.hasOwnProperty(b)};n.prototype.add=function(b){if(L)this.Nc.has(b)||(this.Nc.add(b),this.rd=!1);else{var a=b.toString(),u=this.items;u?u.hasOwnProperty(a)||(u[a]=b,this.Zf++,this.rd=!1):(this.items={},this.items[a]=b,this.Zf=1,this.rd=!1)}};n.prototype.remove=function(b){if(!this.Xc())if(L)this.Nc.has(b)&&(this.Nc["delete"](b),
this.rd=!1);else if(this.items){b=b.toString();var a=this.items;a.hasOwnProperty(b)&&(delete a[b],this.Zf--,this.rd=!1)}};n.prototype.clear=function(){this.Xc()||(L?this.Nc.clear():(this.items=null,this.Zf=0),V(this.sf),this.rd=!0)};n.prototype.Xc=function(){return 0===this.count()};n.prototype.count=function(){return L?this.Nc.size:this.Zf};var C=null,A=0;n.prototype.qs=function(){if(!this.rd){if(L)V(this.sf),C=this.sf,A=0,this.Nc.forEach(v),C=null,A=0;else{var b=this.sf;V(b);var a,u=0,c=this.items;
if(c)for(a in c)c.hasOwnProperty(a)&&(b[u++]=c[a])}this.rd=!0}};n.prototype.jd=function(){this.qs();return this.sf};ca=n;var S=new ca;Qa=function(b){var a,u;a=0;for(u=b.length;a<u;++a)S.add(b[a]);wa(b,S.jd());S.clear()};Ra=function(b,a){L?Sa(b,a.Nc):Ta(b,a.jd())};Sa=function(b,a){var u,c,g,h;c=u=0;for(g=b.length;u<g;++u)h=b[u],a.has(h)||(b[c++]=h);va(b,c)};Ta=function(b,a){var u,c,g,h;c=u=0;for(g=b.length;u<g;++u)h=b[u],-1===ya(a,h)&&(b[c++]=h);va(b,c)};p.prototype.add=function(b){this.y=b-this.Hi;
this.ji=this.ka+this.y;this.Hi=this.ji-this.ka-this.y;this.ka=this.ji};p.prototype.reset=function(){this.ka=this.ji=this.y=this.Hi=0};Va=p;Wa=function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.wg=function(b){this.kn=b;this.jf=b.length/2;this.cd.length=b.length;this.Mg=this.Ng=-1;this.tl=0};f.prototype.Mj=function(){return!this.kn.length};f.prototype.la=function(){for(var b=this.cd,a=b[0],u=a,c=b[1],g=c,h,e,l=1,k=this.jf;l<k;++l)e=2*l,h=b[e],e=b[e+1],h<a&&(a=h),h>u&&(u=h),
e<c&&(c=e),e>g&&(g=e);this.ml=a;this.nl=u;this.ol=c;this.ll=g};f.prototype.xe=function(b,a,u){this.cd.length=8;this.jf=4;var c=this.cd;c[0]=b.left-a;c[1]=b.top-u;c[2]=b.right-a;c[3]=b.top-u;c[4]=b.right-a;c[5]=b.bottom-u;c[6]=b.left-a;c[7]=b.bottom-u;this.Ng=b.right-b.left;this.Mg=b.bottom-b.top;this.la()};f.prototype.Bn=function(b,a,u,c,g){this.cd.length=8;this.jf=4;var h=this.cd;h[0]=b.wb-a;h[1]=b.xb-u;h[2]=b.Mb-a;h[3]=b.Nb-u;h[4]=b.Db-a;h[5]=b.Eb-u;h[6]=b.Bb-a;h[7]=b.Cb-u;this.Ng=c;this.Mg=g;this.la()};
f.prototype.Ii=function(b,a,u){if(this.Ng!==b||this.Mg!==a||this.tl!==u){this.Ng=b;this.Mg=a;this.tl=u;var c,g,h,e,l,k=0,f=1,t=this.kn,d=this.cd;0!==u&&(k=Math.sin(u),f=Math.cos(u));u=0;for(h=this.jf;u<h;u++)c=2*u,g=c+1,e=t[c]*b,l=t[g]*a,d[c]=e*f-l*k,d[g]=l*f+e*k;this.la()}};f.prototype.Sb=function(b,a){var u=this.cd;if(b===u[0]&&a===u[1])return!0;var c,g,h,e=this.jf,l=this.ml-110,k=this.ol-101,f=this.nl+131,t=this.ll+120,d,x,r=0,p=0;for(c=0;c<e;c++)g=2*c,h=(c+1)%e*2,d=u[g],g=u[g+1],x=u[h],h=u[h+
1],pa(l,k,b,a,d,g,x,h)&&r++,pa(f,t,b,a,d,g,x,h)&&p++;return 1===r%2||1===p%2};Xa=f;a.prototype.wd=function(b,a,u){var c;c=this.cells[b];return c?(c=c[a])?c:u?(c=e(this,b,a),this.cells[b][a]=c):null:u?(c=e(this,b,a),this.cells[b]={},this.cells[b][a]=c):null};a.prototype.$a=function(b){return Q(b/this.Ni)};a.prototype.ab=function(b){return Q(b/this.Mi)};a.prototype.update=function(b,a,u){var c,g,h,e,l;if(a)for(c=a.left,g=a.right;c<=g;++c)for(h=a.top,e=a.bottom;h<=e;++h)if(!u||!u.Sb(c,h))if(l=this.wd(c,
h,!1))l.remove(b),l.Xc()&&(l.Ha.clear(),1E3>z.length&&z.push(l),this.cells[c][h]=null);if(u)for(c=u.left,g=u.right;c<=g;++c)for(h=u.top,e=u.bottom;h<=e;++h)a&&a.Sb(c,h)||this.wd(c,h,!0).Bj(b)};a.prototype.Vh=function(b,a){var c,g,h,e,l,k;c=this.$a(b.left);h=this.ab(b.top);g=this.$a(b.right);for(l=this.ab(b.bottom);c<=g;++c)for(e=h;e<=l;++e)(k=this.wd(c,e,!1))&&k.dump(a)};Ya=a;c.prototype.wd=function(b,a,c){var h;h=this.cells[b];return h?(h=h[a])?h:c?(h=g(this,b,a),this.cells[b][a]=h):null:c?(h=g(this,
b,a),this.cells[b]={},this.cells[b][a]=h):null};c.prototype.$a=function(b){return Q(b/this.Ni)};c.prototype.ab=function(b){return Q(b/this.Mi)};c.prototype.update=function(b,a,c){var g,h,e,l,k;if(a)for(g=a.left,h=a.right;g<=h;++g)for(e=a.top,l=a.bottom;e<=l;++e)if(!c||!c.Sb(g,e))if(k=this.wd(g,e,!1))k.remove(b),k.Xc()&&(k.reset(),1E3>B.length&&B.push(k),this.cells[g][e]=null);if(c)for(g=c.left,h=c.right;g<=h;++g)for(e=c.top,l=c.bottom;e<=l;++e)a&&a.Sb(g,e)||this.wd(g,e,!0).Bj(b)};c.prototype.Vh=function(b,
a,c,g,h){var e,l;b=this.$a(b);a=this.ab(a);c=this.$a(c);for(e=this.ab(g);b<=c;++b)for(g=a;g<=e;++g)(l=this.wd(b,g,!1))&&l.dump(h)};c.prototype.kr=function(b){var a,c,g,h,e;a=b.left;g=b.top;c=b.right;for(h=b.bottom;a<=c;++a)for(b=g;b<=h;++b)if(e=this.wd(a,b,!1))e.Te=!1};Za=c;var z=[];b.prototype.Xc=function(){return this.Ha.Xc()};b.prototype.Bj=function(b){this.Ha.add(b)};b.prototype.remove=function(b){this.Ha.remove(b)};b.prototype.dump=function(b){xa(b,this.Ha.jd())};ba=b;var B=[];l.prototype.Xc=
function(){if(!this.Ha.length)return!0;if(this.Ha.length>this.Lc.count())return!1;this.bj();return!0};l.prototype.Bj=function(b){this.Lc.contains(b)?(this.Lc.remove(b),this.Lc.Xc()&&(this.wf=!1)):this.Ha.length?(this.Ha[this.Ha.length-1].Hc()>b.Hc()&&(this.Te=!1),this.Ha.push(b)):(this.Ha.push(b),this.Te=!0)};l.prototype.remove=function(b){this.Lc.add(b);this.wf=!0;30<=this.Lc.count()&&this.bj()};l.prototype.bj=function(){this.wf&&(this.Lc.count()===this.Ha.length?this.reset():(Ra(this.Ha,this.Lc),
this.Lc.clear(),this.wf=!1))};l.prototype.Fp=function(){this.Te||(this.Ha.sort(h),this.Te=!0)};l.prototype.reset=function(){V(this.Ha);this.Te=!0;this.Lc.clear();this.wf=!1};l.prototype.dump=function(b){this.bj();this.Fp();this.Ha.length&&b.push(this.Ha)};da=l;var I="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");$a=function(b){return 0>=b||11<=b?"source-over":I[b-1]};ab=function(b,a,c){if(c)switch(b.Va=c.ONE,b.Ta=c.ONE_MINUS_SRC_ALPHA,
a){case 1:b.Va=c.ONE;b.Ta=c.ONE;break;case 3:b.Va=c.ONE;b.Ta=c.ZERO;break;case 4:b.Va=c.ONE_MINUS_DST_ALPHA;b.Ta=c.ONE;break;case 5:b.Va=c.DST_ALPHA;b.Ta=c.ZERO;break;case 6:b.Va=c.ZERO;b.Ta=c.SRC_ALPHA;break;case 7:b.Va=c.ONE_MINUS_DST_ALPHA;b.Ta=c.ZERO;break;case 8:b.Va=c.ZERO;b.Ta=c.ONE_MINUS_SRC_ALPHA;break;case 9:b.Va=c.DST_ALPHA;b.Ta=c.ONE_MINUS_SRC_ALPHA;break;case 10:b.Va=c.ONE_MINUS_DST_ALPHA,b.Ta=c.SRC_ALPHA}};bb=function(b){return Math.round(1E6*b)/1E6};cb=function(b,a){return"string"!==
typeof b||"string"!==typeof a||b.length!==a.length?!1:b===a?!0:b.toLowerCase()===a.toLowerCase()};db=function(b){b=b.target;return!b||b===document||b===window||document&&document.body&&b===document.body||cb(b.tagName,"canvas")?!0:!1}})();var Xb="undefined"!==typeof Float32Array?Float32Array:Array;function Yb(d){var q=new Xb(3);d&&(q[0]=d[0],q[1]=d[1],q[2]=d[2]);return q}
function Zb(d){var q=new Xb(16);d&&(q[0]=d[0],q[1]=d[1],q[2]=d[2],q[3]=d[3],q[4]=d[4],q[5]=d[5],q[6]=d[6],q[7]=d[7],q[8]=d[8],q[9]=d[9],q[10]=d[10],q[11]=d[11],q[12]=d[12],q[13]=d[13],q[14]=d[14],q[15]=d[15]);return q}function $b(d,q){q[0]=d[0];q[1]=d[1];q[2]=d[2];q[3]=d[3];q[4]=d[4];q[5]=d[5];q[6]=d[6];q[7]=d[7];q[8]=d[8];q[9]=d[9];q[10]=d[10];q[11]=d[11];q[12]=d[12];q[13]=d[13];q[14]=d[14];q[15]=d[15]}
function ac(d,q){var m=q[0],n=q[1];q=q[2];d[0]*=m;d[1]*=m;d[2]*=m;d[3]*=m;d[4]*=n;d[5]*=n;d[6]*=n;d[7]*=n;d[8]*=q;d[9]*=q;d[10]*=q;d[11]*=q}
function bc(d,q,m,n){n||(n=Zb());var v,p,f,a,c,e,b,g,l=d[0],h=d[1];d=d[2];p=m[0];f=m[1];v=m[2];m=q[1];e=q[2];l===q[0]&&h===m&&d===e?(d=n,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(m=l-q[0],e=h-q[1],b=d-q[2],g=1/Math.sqrt(m*m+e*e+b*b),m*=g,e*=g,b*=g,q=f*b-v*e,v=v*m-p*b,p=p*e-f*m,(g=Math.sqrt(q*q+v*v+p*p))?(g=1/g,q*=g,v*=g,p*=g):p=v=q=0,f=e*p-b*v,a=b*q-m*p,c=m*v-e*q,(g=Math.sqrt(f*f+a*a+c*c))?(g=1/g,f*=g,a*=g,c*=g):c=a=f=0,
n[0]=q,n[1]=f,n[2]=m,n[3]=0,n[4]=v,n[5]=a,n[6]=e,n[7]=0,n[8]=p,n[9]=c,n[10]=b,n[11]=0,n[12]=-(q*l+v*h+p*d),n[13]=-(f*l+a*h+c*d),n[14]=-(m*l+e*h+b*d),n[15]=1)}
(function(){function d(a,c,e){this.yd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.T=!!e;this.rh=this.Tf=!1;this.Ug=0;this.vi=1;this.Zk=1E3;this.us=(this.Zk-this.vi)/32768;this.Ki=Yb([0,0,100]);this.Bm=Yb([0,0,0]);this.Vn=Yb([0,1,0]);this.Hg=Yb([1,1,1]);this.Fl=!0;this.Kh=Zb();this.Ib=Zb();this.Pj=Zb();this.Vi=Zb();this.m=a;this.am()}function q(a,c,e){this.m=a;this.xg=c;this.name=e;this.Wb=a.getAttribLocation(c,"aPos");this.Jd=a.getAttribLocation(c,
"aTex");this.zm=a.getUniformLocation(c,"matP");this.Gh=a.getUniformLocation(c,"matMV");this.$e=a.getUniformLocation(c,"opacity");this.Xj=a.getUniformLocation(c,"colorFill");this.Am=a.getUniformLocation(c,"samplerFront");this.hg=a.getUniformLocation(c,"samplerBack");this.re=a.getUniformLocation(c,"destStart");this.qe=a.getUniformLocation(c,"destEnd");this.jg=a.getUniformLocation(c,"seconds");this.Zj=a.getUniformLocation(c,"pixelWidth");this.Yj=a.getUniformLocation(c,"pixelHeight");this.gg=a.getUniformLocation(c,
"layerScale");this.fg=a.getUniformLocation(c,"layerAngle");this.kg=a.getUniformLocation(c,"viewOrigin");this.ig=a.getUniformLocation(c,"scrollPos");this.Uq=!!(this.Zj||this.Yj||this.jg||this.hg||this.re||this.qe||this.gg||this.fg||this.kg||this.ig);this.Jm=this.Km=-999;this.Jh=1;this.Fm=this.Em=0;this.Hm=this.Dm=this.Cm=1;this.Nm=this.Mm=this.Lm=this.Pm=this.Om=this.Gm=0;this.Oj=[];this.Im=Zb();this.$e&&a.uniform1f(this.$e,1);this.Xj&&a.uniform4f(this.Xj,1,1,1,1);this.Am&&a.uniform1i(this.Am,0);this.hg&&
a.uniform1i(this.hg,1);this.re&&a.uniform2f(this.re,0,0);this.qe&&a.uniform2f(this.qe,1,1);this.gg&&a.uniform1f(this.gg,1);this.fg&&a.uniform1f(this.fg,0);this.kg&&a.uniform2f(this.kg,0,0);this.ig&&a.uniform2f(this.ig,0,0);this.jg&&a.uniform1f(this.jg,0);this.ie=!1}function m(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===
c[15]}function n(a,c){this.type=a;this.j=c;this.m=c.m;this.gb=this.Pa=this.$m=0;this.I=this.ac=null;this.Dn=[]}var v=Zb();d.prototype.am=function(){var a=this.m,c;this.tm=1;this.ne=this.Dd=null;this.Tg=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.T?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.um=a.ONE;this.pm=a.ONE_MINUS_SRC_ALPHA;
this.Gg=new Float32Array(8E3*(this.T?3:2));this.Bg=new Float32Array(16E3);this.ik=new Float32Array(32E3);this.hk=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.hk);a.bufferData(a.ARRAY_BUFFER,this.ik.byteLength,a.DYNAMIC_DRAW);this.Fg=Array(4);this.Ag=Array(4);for(c=0;4>c;c++)this.Fg[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Fg[c]),a.bufferData(a.ARRAY_BUFFER,this.Gg.byteLength,a.DYNAMIC_DRAW),this.Ag[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Ag[c]),a.bufferData(a.ARRAY_BUFFER,
this.Bg.byteLength,a.DYNAMIC_DRAW);this.Rc=0;this.Xq=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Xq);for(var e=new Uint16Array(12E3),b=c=0;12E3>c;)e[c++]=b,e[c++]=b+1,e[c++]=b+2,e[c++]=b,e[c++]=b+2,e[c++]=b+3,b+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,e,a.STATIC_DRAW);this.gf=this.Sd=this.ec=0;this.ja=[];c=this.T?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.Ef({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},c,"<default>");this.ja.push(e);e=this.Ef({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ja.push(e);e=this.Ef({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},c,"<earlyz>");this.ja.push(e);e=this.Ef({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
c,"<fill>");this.ja.push(e);for(var g in cc)cc.hasOwnProperty(g)&&this.ja.push(this.Ef(cc[g],c,g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.jc=[];this.Rb=0;this.Ma=this.wa=!1;this.Bl=this.$f=-1;this.Ie=null;this.aj=a.createFramebuffer();this.Wg=this.Xh=null;this.jl=!1;this.T&&(this.Wg=a.createRenderbuffer());this.Td=Yb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.mr=a[0];this.ak=a[1];2048<this.ak&&(this.ak=2048);this.jb(0)};q.prototype.Sk=function(a){m(this.Im,
a)||($b(a,this.Im),this.m.uniformMatrix4fv(this.Gh,!1,a))};d.prototype.Ef=function(a,c,e){var b=this.m,g=b.createShader(b.FRAGMENT_SHADER);b.shaderSource(g,a.src);b.compileShader(g);if(!b.getShaderParameter(g,b.COMPILE_STATUS))return b.deleteShader(g),null;var l=b.createShader(b.VERTEX_SHADER);b.shaderSource(l,c);b.compileShader(l);if(!b.getShaderParameter(l,b.COMPILE_STATUS))return b.deleteShader(g),b.deleteShader(l),null;c=b.createProgram();b.attachShader(c,g);b.attachShader(c,l);b.linkProgram(c);
if(!b.getProgramParameter(c,b.LINK_STATUS))return b.deleteShader(g),b.deleteShader(l),b.deleteProgram(c),null;b.useProgram(c);b.deleteShader(g);b.deleteShader(l);e=new q(b,c,e);e.$g=a.$g||0;e.ah=a.ah||0;e.Ui=!!a.Ui;e.Xb=!!a.Xb;e.Ei=!!a.Ei;e.H=a.H||[];a=0;for(g=e.H.length;a<g;a++)e.H[a][1]=b.getUniformLocation(c,e.H[a][0]),e.Oj.push(0),b.uniform1f(e.H[a][1],0);return e};d.prototype.oj=function(a){var c,e;c=0;for(e=this.ja.length;c<e;c++)if(this.ja[c].name===a)return c;return-1};d.prototype.jn=function(a,
c,e){var b=this.Ib,g=this.Kh,l=[0,0,0,0,0,0,0,0];l[0]=b[0]*a+b[4]*c+b[12];l[1]=b[1]*a+b[5]*c+b[13];l[2]=b[2]*a+b[6]*c+b[14];l[3]=b[3]*a+b[7]*c+b[15];l[4]=g[0]*l[0]+g[4]*l[1]+g[8]*l[2]+g[12]*l[3];l[5]=g[1]*l[0]+g[5]*l[1]+g[9]*l[2]+g[13]*l[3];l[6]=g[2]*l[0]+g[6]*l[1]+g[10]*l[2]+g[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],e[0]=(.5*l[4]+.5)*this.width,e[1]=(.5*l[5]+.5)*this.height)};d.prototype.we=function(a,c,e){if(this.width!==a||this.height!==c||e){this.Fc();e=this.m;
this.width=a;this.height=c;e.viewport(0,0,a,c);bc(this.Ki,this.Bm,this.Vn,this.Ib);if(this.T){var b=-a/2;a=a/2;var g=c/2;c=-c/2;var l=this.vi,h=this.Zk,f=this.Kh;f||(f=Zb());var d=a-b,p=c-g,k=h-l;f[0]=2/d;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/p;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=-2/k;f[11]=0;f[12]=-(b+a)/d;f[13]=-(c+g)/p;f[14]=-(h+l)/k;f[15]=1;this.Hg[0]=1;this.Hg[1]=1}else c=a/c,b=this.vi,a=this.Zk,f=this.Kh,h=b*Math.tan(45*Math.PI/360),c*=h,g=-c,l=-h,f||(f=Zb()),d=c-g,p=h-l,k=a-b,f[0]=2*b/d,f[1]=0,
f[2]=0,f[3]=0,f[4]=0,f[5]=2*b/p,f[6]=0,f[7]=0,f[8]=(c+g)/d,f[9]=(h+l)/p,f[10]=-(a+b)/k,f[11]=-1,f[12]=0,f[13]=0,f[14]=-(a*b*2)/k,f[15]=0,b=[0,0],a=[0,0],this.jn(0,0,b),this.jn(1,1,a),this.Hg[0]=1/(a[0]-b[0]),this.Hg[1]=-1/(a[1]-b[1]);b=0;for(a=this.ja.length;b<a;b++)g=this.ja[b],g.ie=!1,g.zm&&(e.useProgram(g.xg),e.uniformMatrix4fv(g.zm,!1,this.Kh));e.useProgram(this.ja[this.$f].xg);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);
this.ne=this.Dd=null;this.Wg&&(e.bindFramebuffer(e.FRAMEBUFFER,this.aj),e.bindRenderbuffer(e.RENDERBUFFER,this.Wg),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.jl||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.Wg),this.jl=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.Xh=null)}};d.prototype.Yb=function(){bc(this.Ki,this.Bm,this.Vn,this.Ib);ac(this.Ib,this.Hg)};d.prototype.translate=function(a,
c){if(0!==a||0!==c){this.Td[0]=a;this.Td[1]=c;this.Td[2]=0;var e=this.Ib,b=this.Td,g=b[0],l=b[1],b=b[2];e[12]=e[0]*g+e[4]*l+e[8]*b+e[12];e[13]=e[1]*g+e[5]*l+e[9]*b+e[13];e[14]=e[2]*g+e[6]*l+e[10]*b+e[14];e[15]=e[3]*g+e[7]*l+e[11]*b+e[15]}};d.prototype.scale=function(a,c){if(1!==a||1!==c)this.Td[0]=a,this.Td[1]=c,this.Td[2]=1,ac(this.Ib,this.Td)};d.prototype.Zh=function(a){if(0!==a){var c=this.Ib,e,b=Math.sin(a);a=Math.cos(a);var g=c[0],l=c[1],h=c[2],f=c[3],d=c[4],p=c[5],k=c[6],t=c[7];e?c!==e&&(e[8]=
c[8],e[9]=c[9],e[10]=c[10],e[11]=c[11],e[12]=c[12],e[13]=c[13],e[14]=c[14],e[15]=c[15]):e=c;e[0]=g*a+d*b;e[1]=l*a+p*b;e[2]=h*a+k*b;e[3]=f*a+t*b;e[4]=g*-b+d*a;e[5]=l*-b+p*a;e[6]=h*-b+k*a;e[7]=f*-b+t*a}};d.prototype.Ob=function(){if(!m(this.Pj,this.Ib)){var a=this.Za();a.type=5;a.I?$b(this.Ib,a.I):a.I=Zb(this.Ib);$b(this.Ib,this.Pj);this.Ma=this.wa=!1}};d.prototype.ai=function(a){this.T&&(32760<a&&(a=32760),this.Ug=this.Ki[2]-this.vi-a*this.us)};n.prototype.pp=function(){var a=this.m,c=this.j;0!==this.Pa?
(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,c.aj),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),c.rh=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),c.rh=!1)};n.prototype.tp=function(){this.m.bindTexture(this.m.TEXTURE_2D,this.ac)};n.prototype.up=function(){var a=this.m;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ac);a.activeTexture(a.TEXTURE0)};
n.prototype.qp=function(){var a=this.$m,c=this.j;c.Tg=a;c=c.Ie;c.$e&&c.Jh!==a&&(c.Jh=a,this.m.uniform1f(c.$e,a))};n.prototype.kp=function(){this.m.drawElements(this.m.TRIANGLES,this.gb,this.m.UNSIGNED_SHORT,this.Pa)};n.prototype.mp=function(){this.m.blendFunc(this.Pa,this.gb)};n.prototype.vp=function(){var a,c,e,b=this.j.ja,g=this.j.Bl;a=0;for(c=b.length;a<c;a++)e=b[a],a===g&&e.Gh?(e.Sk(this.I),e.ie=!0):e.ie=!1;$b(this.I,this.j.Vi)};n.prototype.lp=function(){var a=this.m,c=this.j;this.ac?(c.ne===
this.ac&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),c.ne=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.aj),c.rh||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ac,0)):(c.T||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};n.prototype.hp=function(){var a=this.m,c=this.Pa;0===c?(a.clearColor(this.I[0],this.I[1],this.I[2],this.I[3]),a.clear(a.COLOR_BUFFER_BIT)):1===
c?(a.enable(a.SCISSOR_TEST),a.scissor(this.I[0],this.I[1],this.I[2],this.I[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};n.prototype.op=function(){var a=this.m;0!==this.Pa?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};n.prototype.jp=function(){var a=this.m,c=this.j;c.T&&a.disable(a.DEPTH_TEST);var e=c.ja[1];a.useProgram(e.xg);!e.ie&&e.Gh&&(e.Sk(c.Vi),e.ie=!0);a.enableVertexAttribArray(e.Wb);a.bindBuffer(a.ARRAY_BUFFER,c.hk);a.vertexAttribPointer(e.Wb,
4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Pa/4,this.gb);e=c.Ie;a.useProgram(e.xg);0<=e.Wb&&(a.enableVertexAttribArray(e.Wb),a.bindBuffer(a.ARRAY_BUFFER,c.Fg[c.Rc]),a.vertexAttribPointer(e.Wb,c.T?3:2,a.FLOAT,!1,0,0));0<=e.Jd&&(a.enableVertexAttribArray(e.Jd),a.bindBuffer(a.ARRAY_BUFFER,c.Ag[c.Rc]),a.vertexAttribPointer(e.Jd,2,a.FLOAT,!1,0,0));c.T&&a.enable(a.DEPTH_TEST)};n.prototype.rp=function(){var a=this.m,c=this.j,e=c.ja[this.Pa];c.Bl=this.Pa;c.Ie=e;a.useProgram(e.xg);!e.ie&&e.Gh&&(e.Sk(c.Vi),
e.ie=!0);e.$e&&e.Jh!==c.Tg&&(e.Jh=c.Tg,a.uniform1f(e.$e,c.Tg));0<=e.Wb&&(a.enableVertexAttribArray(e.Wb),a.bindBuffer(a.ARRAY_BUFFER,c.Fg[c.Rc]),a.vertexAttribPointer(e.Wb,c.T?3:2,a.FLOAT,!1,0,0));0<=e.Jd&&(a.enableVertexAttribArray(e.Jd),a.bindBuffer(a.ARRAY_BUFFER,c.Ag[c.Rc]),a.vertexAttribPointer(e.Jd,2,a.FLOAT,!1,0,0))};n.prototype.np=function(){var a=this.I;this.m.uniform4f(this.j.Ie.Xj,a[0],a[1],a[2],a[3])};n.prototype.sp=function(){var a,c,e=this.j.Ie,b=this.m;a=this.I;e.hg&&this.j.ne!==this.ac&&
(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,this.ac),this.j.ne=this.ac,b.activeTexture(b.TEXTURE0));var g=a[0];e.Zj&&g!==e.Km&&(e.Km=g,b.uniform1f(e.Zj,g));g=a[1];e.Yj&&g!==e.Jm&&(e.Jm=g,b.uniform1f(e.Yj,g));g=a[2];c=a[3];!e.re||g===e.Em&&c===e.Fm||(e.Em=g,e.Fm=c,b.uniform2f(e.re,g,c));g=a[4];c=a[5];!e.qe||g===e.Cm&&c===e.Dm||(e.Cm=g,e.Dm=c,b.uniform2f(e.qe,g,c));g=a[6];e.gg&&g!==e.Hm&&(e.Hm=g,b.uniform1f(e.gg,g));g=a[7];e.fg&&g!==e.Gm&&(e.Gm=g,b.uniform1f(e.fg,g));g=a[8];c=a[9];!e.kg||
g===e.Om&&c===e.Pm||(e.Om=g,e.Pm=c,b.uniform2f(e.kg,g,c));g=a[10];c=a[11];!e.ig||g===e.Lm&&c===e.Mm||(e.Lm=g,e.Mm=c,b.uniform2f(e.ig,g,c));g=a[12];e.jg&&g!==e.Nm&&(e.Nm=g,b.uniform1f(e.jg,g));if(e.H.length)for(a=0,c=e.H.length;a<c;a++)g=this.Dn[a],g!==e.Oj[a]&&(e.Oj[a]=g,b.uniform1f(e.H[a][1],g))};d.prototype.Za=function(){this.Rb===this.jc.length&&this.jc.push(new n(0,this));return this.jc[this.Rb++]};d.prototype.Fc=function(){if(0!==this.Rb&&!this.m.isContextLost()){var a=this.m;0<this.gf&&(a.bindBuffer(a.ARRAY_BUFFER,
this.hk),a.bufferSubData(a.ARRAY_BUFFER,0,this.ik.subarray(0,this.gf)),c&&0<=c.Wb&&"<point>"===c.name&&a.vertexAttribPointer(c.Wb,4,a.FLOAT,!1,0,0));if(0<this.ec){var c=this.Ie;a.bindBuffer(a.ARRAY_BUFFER,this.Fg[this.Rc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Gg.subarray(0,this.ec));c&&0<=c.Wb&&"<point>"!==c.name&&a.vertexAttribPointer(c.Wb,this.T?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Ag[this.Rc]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Bg.subarray(0,this.Sd));c&&0<=c.Jd&&"<point>"!==
c.name&&a.vertexAttribPointer(c.Jd,2,a.FLOAT,!1,0,0)}for(var e,a=0,c=this.Rb;a<c;a++)switch(e=this.jc[a],e.type){case 1:e.kp();break;case 2:e.tp();break;case 3:e.qp();break;case 4:e.mp();break;case 5:e.vp();break;case 6:e.lp();break;case 7:e.hp();break;case 8:e.jp();break;case 9:e.rp();break;case 10:e.sp();break;case 11:e.up();break;case 12:e.np();break;case 13:e.op();break;case 14:e.pp()}this.gf=this.Sd=this.ec=this.Rb=0;this.rh=this.Ma=this.wa=!1;this.Rc++;4<=this.Rc&&(this.Rc=0)}};d.prototype.Qd=
function(a){if(a!==this.tm&&!this.Tf){var c=this.Za();c.type=3;this.tm=c.$m=a;this.Ma=this.wa=!1}};d.prototype.Da=function(a){if(a!==this.Dd){var c=this.Za();c.type=2;this.Dd=c.ac=a;this.Ma=this.wa=!1}};d.prototype.Pd=function(a,c){if((a!==this.um||c!==this.pm)&&!this.Tf){var e=this.Za();e.type=4;e.Pa=a;e.gb=c;this.um=a;this.pm=c;this.Ma=this.wa=!1}};d.prototype.vn=function(){this.Pd(this.m.ONE,this.m.ONE_MINUS_SRC_ALPHA)};d.prototype.Nd=function(a,c,e,b,g,l,h,f){15992<=this.ec&&this.Fc();var d=this.ec,
p=this.Sd,k=this.Gg,t=this.Bg,q=this.Ug;if(this.wa)this.jc[this.Rb-1].gb+=6;else{var m=this.Za();m.type=1;m.Pa=this.T?d:d/2*3;m.gb=6;this.wa=!0;this.Ma=!1}this.T?(k[d++]=a,k[d++]=c,k[d++]=q,k[d++]=e,k[d++]=b,k[d++]=q,k[d++]=g,k[d++]=l,k[d++]=q,k[d++]=h,k[d++]=f,k[d++]=q):(k[d++]=a,k[d++]=c,k[d++]=e,k[d++]=b,k[d++]=g,k[d++]=l,k[d++]=h,k[d++]=f);t[p++]=0;t[p++]=0;t[p++]=1;t[p++]=0;t[p++]=1;t[p++]=1;t[p++]=0;t[p++]=1;this.ec=d;this.Sd=p};d.prototype.Od=function(a,c,e,b,g,l,h,f,d){15992<=this.ec&&this.Fc();
var p=this.ec,k=this.Sd,t=this.Gg,q=this.Bg,m=this.Ug;if(this.wa)this.jc[this.Rb-1].gb+=6;else{var n=this.Za();n.type=1;n.Pa=this.T?p:p/2*3;n.gb=6;this.wa=!0;this.Ma=!1}var n=d.left,A=d.top,v=d.right;d=d.bottom;this.T?(t[p++]=a,t[p++]=c,t[p++]=m,t[p++]=e,t[p++]=b,t[p++]=m,t[p++]=g,t[p++]=l,t[p++]=m,t[p++]=h,t[p++]=f,t[p++]=m):(t[p++]=a,t[p++]=c,t[p++]=e,t[p++]=b,t[p++]=g,t[p++]=l,t[p++]=h,t[p++]=f);q[k++]=n;q[k++]=A;q[k++]=v;q[k++]=A;q[k++]=v;q[k++]=d;q[k++]=n;q[k++]=d;this.ec=p;this.Sd=k};d.prototype.mn=
function(a,c,e,b,g,l,h,f,d,p,k,t,q){15992<=this.ec&&this.Fc();var m=this.ec,n=this.Sd,A=this.Gg,v=this.Bg,z=this.Ug;if(this.wa)this.jc[this.Rb-1].gb+=6;else{var B=this.Za();B.type=1;B.Pa=this.T?m:m/2*3;B.gb=6;this.wa=!0;this.Ma=!1}this.T?(A[m++]=a,A[m++]=c,A[m++]=z,A[m++]=e,A[m++]=b,A[m++]=z,A[m++]=g,A[m++]=l,A[m++]=z,A[m++]=h,A[m++]=f,A[m++]=z):(A[m++]=a,A[m++]=c,A[m++]=e,A[m++]=b,A[m++]=g,A[m++]=l,A[m++]=h,A[m++]=f);v[n++]=d;v[n++]=p;v[n++]=k;v[n++]=0;v[n++]=t;v[n++]=0;v[n++]=q;v[n++]=0;this.ec=
m;this.Sd=n};d.prototype.zl=function(a){var c=a.length/2-2,e=c-1,b=a[0],g=a[1],l,h,f,d,p,k,t;for(l=0;l<c;l+=2)h=2*l,f=a[h+2],d=a[h+3],p=a[h+4],k=a[h+5],l===e?this.Nd(b,g,f,d,p,k,p,k):(t=a[h+6],h=a[h+7],this.Nd(b,g,f,d,p,k,t,h))};d.prototype.Gr=function(a,c,e,b){7996<=this.gf&&this.Fc();var g=this.gf,l=this.ik;if(this.Ma)this.jc[this.Rb-1].gb++;else{var h=this.Za();h.type=8;h.Pa=g;h.gb=1;this.Ma=!0;this.wa=!1}l[g++]=a;l[g++]=c;l[g++]=e;l[g++]=b;this.gf=g};d.prototype.jb=function(a){if(this.$f!==a){if(!this.ja[a]){if(0===
this.$f)return;a=0}var c=this.Za();c.type=9;this.$f=c.Pa=a;this.Ma=this.wa=!1}};d.prototype.sg=function(a){a=this.ja[a];return!(!a.re&&!a.qe)};d.prototype.mk=function(a){a=this.ja[a];return!!(a.re||a.qe||a.Ui)};d.prototype.lk=function(a){return this.ja[a].Xb};d.prototype.Or=function(a){a=this.ja[a];return 0!==a.$g||0!==a.ah};d.prototype.Bq=function(a){return this.ja[a].$g};d.prototype.Cq=function(a){return this.ja[a].ah};d.prototype.Dq=function(a,c){return this.ja[a].H[c][2]};d.prototype.Uh=function(a){return this.ja[a].Ei};
d.prototype.nf=function(a,c,e,b,g,l,h,f,d,p,k,t,q,m,n){var A=this.ja[this.$f],v,z;if(A.Uq||n.length){v=this.Za();v.type=10;v.I?$b(this.Ib,v.I):v.I=Zb();z=v.I;z[0]=c;z[1]=e;z[2]=b;z[3]=g;z[4]=l;z[5]=h;z[6]=f;z[7]=d;z[8]=p;z[9]=k;z[10]=t;z[11]=q;z[12]=m;A.hg?v.ac=a:v.ac=null;if(n.length)for(e=v.Dn,e.length=n.length,a=0,c=n.length;a<c;a++)e[a]=n[a];this.Ma=this.wa=!1}};d.prototype.clear=function(a,c,e,b){var g=this.Za();g.type=7;g.Pa=0;g.I||(g.I=Zb());g.I[0]=a;g.I[1]=c;g.I[2]=e;g.I[3]=b;this.Ma=this.wa=
!1};d.prototype.clearRect=function(a,c,e,b){if(!(0>e||0>b)){var g=this.Za();g.type=7;g.Pa=1;g.I||(g.I=Zb());g.I[0]=a;g.I[1]=c;g.I[2]=e;g.I[3]=b;this.Ma=this.wa=!1}};d.prototype.yn=function(a){if(this.T&&(a=!!a,this.Tf!==a)){var c=this.Za();c.type=14;c.Pa=a?1:0;this.Ma=this.wa=!1;this.Tf=a;this.Xh=null;this.Tf?this.jb(2):this.jb(0)}};d.prototype.xn=function(a){if(this.T){var c=this.Za();c.type=13;c.Pa=a?1:0;this.Ma=this.wa=!1}};d.prototype.Nl=function(){$b(this.Pj,v);this.Yb();this.Ob();var a=this.width/
2,c=this.height/2;this.Nd(-a,c,a,c,a,-c,-a,-c);$b(v,this.Ib);this.Ob()};d.prototype.wn=function(a,c,e){this.jb(3);var b=this.Za();b.type=12;b.I||(b.I=Zb());b.I[0]=a;b.I[1]=c;b.I[2]=e;b.I[3]=1;this.Ma=this.wa=!1};d.prototype.bs=function(){this.jb(0)};d.prototype.Sr=function(){this.jb(2)};d.prototype.Nr=function(){this.Fc();this.m.flush()};var p=[],f={};d.prototype.Xo=function(){V(p);f={}};d.prototype.Eh=function(a,c,e,b){c=!!c;e=!!e;var g=a.src+","+c+","+e+(c?",undefined":""),l=null;if("undefined"!==
typeof a.src&&f.hasOwnProperty(g))return l=f[g],l.Lg++,l;this.Fc();var h=this.m,d=ha(a.width)&&ha(a.height),l=h.createTexture();h.bindTexture(h.TEXTURE_2D,l);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=h.RGBA,q=h.RGBA,k=h.UNSIGNED_BYTE;if(b&&!this.yd)switch(b){case 1:q=r=h.RGB;break;case 2:k=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:k=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:q=r=h.RGB,k=h.UNSIGNED_SHORT_5_6_5}if(!d&&c){b=document.createElement("canvas");b.width=ja(a.width);b.height=ja(a.height);
var t=b.getContext("2d");"undefined"!==typeof t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e);t.drawImage(a,0,0,a.width,a.height,0,0,b.width,b.height);h.texImage2D(h.TEXTURE_2D,0,r,q,k,b)}else h.texImage2D(h.TEXTURE_2D,0,r,q,k,a);c?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),
h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));e?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),d&&this.Fl?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.Dd=null;l.$d=a.width;l.Zd=a.height;
l.Lg=1;l.sl=g;p.push(l);return f[g]=l};d.prototype.bb=function(a,c,e,b,g){this.Fc();var l=this.m;this.yd&&(b=!1);var h=l.createTexture();l.bindTexture(l.TEXTURE_2D,h);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,c,0,l.RGBA,b?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);g?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));
l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,e?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,e?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.Dd=null;h.$d=a;h.Zd=c;p.push(h);return h};d.prototype.Wk=function(a,c,e){this.Fc();var b=this.m;this.yd&&(e=!1);b.bindTexture(b.TEXTURE_2D,c);b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,e?b.UNSIGNED_SHORT_4_4_4_4:b.UNSIGNED_BYTE,a)}catch(g){console&&console.error&&console.error("Error updating WebGL texture: ",
g)}b.bindTexture(b.TEXTURE_2D,null);this.Dd=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Lg&&1<a.Lg?a.Lg--:(this.Fc(),a===this.Dd&&(this.m.bindTexture(this.m.TEXTURE_2D,null),this.Dd=null),a===this.ne&&(this.m.activeTexture(this.m.TEXTURE1),this.m.bindTexture(this.m.TEXTURE_2D,null),this.m.activeTexture(this.m.TEXTURE0),this.ne=null),za(p,a),"undefined"!==typeof a.sl&&delete f[a.sl],this.m.deleteTexture(a)))};d.prototype.Zb=function(a){if(a!==this.Xh){var c=this.Za();c.type=
6;this.Xh=c.ac=a;this.Ma=this.wa=!1}};eb=d})();
(function(){function d(b){if(b&&(b.getContext||b.dc)&&!b.c2runtime){b.c2runtime=this;var a=this;this.Wc=(this.sh=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.me=!!b.dc;this.$q="undefined"!==typeof window.AppMobi||
this.me;this.pc=!!window.c2cocoonjs;this.qc=!!window.c2ejecta;this.pc&&(CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(!1)}));this.qc&&(document.addEventListener("pagehide",function(){a.setSuspended(!0)}),document.addEventListener("pageshow",function(){a.setSuspended(!1)}),document.addEventListener("resize",function(){a.setSize(window.innerWidth,window.innerHeight)}));this.hb=this.me||this.pc||this.qc;this.uh=
/edge\//i.test(navigator.userAgent);this.yd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.uh;this.jm=/tizen/i.test(navigator.userAgent);this.hm=/android/i.test(navigator.userAgent)&&!this.jm&&!this.yd&&!this.uh;this.om=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.yd&&!this.uh;this.fr=/ipad/i.test(navigator.userAgent);this.Nj=this.om||this.fr||this.qc;this.Ej=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.yd&&!this.uh;this.gm=/amazonwebappplatform/i.test(navigator.userAgent);this.cr=/firefox/i.test(navigator.userAgent);this.Bd="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.mm=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.er=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Re=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Kj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.lm=!!window.cr_windows10;this.km=this.mm||this.er||this.Kj||this.lm;this.br=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.im=this.hm&&!this.Ej&&!this.sh&&!this.cr&&!this.gm&&!this.hb;this.devicePixelRatio=1;this.Ad=this.Wc||this.sh||this.$q||this.pc||this.hm||this.Nj||this.Re||this.Kj||this.br||this.jm||this.qc;this.Ad||
(this.Ad=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Jj=!!(this.Nj&&this.Wc&&window.webkit);this.vj=null;this.Vq="";this.Jj&&(this.vj=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Bd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Bd=!0);this.canvas=b;this.ul=document.getElementById("c2canvasdiv");
this.j=this.m=null;this.pj="(unavailable)";this.T=!1;this.ee=0;this.ea=null;this.dj="";this.eh=!1;this.Ym=this.Zm=0;this.canvas.oncontextmenu=function(b){b.preventDefault&&b.preventDefault();return!1};this.canvas.onselectstart=function(b){b.preventDefault&&b.preventDefault();return!1};this.me&&(window.c2runtime=this);this.Bd&&(window.ondragover=function(b){b.preventDefault();return!1},window.ondrop=function(b){b.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.im&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=b.width;this.height=b.height;this.A=this.width;this.u=this.height;this.Rg=this.width;this.Gf=this.height;this.We=window.innerWidth;this.Ve=window.innerHeight;this.nq=!1;this.S=!0;this.Wf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.k=[];this.da=[];this.Rj={};this.rc=[];this.$i={};this.Tc=[];this.uf=[];this.ni=[];this.Lo=[];this.Mo=[];this.Ak=null;this.be=
{};this.Gj=this.xd=!1;this.Yc=0;this.Fj=this.Ij=!1;this.lc=[];this.Uf=!1;this.Zc=this.Ua=this.Ch=this.zk="";this.zg=this.Gn=!1;this.dh=[];this.de=this.Le=0;this.Qm=30;this.Si=this.lg=0;this.Cg=1;this.Vb=new Va;this.ri=new Va;this.Nh=this.ih=this.Zg=this.gd=this.pe=this.cj=this.xh=0;this.Af=null;this.Dl=[];this.Zi=[];this.Yg=-1;this.$j=[[]];this.Nk=this.Hh=0;this.ok(null);this.Kf=this.Vm=this.ng=0;this.ii=[];this.Kk=this.qk=-1;this.Yf=!0;this.Fh=0;this.Vf=!1;this.gs=0;this.zf=null;this.zd=this.Xl=
!1;this.Xm=new ca;this.dk=new ca;this.ek=new ca;this.pn=[];new Xa([]);new Xa([]);this.Fe=[];this.mh={};this.sd={};this.od={};this.tf={};this.pl={};this.xm=this.Bh=this.qa=this.za=this.wm=this.Ah=this.U=null;this.rf=this.Lj=!1;this.ej=[null,null];this.he=0;this.bd={};this.yg=this.Hd=null;this.Hn="";this.Mh=[];this.Rr()}}function q(b,a){return 128>=a?b[3]:256>=a?b[2]:512>=a?b[1]:b[0]}function m(){try{return!!window.indexedDB}catch(b){return!1}}function n(b){b.target.result.createObjectStore("saves",
{keyPath:"slot"})}function v(b,a,c,g){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=n;h.onerror=g;h.onsuccess=function(h){h=h.target.result;h.onerror=g;h.transaction(["saves"],"readwrite").objectStore("saves").put({slot:b,data:a}).onsuccess=c}}catch(e){g(e)}}function p(b,a,c){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=n;g.onerror=c;g.onsuccess=function(g){g=g.target.result;g.onerror=c;var h=g.transaction(["saves"]).objectStore("saves").get(b);h.onsuccess=function(){h.result?
a(h.result.data):a(null)}}}catch(h){c(h)}}function f(){w("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(b){var a,c={};for(a in b)!b.hasOwnProperty(a)||b[a]instanceof ca||b[a]&&"undefined"!==typeof b[a].Ht||"spriteCreatedDestroyCallback"!==a&&(c[a]=b[a]);return c}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Rr=function(){var b=this;if(this.Jj)this.vj?this.vj.startServer({port:0,localhost_only:!0},function(a){b.Vq=a;b.Kl(function(a){b.Ze(JSON.parse(a))},function(){alert("Error fetching data.js")})},function(b){alert("error starting local server: "+b)}):this.Kl(function(a){b.Ze(JSON.parse(a))},function(){alert("Error fetching data.js")});else{var a;this.Re?a=new ActiveXObject("Microsoft.XMLHTTP"):a=new XMLHttpRequest;var c="data.js";
if(this.mm||this.Re||this.Kj||this.lm)c="data.json";a.open("GET",c,!0);var g=!1;if(!this.hb&&"response"in a&&"responseType"in a)try{a.responseType="json",g="json"===a.responseType}catch(h){g=!1}if(!g&&"responseType"in a)try{a.responseType="text"}catch(e){}if("overrideMimeType"in a)try{a.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.Re?a.onreadystatechange=function(){4===a.readyState&&b.Ze(JSON.parse(a.responseText))}:(a.onload=function(){if(g)b.Ze(a.response);else if(b.qc){var c=
a.responseText,c=c.substr(c.indexOf("{"));b.Ze(JSON.parse(c))}else b.Ze(JSON.parse(a.responseText))},a.onerror=function(b){ea("Error requesting "+c+":");ea(b)});a.send()}};d.prototype.Yq=function(){var b=this,a,c,g,h,e,l,k,f,d;this.Qe=(!this.hb||this.qc||this.Wc)&&this.rs&&!this.im;0===this.cb&&this.Nj&&(this.Qe=!1);this.devicePixelRatio=this.Qe?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Qa();c=!(!this.nq&&(!this.Ci||this.Bd||
this.km||this.Re||this.sh||this.Wc||this.gm));0<this.cb&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.Dp&&(this.pc||this.qc||!this.hb)&&(a={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.m=this.canvas.getContext("webgl",a)||this.canvas.getContext("experimental-webgl",a))}catch(t){}if(this.m){if(a=this.m.getExtension("WEBGL_debug_renderer_info"))this.pj=this.m.getParameter(a.UNMASKED_RENDERER_WEBGL)+" ["+this.m.getParameter(a.UNMASKED_VENDOR_WEBGL)+"]";this.T&&
(this.pj+=" [front-to-back enabled]");this.hb||(this.Na=document.createElement("canvas"),jQuery(this.Na).appendTo(this.canvas.parentNode),this.Na.oncontextmenu=function(){return!1},this.Na.onselectstart=function(){return!1},this.Na.width=Math.round(this.Rg*this.devicePixelRatio),this.Na.height=Math.round(this.Gf*this.devicePixelRatio),jQuery(this.Na).css({width:this.Rg+"px",height:this.Gf+"px"}),this.hn(),this.gk=this.Na.getContext("2d"));this.j=new eb(this.m,this.Ad,this.T);this.j.we(this.canvas.width,
this.canvas.height);this.j.Fl=0!==this.wp;this.ea=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();b.pr();w("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.j.am();b.j.we(b.j.width,b.j.height,!0);b.za=null;b.qa=null;b.ej[0]=null;b.ej[1]=null;b.qr();b.S=!0;w("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);a=0;for(c=this.k.length;a<c;a++)for(e=this.k[a],g=0,
h=e.F.length;g<h;g++)k=e.F[g],k.ua=this.j.oj(k.id),k.Xb=this.j.lk(k.ua),this.rf=this.rf||this.j.sg(k.ua);a=0;for(c=this.rc.length;a<c;a++){f=this.rc[a];g=0;for(h=f.F.length;g<h;g++)k=f.F[g],k.ua=this.j.oj(k.id),k.Xb=this.j.lk(k.ua);f.zc();g=0;for(h=f.G.length;g<h;g++){d=f.G[g];e=0;for(l=d.F.length;e<l;e++)k=d.F[e],k.ua=this.j.oj(k.id),k.Xb=this.j.lk(k.ua),this.rf=this.rf||this.j.sg(k.ua);d.zc()}}}else{if(0<this.cb&&this.me){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=
function(){return!1};this.ea=AppMobi.canvas.getContext("2d");try{this.ea.samplingMode=this.aa?"smooth":"sharp",this.ea.globalScale=1,this.ea.HTML5CompatibilityMode=!0,this.ea.imageSmoothingEnabled=this.aa}catch(p){}0!==this.width&&0!==this.height&&(this.ea.width=this.width,this.ea.height=this.height)}this.ea||(this.pc?(a={antialias:!!this.aa,alpha:c},this.ea=this.canvas.getContext("2d",a)):(a={alpha:c},this.ea=this.canvas.getContext("2d",a)),this.$h(this.ea,this.aa));this.gk=this.Na=null}this.Nn=
function(a){b.Pc(!1,a)};window==window.top||this.hb||this.km||this.Re||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.pc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(w("Reloading for continuous preview"),this.Ch="__c2_continuouspreview",this.zg=!0),this.Fr&&!this.Ad&&(jQuery(window).focus(function(){b.setSuspended(!1)}),
jQuery(window).blur(function(){var a=window.parent;a&&a.document.hasFocus()||b.setSuspended(!0)})));window.addEventListener("blur",function(){b.ff()});this.hb||(a=function(b){if(db(b)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(a){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",a):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",
a):document.addEventListener("touchstart",a),document.addEventListener("mousedown",a));0===this.cb&&this.Qe&&1<this.devicePixelRatio&&this.setSize(this.Ba,this.Aa,!0);this.Sn();this.Rq();this.go();this.R={}};d.prototype.setSize=function(b,a,c){var g=0,h=0,e=0,l=0,l=0;if(this.We!==b||this.Ve!==a||c){this.We=b;this.Ve=a;var k=this.cb,f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Vf)&&!this.Wc;if(f||0!==this.cb||c)f&&0<this.he&&(k=this.he),
c=this.devicePixelRatio,4<=k?(e=this.Ba/this.Aa,b/a>e?(e*=a,5===k?(l=e*c/this.Ba,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Ba*l/c,l=this.Aa*l/c,g=(b-e)/2,h=(a-l)/2,b=e,a=l):(g=(b-e)/2,b=e)):(l=b/e,5===k?(l=l*c/this.Aa,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Ba*l/c,l=this.Aa*l/c,g=(b-e)/2,h=(a-l)/2,b=e):h=(a-l)/2,a=l),f&&!this.Bd&&(h=g=0)):this.Bd&&this.Vf&&0===this.Ol&&(g=Math.floor((b-this.Ba)/2),h=Math.floor((a-this.Aa)/2),b=this.Ba,a=this.Aa),2>k&&(this.yf=c),this.Rg=Math.round(b),
this.Gf=Math.round(a),this.width=Math.round(b*c),this.height=Math.round(a*c),this.S=!0,this.co?(this.A=this.width,this.u=this.height,this.Gb=!0):this.width<this.Ba&&this.height<this.Aa||1===k?(this.A=this.width,this.u=this.height,this.Gb=!0):(this.A=this.Ba,this.u=this.Aa,this.Gb=!1,2===k?(e=this.Ba/this.Aa,k=this.We/this.Ve,k<e?this.A=this.u*k:k>e&&(this.u=this.A/k)):3===k&&(e=this.Ba/this.Aa,k=this.We/this.Ve,k>e?this.A=this.u*k:k<e&&(this.u=this.A/k))),this.ul&&!this.hb&&(jQuery(this.ul).css({width:Math.round(b)+
"px",height:Math.round(a)+"px","margin-left":Math.floor(g)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(b)+"px",height:Math.round(a)+"px"})),this.canvas&&(this.canvas.width=Math.round(b*c),this.canvas.height=Math.round(a*c),this.qc?(this.canvas.style.left=Math.floor(g)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px"):this.Qe&&!this.hb&&(this.canvas.style.width=
Math.round(b)+"px",this.canvas.style.height=Math.round(a)+"px")),this.Na&&(this.Na.width=Math.round(b*c),this.Na.height=Math.round(a*c),this.Na.style.width=this.Rg+"px",this.Na.style.height=this.Gf+"px"),this.j&&this.j.we(Math.round(b*c),Math.round(a*c)),this.me&&this.ea&&(this.ea.width=Math.round(b),this.ea.height=Math.round(a)),this.ea&&this.$h(this.ea,this.aa),this.Sn(),this.om&&!this.Wc&&window.scrollTo(0,0)}};d.prototype.Sn=function(){if(this.Oo&&0!==this.fk){var b="portrait";2===this.fk&&(b=
"landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(b).catch(function(){}):screen.lockOrientation?screen.lockOrientation(b):screen.webkitLockOrientation?screen.webkitLockOrientation(b):screen.mozLockOrientation?screen.mozLockOrientation(b):screen.msLockOrientation&&screen.msLockOrientation(b)}catch(a){console&&console.warn&&console.warn("Failed to lock orientation: ",a)}}};d.prototype.pr=function(){this.j.Xo();this.Lj=!0;var b,a,c;b=0;for(a=this.k.length;b<a;b++)c=
this.k[b],c.qg&&c.qg()};d.prototype.qr=function(){this.Lj=!1;var b,a,c;b=0;for(a=this.k.length;b<a;b++)c=this.k[b],c.Oh&&c.Oh()};d.prototype.hn=function(){if(!this.hb){var b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Vf)&&!this.Wc?jQuery(this.canvas).offset():jQuery(this.canvas).position();b.position="absolute";jQuery(this.Na).css(b)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||
window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(b){var a;if(b&&!this.Wf)for(w("[Construct 2] Suspending"),this.Wf=!0,-1!==this.qk&&e&&e(this.qk),-1!==this.Kk&&clearTimeout(this.Kk),b=0,a=this.ii.length;b<a;b++)this.ii[b](!0);else if(!b&&this.Wf){w("[Construct 2] Resuming");this.Wf=!1;this.xh=Pa();this.pe=Pa();b=this.lg=this.ih=0;for(a=this.ii.length;b<a;b++)this.ii[b](!1);this.Pc(!1)}};d.prototype.md=function(b){return this.Mh[b]};d.prototype.Ze=function(b){b&&
b.project||ea("Project model unavailable");b=b.project;this.name=b[0];this.Ml=b[1];this.cb=b[12];this.Ol=b[12];this.Ba=b[10];this.Aa=b[11];this.an=this.Ba/2;this.bn=this.Aa/2;this.hb&&!this.qc&&(4<=b[12]||0===b[12])&&(w("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Ol=this.cb=3);this.Vk=b[18];this.Id=b[19];if(0===this.Id){var a=new Image;a.crossOrigin="anonymous";this.zn(a,"loading-logo.png");this.Hd={Ih:a}}else if(4===this.Id){a=
new Image;a.src="";var c=new Image;c.src="";var g=new Image;g.src="";var h=new Image;h.src="";var e=new Image;e.src="";var l=new Image;l.src="";var k=new Image;k.src="";var f=new Image;f.src="";var d=new Image;d.src="";var t=new Image;t.src="";var p=new Image;p.src="";var x=new Image;x.src="";this.Hd={Ih:[a,c,g,h],Kr:[e,l,k,f],ts:[d,t,p,x]}}this.ng=b[21];this.Mh=dc();this.Oc=new Z(this);a=0;for(c=b[2].length;a<c;a++)k=b[2][a],g=this.md(k[0]),fb(k,g.prototype),f=new g(this),f.di=k[1],f.Cd=k[2],f.Sm=
k[9],f.ra&&f.ra(),this.plugins.push(f);this.Mh=dc();a=0;for(c=b[3].length;a<c;a++){k=b[3][a];e=this.md(k[1]);f=null;g=0;for(h=this.plugins.length;g<h;g++)if(this.plugins[g]instanceof e){f=this.plugins[g];break}d=new f.fc(f);d.name=k[0];d.q=k[2];d.Cj=k[3].slice(0);d.ss=k[3].length;d.Po=k[4];d.oq=k[5];d.K=k[11];d.q?(d.Lh=[],d.Uc=this.Kf++,d.ba=null):(d.Lh=null,d.Uc=-1,d.ba=[]);d.bh=null;d.Ne=null;d.Gl=null;d.Ub=!1;d.nb=null;k[6]?(d.Ek=k[6][0],d.Fk=k[6][1],d.Gk=k[6][2]):(d.Ek=null,d.Fk=0,d.Gk=0);k[7]?
d.lb=k[7]:d.lb=null;d.index=a;d.d=[];d.Vg=[];d.fd=[new gb(d)];d.Dc=0;d.Ec=null;d.dp=0;d.qf=!0;d.oi=hb;d.uq=ib;d.zq=jb;d.V=kb;d.ug=nb;d.nk=ob;d.hf=pb;d.jh=qb;d.gj=rb;d.jj=sb;d.qd=tb;d.lj=ub;d.Pg=new Ya(this.Ba,this.Aa);d.Ig=!0;d.Jg=!1;d.R={};d.toString=vb;d.da=[];g=0;for(h=k[8].length;g<h;g++){t=k[8][g];p=this.md(t[1]);x=null;e=0;for(l=this.da.length;e<l;e++)if(this.da[e]instanceof p){x=this.da[e];break}x||(x=new p(this),x.Tm=[],x.ck=new ca,x.ra&&x.ra(),this.da.push(x),Wb.ds&&x instanceof Wb.ds&&(this.Ak=
x));-1===x.Tm.indexOf(d)&&x.Tm.push(d);e=new x.fc(x,d);e.name=t[0];e.K=t[2];e.ra();d.da.push(e)}d.global=k[9];d.Hj=k[10];d.F=[];g=0;for(h=k[12].length;g<h;g++)d.F.push({id:k[12][g][0],name:k[12][g][1],ua:-1,Xb:!1,Ea:!0,index:g});d.Rt=k[13];this.Vk&&!d.q&&!d.Hj&&f.Cd||d.ra();d.name&&(this.types[d.name]=d);this.k.push(d);f.di&&(g=new f.kb(d),g.uid=this.ng++,g.ln=this.Vm++,g.je=0,g.Nf=wb,g.toString=xb,g.ta=k[14],g.ra(),d.d.push(g),this.bd[g.uid.toString()]=g)}a=0;for(c=b[4].length;a<c;a++)for(e=b[4][a],
l=this.k[e[0]],g=1,h=e.length;g<h;g++)k=this.k[e[g]],k.ba.push(l),l.Lh.push(k);a=0;for(c=b[28].length;a<c;a++){e=b[28][a];l=[];g=0;for(h=e.length;g<h;g++)l.push(this.k[e[g]]);g=0;for(h=l.length;g<h;g++)l[g].Ub=!0,l[g].nb=l}if(0<this.Kf)for(a=0,c=this.k.length;a<c;a++)if(k=this.k[a],!k.q&&k.ba.length){k.bh=Array(this.Kf);k.Ne=Array(this.Kf);k.Gl=Array(this.Kf);d=[];g=x=p=t=0;for(h=k.ba.length;g<h;g++)for(f=k.ba[g],k.bh[f.Uc]=t,t+=f.ss,k.Ne[f.Uc]=p,p+=f.Po,k.Gl[f.Uc]=x,x+=f.oq,e=0,l=f.F.length;e<l;e++)d.push(ta({},
f.F[e]));k.F=d.concat(k.F);g=0;for(h=k.F.length;g<h;g++)k.F[g].index=g}a=0;for(c=b[5].length;a<c;a++)k=b[5][a],g=new yb(this,k),this.Rj[g.name]=g,this.rc.push(g);a=0;for(c=b[6].length;a<c;a++)k=b[6][a],g=new zb(this,k),this.$i[g.name]=g,this.Tc.push(g);a=0;for(c=this.Tc.length;a<c;a++)this.Tc[a].na();a=0;for(c=this.Tc.length;a<c;a++)this.Tc[a].Rk();a=0;for(c=this.ni.length;a<c;a++)this.ni[a].na();V(this.ni);this.No=b[7];this.vc=b[9];this.yf=1;this.Dp=b[13];this.aa=b[14];this.Ci=b[15];this.rs=b[17];
this.fk=b[20];this.Oo=0<this.fk;this.Fr=b[22];this.Gb=this.co=b[23];this.wp=b[24];this.Lr=b[25];this.T=b[27]&&!this.yd;this.hi=Date.now();V(this.Mh);this.Yq()};var b=!1;d.prototype.Xk=function(a,c){a.cocoonLazyLoad=!0;a.onerror=function(c){b=a.rl=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",c)};this.qc?a.src=c:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(c,function(b){a.src=b},function(g){b=a.rl=!0;console&&console.error&&console.error("Error extracting image '"+
c+"' from expansion file: ",g)}):(a.crossOrigin="anonymous",this.zn(a,c)));this.uf.push(a)};d.prototype.mq=function(b){var a,c;a=0;for(c=this.uf.length;a<c;a++)if(this.uf[a].Yo===b)return this.uf[a];return null};var g=0,l=!1;d.prototype.Rq=function(){this.zf&&(g=this.zf.Ot(this.No))};d.prototype.il=function(){var b=g,a=0,c=0,h=!0,e,k,c=0;for(e=this.uf.length;c<e;c++){k=this.uf[c];var f=k.Ti;if(!f||0>=f)f=5E4;b+=f;k.src&&(k.complete||k.loaded)&&!k.rl?a+=f:h=!1}h&&this.Lr&&this.zf&&(l||(this.zf.Pt(),
l=!0),c=this.zf.Jt(),a+=c,c<g&&(h=!1));this.wc=0==b?1:a/b;return h};var h=!1;d.prototype.go=function(){if(this.ea||this.j){var a=this.ea||this.gk;this.Na&&this.hn();var g=window.innerWidth,e=window.innerHeight;this.We===g&&this.Ve===e||this.setSize(g,e);this.wc=0;this.vm=-1;var k=this;if(this.il()&&(4!==this.Id||h))this.Sq();else{e=Date.now()-this.hi;if(a){var l=this.width,f=this.height,g=this.devicePixelRatio;if(3>this.Id&&(this.pc||500<=e&&this.vm!=this.wc)){a.clearRect(0,0,l,f);var e=l/2,f=f/2,
l=0===this.Id&&this.Hd.Ih.complete,d=40*g,t=0,p=80*g,x;if(l){var r=this.Hd.Ih,p=r.width*g;x=r.height*g;d=p/2;t=x/2;a.drawImage(r,Q(e-d),Q(f-t),p,x)}1>=this.Id?(e=Q(e-d)+.5,f=Q(f+(t+(l?12*g:0)))+.5,a.fillStyle=b?"red":"DodgerBlue",a.fillRect(e,f,Math.floor(p*this.wc),6*g),a.strokeStyle="black",a.strokeRect(e,f,p,6*g),a.strokeStyle="white",a.strokeRect(e-1*g,f-1*g,p+2*g,8*g)):2===this.Id&&(a.font=this.qc?"12pt ArialMT":"12pt Arial",a.fillStyle=b?"#f00":"#999",a.Qt="middle",g=Math.round(100*this.wc)+
"%",l=a.measureText?a.measureText(g):null,a.fillText(g,e-(l?l.width:0)/2,f));this.vm=this.wc}else if(4===this.Id){this.Bp(a);c?c(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},this.pc?10:100)}}};var x=-1,r="undefined"===typeof cr_is_preview?200:0,H=!0,k=!1,t=0,D=0,L="undefined"===typeof cr_is_preview?3E3:0,C=null,A=null,S=0;d.prototype.Bp=function(a){if(!h){for(var c=Math.ceil(this.width),g=Math.ceil(this.height),e=this.Hd.Ih,l=this.Hd.Kr,f=this.Hd.ts,
d=0;4>d;++d)if(!e[d].complete||!l[d].complete||!f[d].complete)return;0===S&&(x=Date.now());var d=Date.now(),p=!1,m=a,n,y;H||k?(a.clearRect(0,0,c,g),C&&C.width===c&&C.height===g||(C=document.createElement("canvas"),C.width=c,C.height=g,A=C.getContext("2d")),m=A,p=!0,H&&1===S&&(x=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,c,g);256<this.Gf?(n=Aa(.22*g,105,.6*c),y=.25*n,m.drawImage(q(l,n),.5*c-n/2,.2*g-y/2,n,y),y=n=Math.min(.395*g,.95*c),m.drawImage(q(e,n),.5*c-n/2,.485*g-y/2,n,
y),n=Aa(.22*g,105,.6*c),y=.25*n,m.drawImage(q(f,n),.5*c-n/2,.868*g-y/2,n,y),m.fillStyle="#3C3C3C",n=c,y=Math.max(.005*g,2),m.fillRect(0,.8*g-y/2,n,y),m.fillStyle=b?"red":"#E0FF65",n=c*this.wc,m.fillRect(.5*c-n/2,.8*g-y/2,n,y)):(y=n=.55*g,m.drawImage(q(e,n),.5*c-n/2,.45*g-y/2,n,y),m.fillStyle="#3C3C3C",n=c,y=Math.max(.005*g,2),m.fillRect(0,.85*g-y/2,n,y),m.fillStyle=b?"red":"#E0FF65",n=c*this.wc,m.fillRect(.5*c-n/2,.85*g-y/2,n,y));p&&(H?a.globalAlpha=0===S?0:Math.min((d-x)/300,1):k&&(a.globalAlpha=
Math.max(1-(d-D)/300,0)),a.drawImage(C,0,0,c,g));H&&300<=d-x&&2<=S&&(H=!1,t=d);!H&&d-t>=L&&!k&&1<=this.wc&&(k=!0,D=d);if(k&&d-D>=300+r||"undefined"!==typeof cr_is_preview&&1<=this.wc&&500>Date.now()-x)h=!0,k=H=!1,this.Hd=A=C=null;++S}};d.prototype.Sq=function(){this.Na&&(this.canvas.parentNode.removeChild(this.Na),this.Na=this.gk=null);this.hi=Date.now();this.pe=Pa();var b,a,c;if(this.Vk)for(b=0,a=this.k.length;b<a;b++)c=this.k[b],c.q||c.Hj||!c.ma.Cd||c.ra();else this.Yf=!1;b=0;for(a=this.rc.length;b<
a;b++)this.rc[b].$o();2<=this.cb&&(b=this.Ba/this.Aa,a=this.width/this.height,this.yf=2!==this.cb&&a>b||2===this.cb&&a<b?this.height/this.Aa:this.width/this.Ba);this.Ml?this.Rj[this.Ml].Dk():this.rc[0].Dk();this.Vk||(this.Fh=1,this.trigger(Z.prototype.C.cl,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();b=0;for(a=this.k.length;b<a;b++)c=this.k[b],c.or&&c.or();document.hidden||document.webkitHidden||document.mozHidden||
document.msHidden?window.cr_setSuspended(!0):this.Pc(!1);this.me&&AppMobi.webview.execute("onGameReady();")};d.prototype.Pc=function(b,a,g){if(this.U){var h=Pa();if(g||!this.Wf||b){b||(c?this.qk=c(this.Nn):this.Kk=setTimeout(this.Nn,this.Ad?1:16));a=a||h;var e=this.cb;((g=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Wc)||this.Vf)&&0<this.he&&(e=this.he);if(0<e){var e=window.innerWidth,k=window.innerHeight;this.We===e&&this.Ve===
k||this.setSize(e,k)}this.hb||(g?(this.eh||(this.dj=jQuery(this.canvas).css("margin")||"0",this.eh=!0),this.Ej||this.Bd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.eh?(this.Ej||this.Bd||jQuery(this.canvas).css("margin",this.dj),this.dj="",this.eh=!1,0===this.cb&&this.setSize(Math.round(this.Zm/this.devicePixelRatio),Math.round(this.Ym/this.devicePixelRatio),
!0)):(this.Zm=this.width,this.Ym=this.height));this.Yf&&(g=this.il(),this.Fh=this.wc,g&&(this.Yf=!1,this.wc=1,this.trigger(Z.prototype.C.cl,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.jr(a);!this.S&&!this.pc||this.Lj||this.zg||b||(this.S=!1,this.j?this.Xa():this.Fb(),this.yg&&(this.canvas&&this.canvas.toDataURL&&(this.Hn=this.canvas.toDataURL(this.yg[0],this.yg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Hn),this.trigger(Z.prototype.C.vo,null)),this.yg=null));this.Kt||(this.gd++,
this.Zg++,this.ih++);this.lg+=Pa()-h}}};d.prototype.jr=function(b){var a,c,g,h,e,k,l,f;1E3<=b-this.pe&&(this.pe+=1E3,1E3<=b-this.pe&&(this.pe=b),this.cj=this.ih,this.ih=0,this.Si=this.lg,this.lg=0);a=0;0!==this.xh&&(a=b-this.xh,0>a&&(a=0),this.de=a/=1E3,.5<this.de?this.de=0:this.de>1/this.Qm&&(this.de=1/this.Qm));this.xh=b;this.Le=this.de*this.Cg;this.Vb.add(this.Le);this.ri.add(a);b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Vf)&&
!this.Wc;2<=this.cb||b&&0<this.he?(a=this.Ba/this.Aa,c=this.width/this.height,g=this.cb,b&&0<this.he&&(g=this.he),this.yf=2!==g&&c>a||2===g&&c<a?this.height/this.Aa:this.width/this.Ba,this.U&&(this.U.tn(this.U.scrollX),this.U.un(this.U.scrollY))):this.yf=this.Qe?this.devicePixelRatio:1;this.Qa();this.Yc++;this.Oc.Ur();this.Yc--;this.Qa();this.Yc++;c=this.Xm.jd();b=0;for(a=c.length;b<a;b++)c[b].Mt();b=0;for(a=this.k.length;b<a;b++)if(k=this.k[b],!k.q&&(k.da.length||k.ba.length))for(c=0,g=k.d.length;c<
g;c++)for(l=k.d[c],h=0,e=l.D.length;h<e;h++)l.D[h].Pc();b=0;for(a=this.k.length;b<a;b++)if(k=this.k[b],!k.q&&(k.da.length||k.ba.length))for(c=0,g=k.d.length;c<g;c++)for(l=k.d[c],h=0,e=l.D.length;h<e;h++)f=l.D[h],f.Jr&&f.Jr();c=this.dk.jd();b=0;for(a=c.length;b<a;b++)c[b].Pc();this.Yc--;this.Tq();for(b=0;this.Af&&10>b++;)this.El(this.Af);b=0;for(a=this.Tc.length;b<a;b++)this.Tc[b].uj=!1;this.U.fe&&this.U.fe.Ca();V(this.pn);this.Yc++;b=0;for(a=this.k.length;b<a;b++)if(k=this.k[b],!k.q&&(k.da.length||
k.ba.length))for(c=0,g=k.d.length;c<g;c++)for(l=k.d[c],h=0,e=l.D.length;h<e;h++)f=l.D[h],f.Hk&&f.Hk();c=this.ek.jd();b=0;for(a=c.length;b<a;b++)c[b].Hk();this.Yc--};d.prototype.ff=function(){var b,a,c,g,h,e,k,l,f;b=0;for(a=this.k.length;b<a;b++)if(k=this.k[b],!k.q)for(c=0,g=k.d.length;c<g;c++)if(l=k.d[c],l.ff&&l.ff(),l.D)for(h=0,e=l.D.length;h<e;h++)f=l.D[h],f.ff&&f.ff()};d.prototype.El=function(b){var a=this.U;this.U.hs();var c,g,h;if(this.j)for(c=0,g=this.k.length;c<g;c++)h=this.k[c],h.q||!h.Qk||
h.global&&0!==h.d.length||-1!==b.Sf.indexOf(h)||h.Qk();a==b&&V(this.Oc.yb);V(this.pn);this.qn(!0);b.Dk();this.qn(!1);this.S=!0;this.Qa()};d.prototype.qn=function(b){var a,c,g,h,e,k,l,f,d;a=0;for(c=this.da.length;a<c;a++)g=this.da[a],b?g.og&&g.og():g.pg&&g.pg();a=0;for(c=this.k.length;a<c;a++)if(g=this.k[a],g.global||g.ma.di)for(h=0,e=g.d.length;h<e;h++)if(k=g.d[h],b?k.og&&k.og():k.pg&&k.pg(),k.D)for(l=0,f=k.D.length;l<f;l++)d=k.D[l],b?d.og&&d.og():d.pg&&d.pg()};d.prototype.Ik=function(b){this.dk.add(b)};
d.prototype.ls=function(b){this.ek.add(b)};d.prototype.hj=function(b){return b&&-1!==b.mg?this.de*b.mg:this.Le};d.prototype.Fb=function(){this.U.Fb(this.ea);this.me&&this.ea.present()};d.prototype.Xa=function(){this.T&&(this.ee=1,this.U.Ke(this.j));this.U.Xa(this.j);this.j.Nr()};d.prototype.Ul=function(b){b=b.toString();return this.bd.hasOwnProperty(b)?this.bd[b]:null};var z=[];d.prototype.Ud=function(b){var a,c;a=b.type.name;var g=null;if(this.be.hasOwnProperty(a)){if(g=this.be[a],g.contains(b))return}else g=
z.length?z.pop():new ca,this.be[a]=g;g.add(b);this.xd=!0;if(b.Ub)for(a=0,c=b.siblings.length;a<c;a++)this.Ud(b.siblings[a]);this.Gj&&g.sf.push(b);this.Fj||(this.Yc++,this.trigger(Object.getPrototypeOf(b.type.ma).C.wo,b),this.Yc--)};d.prototype.Qa=function(){if(this.xd){var b,a,c,g,h,e;this.Gj=!0;c=0;for(h=this.lc.length;c<h;++c)for(b=this.lc[c],a=b.type,a.d.push(b),g=0,e=a.ba.length;g<e;++g)a.ba[g].d.push(b),a.ba[g].qf=!0;V(this.lc);this.po();Oa(this.be);this.xd=this.Gj=!1}};d.prototype.po=function(){for(var b in this.be)this.be.hasOwnProperty(b)&&
this.jo(this.be[b])};d.prototype.jo=function(b){var a=b.jd(),c=a[0].type,g,h,e,k,l,f;Ra(c.d,b);c.qf=!0;0===c.d.length&&(c.Jg=!1);g=0;for(h=c.ba.length;g<h;++g)f=c.ba[g],Ra(f.d,b),f.qf=!0;g=0;for(h=this.Oc.yb.length;g<h;++g)if(l=this.Oc.yb[g],l.ub.hasOwnProperty(c.index)&&Ra(l.ub[c.index].le,b),!c.q)for(e=0,k=c.ba.length;e<k;++e)f=c.ba[e],l.ub.hasOwnProperty(f.index)&&Ra(l.ub[f.index].le,b);if(l=a[0].e){if(l.Pb)for(e=l.d,g=0,h=e.length;g<h;++g)k=e[g],b.contains(k)&&(k.la(),l.Oa.update(k,k.ib,null),
k.ib.set(0,0,-1,-1));Ra(l.d,b);l.vg(0)}for(g=0;g<a.length;++g)this.ho(a[g],c);b.clear();z.push(b);this.S=!0};d.prototype.ho=function(b,a){var c,g,h;c=0;for(g=this.Dl.length;c<g;++c)this.Dl[c](b);b.td&&a.Pg.update(b,b.td,null);(c=b.e)&&c.lf(b,!0);if(b.D)for(c=0,g=b.D.length;c<g;++c)h=b.D[c],h.ef&&h.ef(),h.behavior.ck.remove(b);this.Xm.remove(b);this.dk.remove(b);this.ek.remove(b);b.ef&&b.ef();this.bd.hasOwnProperty(b.uid.toString())&&delete this.bd[b.uid.toString()];this.Nh--;100>a.Vg.length&&a.Vg.push(b)};
var B=[];d.prototype.ae=function(b,a,c,g,h,e){var k,l,f,d;if(!b)return null;var t=this.k[b[1]],p=t.ma.Cd;if(this.Yf&&p&&!t.Hj||p&&!this.j&&11===b[0][11])return null;var x=a;p||(a=null);var r;t.Vg.length?(r=t.Vg.pop(),r.Kb=!0,t.ma.kb.call(r,t)):(r=new t.ma.kb(t),r.Kb=!1);!c||e||this.bd.hasOwnProperty(b[2].toString())?r.uid=this.ng++:r.uid=b[2];this.bd[r.uid.toString()]=r;r.ln=this.Vm++;r.je=t.d.length;k=0;for(l=this.lc.length;k<l;++k)this.lc[k].type===t&&r.je++;r.Nf=wb;r.toString=xb;f=b[3];if(r.Kb)Oa(r.R);
else{r.R={};if("undefined"!==typeof cr_is_preview)for(r.fm=[],r.fm.length=f.length,k=0,l=f.length;k<l;k++)r.fm[k]=f[k][1];r.xa=[];r.xa.length=f.length}k=0;for(l=f.length;k<l;k++)r.xa[k]=f[k][0];if(p){var m=b[0];r.x=fa(g)?m[0]:g;r.y=fa(h)?m[1]:h;r.z=m[2];r.width=m[3];r.height=m[4];r.depth=m[5];r.i=m[6];r.opacity=m[7];r.pb=m[8];r.qb=m[9];r.Ra=m[10];k=m[11];!this.j&&t.F.length&&(r.Ra=k);r.Cf=$a(r.Ra);this.m&&ab(r,r.Ra,this.m);if(r.Kb){k=0;for(l=m[12].length;k<l;k++)for(f=0,d=m[12][k].length;f<d;f++)r.fa[k][f]=
m[12][k][f];r.ca.set(0,0,0,0);r.td.set(0,0,-1,-1);r.ib.set(0,0,-1,-1);r.Cc.xe(r.ca);V(r.Gi)}else{r.fa=m[12].slice(0);k=0;for(l=r.fa.length;k<l;k++)r.fa[k]=m[12][k].slice(0);r.N=[];r.nd=[];r.nd.length=t.F.length;r.ca=new U(0,0,0,0);r.td=new U(0,0,-1,-1);r.ib=new U(0,0,-1,-1);r.Cc=new sa;r.Gi=[];r.oa=Ab;r.Ko=Bb;r.Sb=Cb;r.la=Db;r.Zn=Eb;r.Uk=Fb;r.Hc=Gb}r.Jk=!1;r.os=0;r.ns=0;r.ms=null;14===m.length&&(r.Jk=!0,r.os=m[13][0],r.ns=m[13][1],r.ms=m[13][2]);k=0;for(l=t.F.length;k<l;k++)r.nd[k]=!0;r.dd=!0;r.zc=
Hb;r.zc();r.$n=!!r.N.length;r.Kg=!0;r.Li=!0;t.Ig=!0;r.visible=!0;r.mg=-1;r.e=a;r.Ac=a.d.length;r.ee=0;"undefined"===typeof r.Ia&&(r.Ia=null);this.S=r.Bf=!0}var q;V(B);k=0;for(l=t.ba.length;k<l;k++)B.push.apply(B,t.ba[k].da);B.push.apply(B,t.da);if(r.Kb)for(k=0,l=B.length;k<l;k++){var n=B[k];q=r.D[k];q.Kb=!0;n.behavior.kb.call(q,n,r);m=b[4][k];f=0;for(d=m.length;f<d;f++)q.ta[f]=m[f];q.ra();n.behavior.ck.add(r)}else for(r.D=[],k=0,l=B.length;k<l;k++)n=B[k],q=new n.behavior.kb(n,r),q.Kb=!1,q.ta=b[4][k].slice(0),
q.ra(),r.D.push(q),n.behavior.ck.add(r);m=b[5];if(r.Kb)for(k=0,l=m.length;k<l;k++)r.ta[k]=m[k];else r.ta=m.slice(0);this.lc.push(r);this.xd=!0;a&&(a.xf(r,!0),1!==a.Jc||1!==a.Kc)&&(t.Jg=!0);this.Nh++;if(t.Ub){if(r.Ub=!0,r.Kb?V(r.siblings):r.siblings=[],!c&&!e){k=0;for(l=t.nb.length;k<l;k++)if(t.nb[k]!==t){if(!t.nb[k].Ec)return null;r.siblings.push(this.ae(t.nb[k].Ec,x,!1,p?r.x:g,p?r.y:h,!0))}k=0;for(l=r.siblings.length;k<l;k++)for(r.siblings[k].siblings.push(r),f=0;f<l;f++)k!==f&&r.siblings[k].siblings.push(r.siblings[f])}}else r.Ub=
!1,r.siblings=null;r.ra();k=0;for(l=r.D.length;k<l;k++)r.D[k].Ir&&r.D[k].Ir();return r};d.prototype.mj=function(b){var a,c;a=0;for(c=this.U.G.length;a<c;a++){var g=this.U.G[a];if(cb(g.name,b))return g}return null};d.prototype.Lf=function(b){b=Q(b);0>b&&(b=0);b>=this.U.G.length&&(b=this.U.G.length-1);return this.U.G[b]};d.prototype.Qi=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].V().ia=!0};d.prototype.ug=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].ug()};d.prototype.nk=function(b){var a,
c;a=0;for(c=b.length;a<c;a++)b[a].nk()};d.prototype.hf=function(b){var a,c;a=0;for(c=b.length;a<c;a++)b[a].hf()};d.prototype.Xn=function(b){if(b.Ig){var a,c,g=b.d;a=0;for(c=g.length;a<c;++a)g[a].Uk();g=this.lc;a=0;for(c=g.length;a<c;++a)g[a].type===b&&g[a].Uk();b.Ig=!1}};d.prototype.rq=function(b,a,c,g){var h,e,k=b?1!==b.Jc||1!==b.Kc:!1;if(a.q)for(b=0,h=a.Lh.length;b<h;++b)e=a.Lh[b],k||e.Jg?xa(g,e.d):(this.Xn(e),e.Pg.Vh(c,g));else k||a.Jg?xa(g,a.d):(this.Xn(a),a.Pg.Vh(c,g))};d.prototype.Eq=function(b,
a,c,g){var h,e;h=0;for(e=a.length;h<e;++h)this.rq(b,a[h],c,g)};d.prototype.ks=function(b,a,c){var g=b.V(),h,e,k,l,f=this.eb().Tb.uc,d,t,r;if(g.ia)for(g.ia=!1,V(g.d),h=0,l=b.d.length;h<l;h++)k=b.d[h],k.la(),d=k.e.Wa(a,c,!0),t=k.e.Wa(a,c,!1),k.Sb(d,t)?g.d.push(k):f&&g.J.push(k);else{e=0;r=f?g.J:g.d;h=0;for(l=r.length;h<l;h++)k=r[h],k.la(),d=k.e.Wa(a,c,!0),t=k.e.Wa(a,c,!1),k.Sb(d,t)&&(f?g.d.push(k):(g.d[e]=g.d[h],e++));r.length=e}b.qd();return g.tj()};new sa;new U(0,0,0,0);d.prototype.Tn=function(b,
a){if(!a)return!1;var c,g,h,e,k;c=0;for(g=b.da.length;c<g;c++)if(b.da[c].behavior instanceof a)return!0;if(!b.q)for(c=0,g=b.ba.length;c<g;c++)for(k=b.ba[c],h=0,e=k.da.length;h<e;h++)if(k.da[h].behavior instanceof a)return!0;return!1};d.prototype.Ok=function(b){return this.Tn(b,Wb.Ys)};d.prototype.Pk=function(b){return this.Tn(b,Wb.Zs)};var I=-1;d.prototype.trigger=function(b,a,c){if(!this.U)return!1;var g=this.U.fe;if(!g)return!1;var h=!1,e,k,l;I++;var f=g.Xi;k=0;for(l=f.length;k<l;++k)e=this.Qn(b,
a,f[k],c),h=h||e;e=this.Qn(b,a,g,c);I--;return h||e};d.prototype.Qn=function(b,a,c,g){var h=!1,e,k,l,f;if(a)for(l=this.Mk(b,a,a.type.name,c,g),h=h||l,f=a.type.ba,e=0,k=f.length;e<k;++e)l=this.Mk(b,a,f[e].name,c,g),h=h||l;else l=this.Mk(b,a,"system",c,g),h=h||l;return h};d.prototype.Mk=function(b,a,c,g,h){var e,k=!1,l=!1,l="undefined"!==typeof h,f=(l?g.Il:g.Rn)[c];if(!f)return k;var d=null;g=0;for(e=f.length;g<e;++g)if(f[g].method==b){d=f[g].Jf;break}if(!d)return k;var t;l?t=d[h]:t=d;if(!t)return null;
g=0;for(e=t.length;g<e;g++)b=t[g][0],h=t[g][1],l=this.jq(a,c,b,h),k=k||l;return k};d.prototype.jq=function(b,a,c,g){var h,e,k=!1;this.Nk++;var l=this.eb().Tb;l&&this.ug(l.Rd);var f=1<this.Nk;this.ug(c.Rd);f&&this.Pr();var d=this.ok(c);d.Tb=c;b&&(h=this.types[a].V(),h.ia=!1,V(h.d),h.d[0]=b,this.types[a].qd());b=!0;if(c.parent){a=d.Kn;for(h=c.parent;h;)a.push(h),h=h.parent;a.reverse();h=0;for(e=a.length;h<e;h++)if(!a[h].Wr()){b=!1;break}}b&&(this.Zg++,c.uc?c.Vr(g):c.Ca(),k=k||d.oe);this.gn();f&&this.Hr();
this.hf(c.Rd);l&&this.hf(l.Rd);this.xd&&0===this.Yc&&0===I&&!this.Ij&&this.Qa();this.Nk--;return k};d.prototype.tq=function(){var b=this.eb();return b.Tb.Sa[b.mb]};d.prototype.Pr=function(){this.Hh++;this.Hh>=this.$j.length&&this.$j.push([])};d.prototype.Hr=function(){this.Hh--};d.prototype.Ql=function(){return this.$j[this.Hh]};d.prototype.ok=function(b){this.Yg++;this.Yg>=this.Zi.length&&this.Zi.push(new Ib);var a=this.eb();a.reset(b);return a};d.prototype.gn=function(){this.Yg--};d.prototype.eb=
function(){return this.Zi[this.Yg]};d.prototype.Rl=function(b,a){for(var c,g,h,e,k,l;a;){c=0;for(g=a.$b.length;c<g;c++)if(l=a.$b[c],l instanceof Jb&&cb(b,l.name))return l;a=a.parent}c=0;for(g=this.Tc.length;c<g;c++)for(k=this.Tc[c],h=0,e=k.vd.length;h<e;h++)if(l=k.vd[h],l instanceof Jb&&cb(b,l.name))return l;return null};d.prototype.Sl=function(b){var a,c;a=0;for(c=this.rc.length;a<c;a++)if(this.rc[a].K===b)return this.rc[a];return null};d.prototype.lh=function(b){var a,c;a=0;for(c=this.k.length;a<
c;a++)if(this.k[a].K===b)return this.k[a];return null};d.prototype.vq=function(b){var a,c;a=0;for(c=this.Fe.length;a<c;a++)if(this.Fe[a].K===b)return this.Fe[a];return null};d.prototype.ep=function(b,a){this.yg=[b,a];this.S=!0};d.prototype.Tq=function(){var b=this,a=this.zk,c=this.Zc,g=this.Ch,h=!1;this.Gn&&(h=!0,a="__c2_continuouspreview",this.Gn=!1);if(a.length){this.Qa();c=this.$r();if(m()&&!this.pc)v(a,c,function(){w("Saved state to IndexedDB storage ("+c.length+" bytes)");b.Zc=c;b.trigger(Z.prototype.C.yi,
null);b.Zc="";h&&f()},function(g){try{localStorage.setItem("__c2save_"+a,c),w("Saved state to WebStorage ("+c.length+" bytes)"),b.Zc=c,b.trigger(Z.prototype.C.yi,null),b.Zc="",h&&f()}catch(e){w("Failed to save game state: "+g+"; "+e),b.trigger(Z.prototype.C.el,null)}});else try{localStorage.setItem("__c2save_"+a,c),w("Saved state to WebStorage ("+c.length+" bytes)"),b.Zc=c,this.trigger(Z.prototype.C.yi,null),b.Zc="",h&&f()}catch(e){w("Error saving to WebStorage: "+e),b.trigger(Z.prototype.C.el,null)}this.Ua=
this.Ch=this.zk=""}if(g.length){if(m()&&!this.pc)p(g,function(a){a?(b.Ua=a,w("Loaded state from IndexedDB storage ("+b.Ua.length+" bytes)")):(b.Ua=localStorage.getItem("__c2save_"+g)||"",w("Loaded state from WebStorage ("+b.Ua.length+" bytes)"));b.zg=!1;b.Ua.length||b.trigger(Z.prototype.C.wi,null)},function(){b.Ua=localStorage.getItem("__c2save_"+g)||"";w("Loaded state from WebStorage ("+b.Ua.length+" bytes)");b.zg=!1;b.Ua.length||b.trigger(Z.prototype.C.wi,null)});else{try{this.Ua=localStorage.getItem("__c2save_"+
g)||"",w("Loaded state from WebStorage ("+this.Ua.length+" bytes)")}catch(k){this.Ua=""}this.zg=!1;b.Ua.length||b.trigger(Z.prototype.C.wi,null)}this.zk=this.Ch=""}this.Ua.length&&(this.Qa(),this.ir(this.Ua),this.Zc=this.Ua,this.trigger(Z.prototype.C.yo,null),this.Ua=this.Zc="")};d.prototype.$r=function(){var b,c,g,h,e,k,l,f={c2save:!0,version:1,rt:{time:this.Vb.ka,walltime:this.ri.ka,timescale:this.Cg,tickcount:this.gd,execcount:this.Zg,next_uid:this.ng,running_layout:this.U.K,start_time_offset:Date.now()-
this.hi},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};b=0;for(c=this.k.length;b<c;b++)if(e=this.k[b],!e.q&&!this.Ok(e)){k={instances:[]};Na(e.R)&&(k.ex=a(e.R));g=0;for(h=e.d.length;g<h;g++)k.instances.push(this.yk(e.d[g]));f.types[e.K.toString()]=k}b=0;for(c=this.rc.length;b<c;b++)g=this.rc[b],f.layouts[g.K.toString()]=g.Lb();h=f.events.groups;b=0;for(c=this.Fe.length;b<c;b++)g=this.Fe[b],h[g.K.toString()]=this.mh[g.Pf].Of;c=f.events.cnds;for(l in this.sd)this.sd.hasOwnProperty(l)&&
(b=this.sd[l],Na(b.R)&&(c[l]={ex:a(b.R)}));c=f.events.acts;for(l in this.od)this.od.hasOwnProperty(l)&&(b=this.od[l],Na(b.R)&&(c[l]={ex:a(b.R)}));c=f.events.vars;for(l in this.tf)this.tf.hasOwnProperty(l)&&(b=this.tf[l],b.vh||b.parent&&!b.Xf||(c[l]=b.data));f.system=this.Oc.Lb();return JSON.stringify(f)};d.prototype.nn=function(){var b,a,c,g,h,e;this.bd={};b=0;for(a=this.k.length;b<a;b++)if(c=this.k[b],!c.q)for(g=0,h=c.d.length;g<h;g++)e=c.d[g],this.bd[e.uid.toString()]=e};d.prototype.ir=function(b){b=
JSON.parse(b);if(b.c2save&&!(1<b.version)){this.Uf=!0;var a=b.rt;this.Vb.reset();this.Vb.ka=a.time;this.ri.reset();this.ri.ka=a.walltime||0;this.Cg=a.timescale;this.gd=a.tickcount;this.Zg=a.execcount;this.hi=Date.now()-a.start_time_offset;var c=a.running_layout;if(c!==this.U.K)if(c=this.Sl(c))this.El(c);else return;var g,h,e,k,l,f,d;f=b.types;for(h in f)if(f.hasOwnProperty(h)&&(k=this.lh(parseInt(h,10)))&&!k.q&&!this.Ok(k)){f[h].ex?k.R=f[h].ex:Oa(k.R);l=k.d;e=f[h].instances;c=0;for(g=ma(l.length,
e.length);c<g;c++)this.Dh(l[c],e[c]);c=e.length;for(g=l.length;c<g;c++)this.Ud(l[c]);c=l.length;for(g=e.length;c<g;c++){l=null;if(k.ma.Cd&&(l=this.U.kh(e[c].w.l),!l))continue;l=this.ae(k.Ec,l,!1,0,0,!0);this.Dh(l,e[c])}k.qf=!0}this.Qa();this.nn();g=b.layouts;for(h in g)g.hasOwnProperty(h)&&(c=this.Sl(parseInt(h,10)))&&c.tc(g[h]);g=b.events.groups;for(h in g)g.hasOwnProperty(h)&&(c=this.vq(parseInt(h,10)))&&this.mh[c.Pf]&&this.mh[c.Pf].as(g[h]);c=b.events.cnds;for(h in this.sd)this.sd.hasOwnProperty(h)&&
(c.hasOwnProperty(h)?this.sd[h].R=c[h].ex:this.sd[h].R={});c=b.events.acts;for(h in this.od)this.od.hasOwnProperty(h)&&(c.hasOwnProperty(h)?this.od[h].R=c[h].ex:this.od[h].R={});c=b.events.vars;for(h in c)c.hasOwnProperty(h)&&this.tf.hasOwnProperty(h)&&(this.tf[h].data=c[h]);this.ng=a.next_uid;this.Uf=!1;c=0;for(g=this.dh.length;c<g;++c)l=this.dh[c],this.trigger(Object.getPrototypeOf(l.type.ma).C.al,l);V(this.dh);this.Oc.tc(b.system);c=0;for(g=this.k.length;c<g;c++)if(k=this.k[c],!k.q&&!this.Ok(k))for(h=
0,b=k.d.length;h<b;h++){l=k.d[h];if(k.Ub)for(f=l.Nf(),V(l.siblings),a=0,e=k.nb.length;a<e;a++)d=k.nb[a],k!==d&&l.siblings.push(d.d[f]);l.Vd&&l.Vd();if(l.D)for(a=0,e=l.D.length;a<e;a++)f=l.D[a],f.Vd&&f.Vd()}this.S=!0}};d.prototype.yk=function(b,c){var g,h,e,k,l;k=b.type;e=k.ma;var f={};c?f.c2=!0:f.uid=b.uid;Na(b.R)&&(f.ex=a(b.R));if(b.xa&&b.xa.length)for(f.ivs={},g=0,h=b.xa.length;g<h;g++)f.ivs[b.type.Cj[g].toString()]=b.xa[g];if(e.Cd){e={x:b.x,y:b.y,w:b.width,h:b.height,l:b.e.K,zi:b.Hc()};0!==b.i&&
(e.a=b.i);1!==b.opacity&&(e.o=b.opacity);.5!==b.pb&&(e.hX=b.pb);.5!==b.qb&&(e.hY=b.qb);0!==b.Ra&&(e.bm=b.Ra);b.visible||(e.v=b.visible);b.Bf||(e.ce=b.Bf);-1!==b.mg&&(e.mts=b.mg);if(k.F.length)for(e.fx=[],g=0,h=k.F.length;g<h;g++)l=k.F[g],e.fx.push({name:l.name,active:b.nd[l.index],params:b.fa[l.index]});f.w=e}if(b.D&&b.D.length)for(f.behs={},g=0,h=b.D.length;g<h;g++)k=b.D[g],k.Lb&&(f.behs[k.type.K.toString()]=k.Lb());b.Lb&&(f.data=b.Lb());return f};d.prototype.xq=function(b,a){var c,g;c=0;for(g=b.Cj.length;c<
g;c++)if(b.Cj[c]===a)return c;return-1};d.prototype.qq=function(b,a){var c,g;c=0;for(g=b.D.length;c<g;c++)if(b.D[c].type.K===a)return c;return-1};d.prototype.Dh=function(b,a,c){var g,h,e,k,l;l=b.type;k=l.ma;if(c){if(!a.c2)return}else b.uid=a.uid;a.ex?b.R=a.ex:Oa(b.R);if(h=a.ivs)for(g in h)h.hasOwnProperty(g)&&(e=this.xq(l,parseInt(g,10)),0>e||e>=b.xa.length||(b.xa[e]=h[g]));if(k.Cd){e=a.w;b.e.K!==e.l&&(h=b.e,b.e=this.U.kh(e.l),b.e?(h.lf(b,!0),b.e.xf(b,!0),b.oa(),b.e.vg(0)):(b.e=h,c||this.Ud(b)));
b.x=e.x;b.y=e.y;b.width=e.w;b.height=e.h;b.Ac=e.zi;b.i=e.hasOwnProperty("a")?e.a:0;b.opacity=e.hasOwnProperty("o")?e.o:1;b.pb=e.hasOwnProperty("hX")?e.hX:.5;b.qb=e.hasOwnProperty("hY")?e.hY:.5;b.visible=e.hasOwnProperty("v")?e.v:!0;b.Bf=e.hasOwnProperty("ce")?e.ce:!0;b.mg=e.hasOwnProperty("mts")?e.mts:-1;b.Ra=e.hasOwnProperty("bm")?e.bm:0;b.Cf=$a(b.Ra);this.m&&ab(b,b.Ra,this.m);b.oa();if(e.hasOwnProperty("fx"))for(c=0,h=e.fx.length;c<h;c++)k=l.jj(e.fx[c].name),0>k||(b.nd[k]=e.fx[c].active,b.fa[k]=
e.fx[c].params);b.zc()}if(l=a.behs)for(g in l)l.hasOwnProperty(g)&&(c=this.qq(b,parseInt(g,10)),0>c||b.D[c].tc(l[g]));a.data&&b.tc(a.data)};d.prototype.Jl=function(b,a,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+b,function(b){b.file(a,c)},c)};d.prototype.Kl=function(b,a){this.Jl("data.js",function(c){var g=new FileReader;g.onload=function(a){b(a.target.result)};g.onerror=a;g.readAsText(c)},a)};var aa=[],F=0;d.prototype.bk=function(){if(aa.length&&!(8<=F)){F++;var b=
aa.shift();this.ip(b.filename,b.js,b.Gp)}};d.prototype.kq=function(b,a,c){var g=this;aa.push({filename:b,js:function(b){F--;g.bk();a(b)},Gp:function(b){F--;g.bk();c(b)}});this.bk()};d.prototype.ip=function(b,a,c){this.Jl(b,function(b){var c=new FileReader;c.onload=function(b){a(b.target.result)};c.readAsArrayBuffer(b)},c)};d.prototype.lq=function(b,a,c){this.kq(b,function(b){b=URL.createObjectURL(new Blob([b]));a(b)},c)};d.prototype.Zq=function(b){return/^(?:[a-z]+:)?\/\//.test(b)||"data:"===b.substr(0,
5)||"blob:"===b.substr(0,5)};d.prototype.zn=function(b,a){this.Jj&&!this.Zq(a)?this.lq(a,function(a){b.src=a},function(b){alert("Failed to load image: "+b)}):b.src=a};d.prototype.$h=function(b,a){"undefined"!==typeof b.imageSmoothingEnabled?b.imageSmoothingEnabled=a:(b.webkitImageSmoothingEnabled=a,b.mozImageSmoothingEnabled=a,b.msImageSmoothingEnabled=a)};Kb=function(b){return new d(document.getElementById(b))};Lb=function(b,a){return new d({dc:!0,width:b,height:a})};window.cr_createRuntime=Kb;window.cr_createDCRuntime=
Lb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.kl=!0;document.body.appendChild(b);b=new d(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new d(document.getElementById("canvas"));window.c2runtime=
b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,q){var m=window.cr_getC2Runtime();m&&m.ep(d,q)};window.cr_sizeCanvas=function(d,q){if(0!==d&&0!==q){var m=window.cr_getC2Runtime();m&&m.setSize(d,q)}};window.cr_setSuspended=function(d){var q=window.cr_getC2Runtime();q&&q.setSuspended(d)};
(function(){function d(b,a){this.b=b;this.fe=null;this.scrollX=this.b.Ba/2;this.scrollY=this.b.Aa/2;this.scale=1;this.i=0;this.Oe=!0;this.name=a[0];this.Dr=a[1];this.Cr=a[2];this.width=a[1];this.height=a[2];this.Un=a[3];this.En=a[4];this.K=a[5];var c=a[6],h,e;this.G=[];this.Sf=[];h=0;for(e=c.length;h<e;h++){var f=new Mb(this,c[h]);f.Wm=h;this.G.push(f)}c=a[7];this.ke=[];h=0;for(e=c.length;h<e;h++){var f=c[h],d=this.b.k[f[1]];d.Ec||(d.Ec=f);this.ke.push(f);-1===this.Sf.indexOf(d)&&this.Sf.push(d)}this.F=
[];this.N=[];this.dd=!0;this.fa=[];h=0;for(e=a[8].length;h<e;h++)this.F.push({id:a[8][h][0],name:a[8][h][1],ua:-1,Xb:!1,Ea:!0,index:h}),this.fa.push(a[8][h][2].slice(0));this.zc();this.kf=new U(0,0,1,1);this.rk=new U(0,0,1,1);this.Md={}}function q(b,a){return b.Ac-a.Ac}function m(b,a){this.Ga=b;this.b=b.b;this.d=[];this.scale=1;this.i=0;this.Sc=!1;this.hd=new U(0,0,0,0);this.On=new sa;this.O=this.M=this.P=this.L=0;this.Be=!1;this.kd=-1;this.Ri=0;this.name=a[0];this.index=a[1];this.K=a[2];this.visible=
a[3];this.ic=a[4];this.yc=a[5];this.Jc=a[6];this.Kc=a[7];this.opacity=a[8];this.hh=a[9];this.Pb=a[10];this.ld=a[11];this.Ra=a[12];this.Cp=a[13];this.Cf="source-over";this.Ta=this.Va=0;this.Oa=null;this.$c=n();this.xc=!0;this.Xe=new U(0,0,-1,-1);this.Ka=new U(0,0,-1,-1);this.Pb&&(this.Oa=new Za(this.b.Ba,this.b.Aa));this.Mc=!1;var c=a[14],h,e;this.Jn=[];this.Hb=[];this.Ff=[];h=0;for(e=c.length;h<e;h++){var f=c[h],d=this.b.k[f[1]];d.Ec||(d.Ec=f,d.dp=this.index);this.Hb.push(f);-1===this.Ga.Sf.indexOf(d)&&
this.Ga.Sf.push(d)}wa(this.Jn,this.Hb);this.F=[];this.N=[];this.dd=!0;this.fa=[];h=0;for(e=a[15].length;h<e;h++)this.F.push({id:a[15][h][0],name:a[15][h][1],ua:-1,Xb:!1,Ea:!0,index:h}),this.fa.push(a[15][h][2].slice(0));this.zc();this.kf=new U(0,0,1,1);this.rk=new U(0,0,1,1)}function n(){return a.length?a.pop():[]}function v(b){V(b);a.push(b)}d.prototype.Zr=function(b){var a=b.type.K.toString();this.Md.hasOwnProperty(a)||(this.Md[a]=[]);this.Md[a].push(this.b.yk(b))};d.prototype.Yl=function(){var b=
this.G[0];return!b.yc&&1===b.opacity&&!b.hh&&b.visible};d.prototype.zc=function(){V(this.N);this.dd=!0;var b,a,c;b=0;for(a=this.F.length;b<a;b++)c=this.F[b],c.Ea&&(this.N.push(c),c.Xb||(this.dd=!1))};d.prototype.ij=function(b){var a,c,h;a=0;for(c=this.F.length;a<c;a++)if(h=this.F[a],h.name===b)return h;return null};var p=[],f=!0;d.prototype.Dk=function(){this.En&&(this.fe=this.b.$i[this.En],this.fe.Rk());this.b.U=this;this.width=this.Dr;this.height=this.Cr;this.scrollX=this.b.Ba/2;this.scrollY=this.b.Aa/
2;var b,a,c,h,e,d,m;b=0;for(c=this.b.k.length;b<c;b++)if(a=this.b.k[b],!a.q)for(e=a.d,a=0,h=e.length;a<h;a++)if(d=e[a],d.e){var k=d.e.Wm;k>=this.G.length&&(k=this.G.length-1);d.e=this.G[k];-1===d.e.d.indexOf(d)&&d.e.d.push(d);d.e.Be=!0}if(!f)for(b=0,c=this.G.length;b<c;++b)this.G[b].d.sort(q);V(p);this.Qo();b=0;for(c=this.G.length;b<c;b++)d=this.G[b],d.bp(),d.pi();e=!1;if(!this.Oe){for(m in this.Md)if(this.Md.hasOwnProperty(m)&&(a=this.b.lh(parseInt(m,10)))&&!a.q&&this.b.Pk(a)){h=this.Md[m];b=0;for(c=
h.length;b<c;b++){d=null;if(a.ma.Cd&&(d=this.kh(h[b].w.l),!d))continue;d=this.b.ae(a.Ec,d,!1,0,0,!0);this.b.Dh(d,h[b]);e=!0;p.push(d)}V(h)}b=0;for(c=this.G.length;b<c;b++)this.G[b].d.sort(q),this.G[b].Be=!0}e&&(this.b.Qa(),this.b.nn());for(b=0;b<p.length;b++)if(d=p[b],d.type.Ub)for(c=d.Nf(),a=0,h=d.type.nb.length;a<h;a++)m=d.type.nb[a],d.type!==m&&(m.d.length>c?d.siblings.push(m.d[c]):m.Ec&&(e=this.b.ae(m.Ec,d.e,!0,d.x,d.y,!0),this.b.Qa(),m.oi(),d.siblings.push(e),p.push(e)));b=0;for(c=this.ke.length;b<
c;b++)this.b.ae(this.ke[b],null,!0);this.b.Af=null;this.b.Qa();if(this.b.ea&&!this.b.hb)for(b=0,c=this.b.k.length;b<c;b++)m=this.b.k[b],!m.q&&m.d.length&&m.kk&&m.kk(this.b.ea);if(this.b.Uf)wa(this.b.dh,p);else for(b=0,c=p.length;b<c;b++)d=p[b],this.b.trigger(Object.getPrototypeOf(d.type.ma).C.al,d);V(p);this.b.Uf||this.b.trigger(Z.prototype.C.bl,null);this.Oe=!1};d.prototype.$o=function(){var b,a,c,h,e;a=b=0;for(c=this.ke.length;b<c;b++)h=this.ke[b],e=this.b.k[h[1]],e.global?e.Ub||this.b.ae(h,null,
!0):(this.ke[a]=h,a++);va(this.ke,a)};d.prototype.hs=function(){this.b.Uf||this.b.trigger(Z.prototype.C.xo,null);this.b.Fj=!0;V(this.b.Oc.yb);var b,a,c,h,e,d;if(!this.Oe)for(b=0,a=this.G.length;b<a;b++)for(this.G[b].Tk(),e=this.G[b].d,c=0,h=e.length;c<h;c++)d=e[c],d.type.global||this.b.Pk(d.type)&&this.Zr(d);b=0;for(a=this.G.length;b<a;b++){e=this.G[b].d;c=0;for(h=e.length;c<h;c++)d=e[c],d.type.global||this.b.Ud(d);this.b.Qa();V(e);this.G[b].Be=!0}b=0;for(a=this.b.k.length;b<a;b++)if(e=this.b.k[b],
!(e.global||e.ma.Cd||e.ma.di||e.q)){c=0;for(h=e.d.length;c<h;c++)this.b.Ud(e.d[c]);this.b.Qa()}f=!1;this.b.Fj=!1};new U(0,0,0,0);d.prototype.Fb=function(b){var a,c=b,h=!1,e=!this.b.Gb;e&&(this.b.Bh||(this.b.Bh=document.createElement("canvas"),a=this.b.Bh,a.width=this.b.A,a.height=this.b.u,this.b.xm=a.getContext("2d"),h=!0),a=this.b.Bh,c=this.b.xm,a.width!==this.b.A&&(a.width=this.b.A,h=!0),a.height!==this.b.u&&(a.height=this.b.u,h=!0),h&&this.b.$h(c,this.b.aa));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.b.Ci&&!this.Yl()&&c.clearRect(0,0,this.b.A,this.b.u);var f,d,h=0;for(f=this.G.length;h<f;h++)d=this.G[h],d.visible&&0<d.opacity&&11!==d.Ra&&(d.d.length||!d.yc)?d.Fb(c):d.pi();e&&b.drawImage(a,0,0,this.b.width,this.b.height)};d.prototype.Ke=function(b){b.yn(!0);this.b.qa||(this.b.qa=b.bb(this.b.A,this.b.u,this.b.aa));if(this.b.qa.$d!==this.b.A||this.b.qa.Zd!==this.b.u)b.deleteTexture(this.b.qa),this.b.qa=b.bb(this.b.A,this.b.u,this.b.aa);b.Zb(this.b.qa);this.b.Gb||b.we(this.b.A,
this.b.u);var a,c;for(a=this.G.length-1;0<=a;--a)c=this.G[a],c.visible&&1===c.opacity&&c.dd&&0===c.Ra&&(c.d.length||!c.yc)?c.Ke(b):c.pi();b.yn(!1)};d.prototype.Xa=function(b){var a=0<this.N.length||this.b.rf||!this.b.Gb||this.b.T;if(a){this.b.qa||(this.b.qa=b.bb(this.b.A,this.b.u,this.b.aa));if(this.b.qa.$d!==this.b.A||this.b.qa.Zd!==this.b.u)b.deleteTexture(this.b.qa),this.b.qa=b.bb(this.b.A,this.b.u,this.b.aa);b.Zb(this.b.qa);this.b.Gb||b.we(this.b.A,this.b.u)}else this.b.qa&&(b.Zb(null),b.deleteTexture(this.b.qa),
this.b.qa=null);this.b.Ci&&!this.Yl()&&b.clear(0,0,0,0);var c,h,e;c=0;for(h=this.G.length;c<h;c++)e=this.G[c],e.visible&&0<e.opacity&&(e.d.length||!e.yc)?e.Xa(b):e.pi();a&&(0===this.N.length||1===this.N.length&&this.b.Gb?(1===this.N.length?(a=this.N[0].index,b.jb(this.N[0].ua),b.nf(null,1/this.b.A,1/this.b.u,0,0,1,1,this.scale,this.i,0,0,this.b.A/2,this.b.u/2,this.b.Vb.ka,this.fa[a]),b.Uh(this.N[0].ua)&&(this.b.S=!0)):b.jb(0),this.b.Gb||b.we(this.b.width,this.b.height),b.Zb(null),b.xn(!1),b.Qd(1),
b.Da(this.b.qa),b.vn(),b.Yb(),b.Ob(),a=this.b.width/2,c=this.b.height/2,b.Nd(-a,c,a,c,a,-c,-a,-c),b.Da(null),b.xn(!0)):this.sk(b,null,null,null))};d.prototype.Mf=function(){return 0<this.N.length||this.b.rf||!this.b.Gb||this.b.T?this.b.qa:null};d.prototype.Tl=function(){var b=this.G[0].fb(),a,c,h;a=1;for(c=this.G.length;a<c;a++)h=this.G[a],(0!==h.Jc||0!==h.Kc)&&h.fb()<b&&(b=h.fb());return b};d.prototype.tn=function(b){if(!this.Un){var a=1/this.Tl()*this.b.A/2;b>this.width-a&&(b=this.width-a);b<a&&
(b=a)}this.scrollX!==b&&(this.scrollX=b,this.b.S=!0)};d.prototype.un=function(b){if(!this.Un){var a=1/this.Tl()*this.b.u/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.S=!0)};d.prototype.Qo=function(){this.tn(this.scrollX);this.un(this.scrollY)};d.prototype.sk=function(b,a,c,h){var e=c?c.N:a?a.N:this.N,f=1,d=0,k=0,t=0,p=this.b.A,m=this.b.u;c?(f=c.e.fb(),d=c.e.ob(),k=c.e.L,t=c.e.M,p=c.e.P,m=c.e.O):a&&(f=a.fb(),d=a.ob(),k=a.L,t=a.M,p=a.P,m=a.O);var q=this.b.ej,
n,v,z,B,I=0,aa=1,F,u,J=this.b.A,R=this.b.u,Fa=J/2,Ga=R/2,K=a?a.kf:this.kf,E=a?a.rk:this.rk,M=0,T=0,G=0,y=0,P=J,qa=J,N=R,ra=R,ka=z=0;B=c?c.e.ob():0;if(c){n=0;for(v=e.length;n<v;n++)z+=b.Bq(e[n].ua),ka+=b.Cq(e[n].ua);y=c.ca;M=a.ya(y.left,y.top,!0);G=a.ya(y.left,y.top,!1);P=a.ya(y.right,y.bottom,!0);N=a.ya(y.right,y.bottom,!1);0!==B&&(n=a.ya(y.right,y.top,!0),v=a.ya(y.right,y.top,!1),T=a.ya(y.left,y.bottom,!0),y=a.ya(y.left,y.bottom,!1),B=Math.min(M,P,n,T),P=Math.max(M,P,n,T),M=B,B=Math.min(G,N,v,y),
N=Math.max(G,N,v,y),G=B);M-=z;G-=ka;P+=z;N+=ka;E.left=M/J;E.top=1-G/R;E.right=P/J;E.bottom=1-N/R;T=M=Q(M);y=G=Q(G);qa=P=oa(P);ra=N=oa(N);T-=z;y-=ka;qa+=z;ra+=ka;0>M&&(M=0);0>G&&(G=0);P>J&&(P=J);N>R&&(N=R);0>T&&(T=0);0>y&&(y=0);qa>J&&(qa=J);ra>R&&(ra=R);K.left=M/J;K.top=1-G/R;K.right=P/J;K.bottom=1-N/R}else K.left=E.left=0,K.top=E.top=0,K.right=E.right=1,K.bottom=E.bottom=1;ka=c&&(b.sg(e[0].ua)||0!==z||0!==ka||1!==c.opacity||c.type.ma.Sm)||a&&!c&&1!==a.opacity;b.vn();if(ka){q[I]||(q[I]=b.bb(J,R,this.b.aa));
if(q[I].$d!==J||q[I].Zd!==R)b.deleteTexture(q[I]),q[I]=b.bb(J,R,this.b.aa);b.jb(0);b.Zb(q[I]);u=ra-y;b.clearRect(T,R-y-u,qa-T,u);c?c.Xa(b):(b.Da(this.b.za),b.Qd(a.opacity),b.Yb(),b.translate(-Fa,-Ga),b.Ob(),b.Od(M,N,P,N,P,G,M,G,K));E.left=E.top=0;E.right=E.bottom=1;c&&(B=K.top,K.top=K.bottom,K.bottom=B);I=1;aa=0}b.Qd(1);z=e.length-1;var Ua=b.mk(e[z].ua)||!a&&!c&&!this.b.Gb;n=B=0;for(v=e.length;n<v;n++){q[I]||(q[I]=b.bb(J,R,this.b.aa));if(q[I].$d!==J||q[I].Zd!==R)b.deleteTexture(q[I]),q[I]=b.bb(J,
R,this.b.aa);b.jb(e[n].ua);B=e[n].index;b.Uh(e[n].ua)&&(this.b.S=!0);0!=n||ka?(b.nf(h,1/J,1/R,E.left,E.top,E.right,E.bottom,f,d,k,t,(k+p)/2,(t+m)/2,this.b.Vb.ka,c?c.fa[B]:a?a.fa[B]:this.fa[B]),b.Da(null),n!==z||Ua?(b.Zb(q[I]),u=ra-y,F=R-y-u,b.clearRect(T,F,qa-T,u)):(c?b.Pd(c.Va,c.Ta):a&&b.Pd(a.Va,a.Ta),b.Zb(h)),b.Da(q[aa]),b.Yb(),b.translate(-Fa,-Ga),b.Ob(),b.Od(M,N,P,N,P,G,M,G,K),n!==z||Ua||b.Da(null)):(b.Zb(q[I]),u=ra-y,F=R-y-u,b.clearRect(T,F,qa-T,u),c?(c.Ja&&c.Ja.Y?(F=c.Ja.Y,aa=1/F.width,F=1/
F.height):(aa=1/c.width,F=1/c.height),b.nf(h,aa,F,E.left,E.top,E.right,E.bottom,f,d,k,t,(k+p)/2,(t+m)/2,this.b.Vb.ka,c.fa[B]),c.Xa(b)):(b.nf(h,1/J,1/R,0,0,1,1,f,d,k,t,(k+p)/2,(t+m)/2,this.b.Vb.ka,a?a.fa[B]:this.fa[B]),b.Da(a?this.b.za:this.b.qa),b.Yb(),b.translate(-Fa,-Ga),b.Ob(),b.Od(M,N,P,N,P,G,M,G,K)),E.left=E.top=0,E.right=E.bottom=1,c&&!Ua&&(B=N,N=G,G=B));I=0===I?1:0;aa=0===I?1:0}Ua&&(b.jb(0),c?b.Pd(c.Va,c.Ta):a?b.Pd(a.Va,a.Ta):this.b.Gb||(b.we(this.b.width,this.b.height),Fa=this.b.width/2,Ga=
this.b.height/2,G=M=0,P=this.b.width,N=this.b.height),b.Zb(h),b.Da(q[aa]),b.Yb(),b.translate(-Fa,-Ga),b.Ob(),c&&1===e.length&&!ka?b.Od(M,G,P,G,P,N,M,N,K):b.Od(M,N,P,N,P,G,M,G,K),b.Da(null))};d.prototype.kh=function(b){var a,c;a=0;for(c=this.G.length;a<c;a++)if(this.G[a].K===b)return this.G[a];return null};d.prototype.Lb=function(){var b,a,c,e={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.Oe,persist:this.Md,fx:[],layers:{}};b=0;for(a=this.F.length;b<a;b++)c=
this.F[b],e.fx.push({name:c.name,active:c.Ea,params:this.fa[c.index]});b=0;for(a=this.G.length;b<a;b++)c=this.G[b],e.layers[c.K.toString()]=c.Lb();return e};d.prototype.tc=function(b){var a,c,e,f;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.i=b.a;this.width=b.w;this.height=b.h;this.Md=b.persist;"undefined"!==typeof b.fv&&(this.Oe=b.fv);var d=b.fx;a=0;for(c=d.length;a<c;a++)if(e=this.ij(d[a].name))e.Ea=d[a].active,this.fa[e.index]=d[a].params;this.zc();a=b.layers;for(f in a)a.hasOwnProperty(f)&&
(b=this.kh(parseInt(f,10)))&&b.tc(a[f])};yb=d;m.prototype.zc=function(){V(this.N);this.dd=!0;var b,a,c;b=0;for(a=this.F.length;b<a;b++)c=this.F[b],c.Ea&&(this.N.push(c),c.Xb||(this.dd=!1))};m.prototype.ij=function(b){var a,c,e;a=0;for(c=this.F.length;a<c;a++)if(e=this.F[a],e.name===b)return e;return null};m.prototype.bp=function(){var b,a,c,e,f,d;a=b=0;for(c=this.Hb.length;b<c;b++){e=this.Hb[b];f=this.b.k[e[1]];d=this.b.Pk(f);f=!0;if(!d||this.Ga.Oe){e=this.b.ae(e,this,!0);if(!e)continue;p.push(e);
e.type.global&&(f=!1,this.Ff.push(e.uid))}f&&(this.Hb[a]=this.Hb[b],a++)}this.Hb.length=a;this.b.Qa();!this.b.j&&this.F.length&&(this.Ra=this.Cp);this.Cf=$a(this.Ra);this.b.m&&ab(this,this.Ra,this.b.m);this.xc=!0};m.prototype.lf=function(b,a){var c=ya(this.d,b);0>c||(a&&this.Pb&&b.ib&&b.ib.right>=b.ib.left&&(b.la(),this.Oa.update(b,b.ib,null),b.ib.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(ua(this.d,c),this.vg(c)),this.xc=!0)};m.prototype.xf=function(b,a){b.Ac=this.d.length;this.d.push(b);
a&&this.Pb&&b.ib&&b.oa();this.xc=!0};m.prototype.Mr=function(b){this.d.unshift(b);this.vg(0)};m.prototype.nr=function(b,a,c){var e=b.Hc();a=a.Hc();ua(this.d,e);e<a&&a--;c&&a++;a===this.d.length?this.d.push(b):this.d.splice(a,0,b);this.vg(e<a?e:a)};m.prototype.vg=function(b){-1===this.kd?this.kd=b:b<this.kd&&(this.kd=b);this.xc=this.Be=!0};m.prototype.Tk=function(){if(this.Be){-1===this.kd&&(this.kd=0);var b,a,c;if(this.Pb)for(b=this.kd,a=this.d.length;b<a;++b)c=this.d[b],c.Ac=b,this.Oa.kr(c.ib);else for(b=
this.kd,a=this.d.length;b<a;++b)this.d[b].Ac=b;this.Be=!1;this.kd=-1}};m.prototype.fb=function(b){return this.yq()*(this.b.Gb||b?this.b.yf:1)};m.prototype.yq=function(){return(this.scale*this.Ga.scale-1)*this.ld+1};m.prototype.ob=function(){return this.Sc?0:Da(this.Ga.i+this.i)};var a=[],c=[],e=[];m.prototype.nj=function(){this.Tk();this.Oa.Vh(this.L,this.M,this.P,this.O,e);if(!e.length)return n();if(1===e.length){var b=n();wa(b,e[0]);V(e);return b}for(var a=!0;1<e.length;){for(var b=e,f=void 0,h=
void 0,d=void 0,p=void 0,m=void 0,f=0,h=b.length;f<h-1;f+=2){var d=b[f],p=b[f+1],m=n(),k=d,t=p,q=m,L=0,C=0,A=0,S=k.length,z=t.length,B=void 0,I=void 0;for(q.length=S+z;L<S&&C<z;++A)B=k[L],I=t[C],B.Ac<I.Ac?(q[A]=B,++L):(q[A]=I,++C);for(;L<S;++L,++A)q[A]=k[L];for(;C<z;++C,++A)q[A]=t[C];a||(v(d),v(p));c.push(m)}1===h%2&&(a?(d=n(),wa(d,b[h-1]),c.push(d)):c.push(b[h-1]));wa(b,c);V(c);a=!1}b=e[0];V(e);return b};m.prototype.Fb=function(b){this.Mc=this.hh||1!==this.opacity||0!==this.Ra;var a=this.b.canvas,
c=b,e=!1;this.Mc&&(this.b.Ah||(this.b.Ah=document.createElement("canvas"),a=this.b.Ah,a.width=this.b.A,a.height=this.b.u,this.b.wm=a.getContext("2d"),e=!0),a=this.b.Ah,c=this.b.wm,a.width!==this.b.A&&(a.width=this.b.A,e=!0),a.height!==this.b.u&&(a.height=this.b.u,e=!0),e&&this.b.$h(c,this.b.aa),this.yc&&c.clearRect(0,0,this.b.A,this.b.u));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.yc||(c.fillStyle="rgb("+this.ic[0]+","+this.ic[1]+","+this.ic[2]+")",c.fillRect(0,0,this.b.A,this.b.u));
c.save();this.Sc=!0;var e=this.Wa(0,0,!0,!0),f=this.Wa(0,0,!1,!0);this.Sc=!1;this.b.vc&&(e=Math.round(e),f=Math.round(f));this.Yh(e,f,c);var d=this.fb();c.scale(d,d);c.translate(-e,-f);this.Pb?(this.Ka.left=this.Oa.$a(this.L),this.Ka.top=this.Oa.ab(this.M),this.Ka.right=this.Oa.$a(this.P),this.Ka.bottom=this.Oa.ab(this.O),this.xc||!this.Ka.Hf(this.Xe)?(v(this.$c),e=this.nj(),this.xc=!1,this.Xe.Df(this.Ka)):e=this.$c):e=this.d;for(var p,k=null,f=0,d=e.length;f<d;++f)p=e[f],p!==k&&(this.xp(p,c),k=p);
this.Pb&&(this.$c=e);c.restore();this.Mc&&(b.globalCompositeOperation=this.Cf,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};m.prototype.xp=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.la();var c=b.ca;c.right<this.L||c.bottom<this.M||c.left>this.P||c.top>this.O||(a.globalCompositeOperation=b.Cf,b.Fb(a))}};m.prototype.pi=function(){this.Sc=!0;var b=this.Wa(0,0,!0,!0),a=this.Wa(0,0,!1,!0);this.Sc=!1;this.b.vc&&(b=Math.round(b),a=Math.round(a));this.Yh(b,a,null)};m.prototype.Yh=function(b,
a,c){var e=this.fb();this.L=b;this.M=a;this.P=b+1/e*this.b.A;this.O=a+1/e*this.b.u;this.L>this.P&&(b=this.L,this.L=this.P,this.P=b);this.M>this.O&&(b=this.M,this.M=this.O,this.O=b);b=this.ob();0!==b&&(c&&(c.translate(this.b.A/2,this.b.u/2),c.rotate(-b),c.translate(this.b.A/-2,this.b.u/-2)),this.hd.set(this.L,this.M,this.P,this.O),this.hd.offset((this.L+this.P)/-2,(this.M+this.O)/-2),this.On.Cn(this.hd,b),this.On.ql(this.hd),this.hd.offset((this.L+this.P)/2,(this.M+this.O)/2),this.L=this.hd.left,this.M=
this.hd.top,this.P=this.hd.right,this.O=this.hd.bottom)};m.prototype.Ke=function(b){if(this.Mc=this.hh){this.b.za||(this.b.za=b.bb(this.b.A,this.b.u,this.b.aa));if(this.b.za.$d!==this.b.A||this.b.za.Zd!==this.b.u)b.deleteTexture(this.b.za),this.b.za=b.bb(this.b.A,this.b.u,this.b.aa);b.Zb(this.b.za)}this.Sc=!0;var a=this.Wa(0,0,!0,!0),c=this.Wa(0,0,!1,!0);this.Sc=!1;this.b.vc&&(a=Math.round(a),c=Math.round(c));this.Yh(a,c,null);a=this.fb();b.Yb();b.scale(a,a);b.Zh(-this.ob());b.translate((this.L+this.P)/
-2,(this.M+this.O)/-2);b.Ob();this.Pb?(this.Ka.left=this.Oa.$a(this.L),this.Ka.top=this.Oa.ab(this.M),this.Ka.right=this.Oa.$a(this.P),this.Ka.bottom=this.Oa.ab(this.O),this.xc||!this.Ka.Hf(this.Xe)?(v(this.$c),a=this.nj(),this.xc=!1,this.Xe.Df(this.Ka)):a=this.$c):a=this.d;for(var e,f=null,c=a.length-1;0<=c;--c)e=a[c],e!==f&&(this.zp(a[c],b),f=e);this.Pb&&(this.$c=a);this.yc||(this.Ri=this.b.ee++,b.ai(this.Ri),b.wn(1,1,1),b.Nl(),b.Sr())};m.prototype.Xa=function(b){var a=0,c=0;if(this.Mc=this.hh||
1!==this.opacity||0<this.N.length||0!==this.Ra){this.b.za||(this.b.za=b.bb(this.b.A,this.b.u,this.b.aa));if(this.b.za.$d!==this.b.A||this.b.za.Zd!==this.b.u)b.deleteTexture(this.b.za),this.b.za=b.bb(this.b.A,this.b.u,this.b.aa);b.Zb(this.b.za);this.yc&&b.clear(0,0,0,0)}this.yc||(this.b.T?(b.ai(this.Ri),b.wn(this.ic[0]/255,this.ic[1]/255,this.ic[2]/255),b.Nl(),b.bs()):b.clear(this.ic[0]/255,this.ic[1]/255,this.ic[2]/255,1));this.Sc=!0;var e=this.Wa(0,0,!0,!0),a=this.Wa(0,0,!1,!0);this.Sc=!1;this.b.vc&&
(e=Math.round(e),a=Math.round(a));this.Yh(e,a,null);e=this.fb();b.Yb();b.scale(e,e);b.Zh(-this.ob());b.translate((this.L+this.P)/-2,(this.M+this.O)/-2);b.Ob();this.Pb?(this.Ka.left=this.Oa.$a(this.L),this.Ka.top=this.Oa.ab(this.M),this.Ka.right=this.Oa.$a(this.P),this.Ka.bottom=this.Oa.ab(this.O),this.xc||!this.Ka.Hf(this.Xe)?(v(this.$c),a=this.nj(),this.xc=!1,this.Xe.Df(this.Ka)):a=this.$c):a=this.d;var f,d,p=null,c=0;for(f=a.length;c<f;++c)d=a[c],d!==p&&(this.yp(a[c],b),p=d);this.Pb&&(this.$c=a);
this.Mc&&(a=this.N.length?this.N[0].ua:0,c=this.N.length?this.N[0].index:0,0===this.N.length||1===this.N.length&&!b.mk(a)&&1===this.opacity?(1===this.N.length?(b.jb(a),b.nf(this.Ga.Mf(),1/this.b.A,1/this.b.u,0,0,1,1,e,this.ob(),this.L,this.M,(this.L+this.P)/2,(this.M+this.O)/2,this.b.Vb.ka,this.fa[c]),b.Uh(a)&&(this.b.S=!0)):b.jb(0),b.Zb(this.Ga.Mf()),b.Qd(this.opacity),b.Da(this.b.za),b.Pd(this.Va,this.Ta),b.Yb(),b.Ob(),e=this.b.A/2,a=this.b.u/2,b.Nd(-e,a,e,a,e,-a,-e,-a),b.Da(null)):this.Ga.sk(b,
this,null,this.Ga.Mf()))};m.prototype.yp=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.la();var c=b.ca;c.right<this.L||c.bottom<this.M||c.left>this.P||c.top>this.O||(a.ai(b.ee),b.$n?this.Ap(b,a):(a.jb(0),a.Pd(b.Va,b.Ta),b.Xa(a)))}};m.prototype.zp=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.la();var c=b.ca;c.right<this.L||c.bottom<this.M||c.left>this.P||c.top>this.O||(b.ee=this.b.ee++,0===b.Ra&&1===b.opacity&&b.dd&&b.Ke&&(a.ai(b.ee),b.Ke(a)))}};m.prototype.Ap=function(b,a){var c=
b.N[0].ua,e=b.N[0].index,f=this.fb();if(1!==b.N.length||a.mk(c)||a.Or(c)||(b.i||b.e.ob())&&a.sg(c)||1!==b.opacity||b.type.ma.Sm)this.Ga.sk(a,this,b,this.Mc?this.b.za:this.Ga.Mf()),a.Yb(),a.scale(f,f),a.Zh(-this.ob()),a.translate((this.L+this.P)/-2,(this.M+this.O)/-2),a.Ob();else{a.jb(c);a.Pd(b.Va,b.Ta);a.Uh(c)&&(this.b.S=!0);var d=0,p=0,k=0,t=0;a.sg(c)&&(t=b.ca,d=this.ya(t.left,t.top,!0),p=this.ya(t.left,t.top,!1),k=this.ya(t.right,t.bottom,!0),t=this.ya(t.right,t.bottom,!1),d=d/windowWidth,p=1-p/
windowHeight,k=k/windowWidth,t=1-t/windowHeight);var m;b.Ja&&b.Ja.Y?(m=b.Ja.Y,c=1/m.width,m=1/m.height):(c=1/b.width,m=1/b.height);a.nf(this.Mc?this.b.za:this.Ga.Mf(),c,m,d,p,k,t,f,this.ob(),this.L,this.M,(this.L+this.P)/2,(this.M+this.O)/2,this.b.Vb.ka,b.fa[e]);b.Xa(a)}};m.prototype.Wa=function(b,a,c,e){var f=this.b.devicePixelRatio;this.b.Qe&&(b*=f,a*=f);var f=this.b.an,d=this.b.bn,f=(this.Ga.scrollX-f)*this.Jc+f,d=(this.Ga.scrollY-d)*this.Kc+d,p=f,k=d,t=1/this.fb(!e);e?(p-=this.b.A*t/2,k-=this.b.u*
t/2):(p-=this.b.width*t/2,k-=this.b.height*t/2);p+=b*t;k+=a*t;a=this.ob();0!==a&&(p-=f,k-=d,b=Math.cos(a),a=Math.sin(a),e=p*b-k*a,k=k*b+p*a,p=e+f,k+=d);return c?p:k};m.prototype.ya=function(b,a,c){var e=this.b.an,f=this.b.bn,e=(this.Ga.scrollX-e)*this.Jc+e,d=(this.Ga.scrollY-f)*this.Kc+f,f=e,p=d,k=this.ob();if(0!==k){b-=e;a-=d;var t=Math.cos(-k),k=Math.sin(-k),m=b*t-a*k;a=a*t+b*k;b=m+e;a+=d}e=1/this.fb(!1);f-=this.b.A*e/2;p-=this.b.u*e/2;f=(b-f)/e;return c?f:(a-p)/e};m.prototype.Lb=function(){var b,
a,c,e={s:this.scale,a:this.i,vl:this.L,vt:this.M,vr:this.P,vb:this.O,v:this.visible,bc:this.ic,t:this.yc,px:this.Jc,py:this.Kc,o:this.opacity,zr:this.ld,fx:[],cg:this.Ff,instances:[]};b=0;for(a=this.F.length;b<a;b++)c=this.F[b],e.fx.push({name:c.name,active:c.Ea,params:this.fa[c.index]});return e};m.prototype.tc=function(b){var a,c,e;this.scale=b.s;this.i=b.a;this.L=b.vl;this.M=b.vt;this.P=b.vr;this.O=b.vb;this.visible=b.v;this.ic=b.bc;this.yc=b.t;this.Jc=b.px;this.Kc=b.py;this.opacity=b.o;this.ld=
b.zr;this.Ff=b.cg||[];wa(this.Hb,this.Jn);var f=new ca;a=0;for(e=this.Ff.length;a<e;++a)f.add(this.Ff[a]);c=a=0;for(e=this.Hb.length;a<e;++a)f.contains(this.Hb[a][2])||(this.Hb[c]=this.Hb[a],++c);va(this.Hb,c);c=b.fx;a=0;for(e=c.length;a<e;a++)if(b=this.ij(c[a].name))b.Ea=c[a].active,this.fa[b.index]=c[a].params;this.zc();this.d.sort(q);this.Be=!0};Mb=m})();
(function(){function d(b,a){var c,e=b.length;switch(e){case 0:return!0;case 1:return b[0]===a[0];case 2:return b[0]===a[0]&&b[1]===a[1];default:for(c=0;c<e;c++)if(b[c]!==a[c])return!1;return!0}}function q(b,a){return b.index-a.index}function m(b){var a,c,e,h;2===b.length?b[0].index>b[1].index&&(a=b[0],b[0]=b[1],b[1]=a):2<b.length&&b.sort(q);b.length>=x.length&&(x.length=b.length+1);x[b.length]||(x[b.length]=[]);h=x[b.length];a=0;for(c=h.length;a<c;a++)if(e=h[a],d(b,e))return e;h.push(b);return b}
function n(b,a){this.b=b;this.Rn={};this.Il={};this.uj=!1;this.$l=new ca;this.Xi=[];this.Di=[];this.name=a[0];var c=a[1];this.vd=[];var e,h;e=0;for(h=c.length;e<h;e++)this.cm(c[e],null,this.vd)}function v(b){this.type=b;this.d=[];this.J=[];this.ia=!0}function p(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.pa=[];this.Rd=[];this.Zl=this.li=this.Lk=this.yj=this.group=this.In=!1;this.Sa=[];this.gc=[];this.$b=[];this.Pf="";this.Of=this.yj=this.group=!1;this.Qg=null;c[1]&&(this.Pf=c[1][1].toLowerCase(),
this.group=!0,this.yj=!!c[1][0],this.Qg=[],this.Of=this.yj,this.b.Fe.push(this),this.b.mh[this.Pf]=this);this.uc=c[2];this.K=c[4];this.group||(this.b.pl[this.K.toString()]=this);var e=c[5];b=0;for(a=e.length;b<a;b++){var h=new Nb(this,e[b]);h.index=b;this.Sa.push(h);this.gl(h.type)}e=c[6];b=0;for(a=e.length;b<a;b++)h=new Ob(this,e[b]),h.index=b,this.gc.push(h);if(8===c.length)for(c=c[7],b=0,a=c.length;b<a;b++)this.sheet.cm(c[b],this,this.$b);this.wh=!1;this.Sa.length&&(this.wh=null==this.Sa[0].type&&
this.Sa[0].La==Z.prototype.C.lo)}function f(b,a){var c,e,h;if(b&&(-1===a.indexOf(b)&&a.push(b),b.Ub))for(c=0,e=b.nb.length;c<e;c++)h=b.nb[c],b!==h&&-1===a.indexOf(h)&&a.push(h)}function a(b,a){this.Ab=b;this.sheet=b.sheet;this.b=b.b;this.H=[];this.ga=[];this.R={};this.index=-1;this.vf=!1;this.La=this.b.md(a[1]);this.trigger=0<a[3];this.Hl=2===a[3];this.Dj=a[5];this.hr=a[6];this.K=a[7];this.b.sd[this.K.toString()]=this;-1===a[0]?(this.type=null,this.Ca=this.xk,this.Yd=null,this.kc=-1):(this.type=this.b.k[a[0]],
this.Ca=this.hr?this.Xr:this.wk,a[2]?(this.Yd=this.type.jh(a[2]),this.kc=this.type.gj(a[2])):(this.Yd=null,this.kc=-1),this.Ab.parent&&this.Ab.parent.bi());this.Hl&&(this.Ca=this.Yr);if(10===a.length){var c,e,h=a[9];c=0;for(e=h.length;c<e;c++){var g=new Pb(this,h[c]);this.H.push(g)}this.ga.length=h.length}}function c(b,a){this.Ab=b;this.sheet=b.sheet;this.b=b.b;this.H=[];this.ga=[];this.R={};this.index=-1;this.vf=!1;this.La=this.b.md(a[1]);-1===a[0]?(this.type=null,this.Ca=this.xk,this.Yd=null,this.kc=
-1):(this.type=this.b.k[a[0]],this.Ca=this.wk,a[2]?(this.Yd=this.type.jh(a[2]),this.kc=this.type.gj(a[2])):(this.Yd=null,this.kc=-1));this.K=a[3];this.b.od[this.K.toString()]=this;if(6===a.length){var c,e,h=a[5];c=0;for(e=h.length;c<e;c++){var g=new Pb(this,h[c]);this.H.push(g)}this.ga.length=h.length}}function e(){H++;r.length===H&&r.push(new Qb);return r[H]}function b(b,a){this.W=b;this.Ab=b.Ab;this.sheet=b.sheet;this.b=b.b;this.type=a[0];this.Gc=null;this.ed=0;this.get=null;this.yl=0;this.Ga=null;
this.key=0;this.object=null;this.index=0;this.Dg=this.ye=this.Dg=this.ye=this.Ll=this.ge=this.Eg=null;this.cc=!1;var c,e,h;switch(a[0]){case 0:case 7:this.Gc=new Rb(this,a[1]);this.ed=0;this.get=this.Iq;break;case 1:this.Gc=new Rb(this,a[1]);this.ed=0;this.get=this.Jq;break;case 5:this.Gc=new Rb(this,a[1]);this.ed=0;this.get=this.Nq;break;case 3:case 8:this.yl=a[1];this.get=this.Gq;break;case 6:this.Ga=this.b.Rj[a[1]];this.get=this.Oq;break;case 9:this.key=a[1];this.get=this.Mq;break;case 4:this.object=
this.b.k[a[1]];this.get=this.Pq;this.Ab.gl(this.object);this.W instanceof Ob?this.Ab.bi():this.Ab.parent&&this.Ab.parent.bi();break;case 10:this.index=a[1];b.type&&b.type.q?(this.get=this.Kq,this.cc=!0):this.get=this.Lq;break;case 11:this.Eg=a[1];this.ge=null;this.get=this.Hq;break;case 2:case 12:this.Ll=a[1];this.get=this.Fq;break;case 13:for(this.get=this.Qq,this.ye=[],this.Dg=[],c=1,e=a.length;c<e;c++)h=new Pb(this.W,a[c]),this.ye.push(h),this.Dg.push(0)}}function g(b,a,c){this.sheet=b;this.parent=
a;this.b=b.b;this.pa=[];this.name=c[1];this.bo=c[2];this.xj=c[3];this.Xf=!!c[4];this.vh=!!c[5];this.K=c[6];this.b.tf[this.K.toString()]=this;this.data=this.xj;this.parent?(this.se=this.Xf||this.vh?-1:this.b.gs++,this.b.Mo.push(this)):(this.se=-1,this.b.Lo.push(this))}function l(b,a,c){this.sheet=b;this.parent=a;this.b=b.b;this.pa=[];this.Rf=null;this.Wq=c[1];this.Ea=!0}function h(){this.Kn=[];this.reset(null)}var x=[];n.prototype.toString=function(){return this.name};n.prototype.cm=function(b,a,c){switch(b[0]){case 0:b=
new Sb(this,a,b);if(b.uc)for(c.push(b),c=0,a=b.Sa.length;c<a;c++)b.Sa[c].trigger&&this.em(b,c);else b.nm()?this.em(b,0):c.push(b);break;case 1:b=new Jb(this,a,b);c.push(b);break;case 2:b=new Tb(this,a,b),c.push(b)}};n.prototype.na=function(){var b,a;b=0;for(a=this.vd.length;b<a;b++)this.vd[b].na(b<a-1&&this.vd[b+1].wh)};n.prototype.Rk=function(){V(this.Xi);V(this.Di);this.fl(this);V(this.Di)};n.prototype.fl=function(b){var a,c,e,h,g=b.Xi,f=b.Di,d=this.$l.jd();a=0;for(c=d.length;a<c;++a)e=d[a],h=e.Rf,
!e.Ea||b===h||-1<f.indexOf(h)||(f.push(h),h.fl(b),g.push(h))};n.prototype.Ca=function(b){this.b.Nt||(this.uj=!0,b||(this.b.Ij=!0));var a,c;a=0;for(c=this.vd.length;a<c;a++){var e=this.vd[a];e.Ca();this.b.Qi(e.pa);this.b.xd&&this.b.Qa()}b||(this.b.Ij=!1)};n.prototype.em=function(b,a){b.uc||this.b.ni.push(b);var c,e,h=b.Sa[a],g;h.type?g=h.type.name:g="system";var f=(c=h.Hl)?this.Il:this.Rn;f[g]||(f[g]=[]);g=f[g];f=h.La;if(c){if(h.H.length&&(h=h.H[0],1===h.type&&2===h.Gc.type)){h=h.Gc.value.toLowerCase();
c=0;for(e=g.length;c<e;c++)if(g[c].method==f){c=g[c].Jf;c[h]?c[h].push([b,a]):c[h]=[[b,a]];return}c={};c[h]=[[b,a]];g.push({method:f,Jf:c})}}else{c=0;for(e=g.length;c<e;c++)if(g[c].method==f){g[c].Jf.push([b,a]);return}ec&&f===ec.prototype.C.Ee?g.unshift({method:f,Jf:[[b,a]]}):g.push({method:f,Jf:[[b,a]]})}};zb=n;v.prototype.tj=function(){return this.ia?this.type.d.length:this.d.length};v.prototype.nc=function(){return this.ia?this.type.d:this.d};v.prototype.rg=function(b){b&&(b.b.eb().Tb.uc?(this.ia&&
(V(this.d),wa(this.J,b.type.d),this.ia=!1),b=this.J.indexOf(b),-1!==b&&(this.d.push(this.J[b]),this.J.splice(b,1))):(this.ia=!1,V(this.d),this.d[0]=b))};gb=v;window._c2hh_="037C0FC50ADDD297D44DED34FA8EE3CD5EE9F592";p.prototype.na=function(b){var a,c=this.parent;if(this.group)for(this.li=!0;c;){if(!c.group){this.li=!1;break}c=c.parent}this.Lk=!this.nm()&&(!this.parent||this.parent.group&&this.parent.li);this.Zl=!!b;this.Rd=this.pa.slice(0);for(c=this.parent;c;){b=0;for(a=c.pa.length;b<a;b++)this.Jo(c.pa[b]);
c=c.parent}this.pa=m(this.pa);this.Rd=m(this.Rd);b=0;for(a=this.Sa.length;b<a;b++)this.Sa[b].na();b=0;for(a=this.gc.length;b<a;b++)this.gc[b].na();b=0;for(a=this.$b.length;b<a;b++)this.$b[b].na(b<a-1&&this.$b[b+1].wh)};p.prototype.as=function(b){if(this.Of!==!!b){this.Of=!!b;var a;b=0;for(a=this.Qg.length;b<a;++b)this.Qg[b].Wn();0<a&&this.b.U.fe&&this.b.U.fe.Rk()}};p.prototype.gl=function(b){f(b,this.pa)};p.prototype.Jo=function(b){f(b,this.Rd)};p.prototype.bi=function(){this.In=!0;this.parent&&this.parent.bi()};
p.prototype.nm=function(){return this.Sa.length?this.Sa[0].trigger:!1};p.prototype.Ca=function(){var b,a,c=!1,e=this.b,h=this.b.eb();h.Tb=this;var g=this.Sa;this.wh||(h.Yi=!1);if(this.uc){0===g.length&&(c=!0);h.mb=0;for(b=g.length;h.mb<b;h.mb++)a=g[h.mb],a.trigger||(a=a.Ca())&&(c=!0);(h.oe=c)&&this.vk()}else{h.mb=0;for(b=g.length;h.mb<b;h.mb++)if(a=g[h.mb].Ca(),!a){h.oe=!1;this.Lk&&e.xd&&e.Qa();return}h.oe=!0;this.vk()}this.Ep(h)};p.prototype.Ep=function(b){b.oe&&this.Zl&&(b.Yi=!0);this.Lk&&this.b.xd&&
this.b.Qa()};p.prototype.Vr=function(b){this.b.eb().Tb=this;this.Sa[b].Ca()&&(this.vk(),this.b.eb().oe=!0)};p.prototype.vk=function(){var b=this.b.eb(),a;b.Qb=0;for(a=this.gc.length;b.Qb<a;b.Qb++)if(this.gc[b.Qb].Ca())return;this.rn()};p.prototype.Tr=function(){var b=this.b.eb(),a;for(a=this.gc.length;b.Qb<a;b.Qb++)if(this.gc[b.Qb].Ca())return;this.rn()};p.prototype.rn=function(){if(this.$b.length){var b,a,c,e,h=this.$b.length-1;this.b.ok(this);if(this.In)for(b=0,a=this.$b.length;b<a;b++)c=this.$b[b],
(e=!this.li||!this.group&&b<h)&&this.b.nk(c.pa),c.Ca(),e?this.b.hf(c.pa):this.b.Qi(c.pa);else for(b=0,a=this.$b.length;b<a;b++)this.$b[b].Ca();this.b.gn()}};p.prototype.Wr=function(){var b=this.b.eb();b.Tb=this;var a=!1,c;b.mb=0;for(c=this.Sa.length;b.mb<c;b.mb++)if(this.Sa[b.mb].Ca())a=!0;else if(!this.uc)return!1;return this.uc?a:!0};p.prototype.dr=function(b){var a=b.index;if(0===a)return!0;for(--a;0<=a;--a)if(this.Sa[a].type===b.type)return!1;return!0};Sb=p;a.prototype.na=function(){var b,a,c;
b=0;for(a=this.H.length;b<a;b++)c=this.H[b],c.na(),c.cc&&(this.vf=!0)};a.prototype.Yr=function(){return!0};a.prototype.xk=function(){var b,a;b=0;for(a=this.H.length;b<a;b++)this.ga[b]=this.H[b].get();return Ma(this.La.apply(this.b.Oc,this.ga),this.Dj)};a.prototype.Xr=function(){var b,a;b=0;for(a=this.H.length;b<a;b++)this.ga[b]=this.H[b].get();b=this.La.apply(this.Yd?this.Yd:this.type,this.ga);this.type.qd();return b};a.prototype.wk=function(){var b,a,c,e,h,g,f,d,l=this.type,p=l.V(),m=this.Ab.uc&&
!this.trigger;a=0;var r=l.Ub,q=l.q,n=l.Uc,x=this.kc,v=-1<x,H=this.vf,K=this.H,E=this.ga,M=this.Dj,T=this.La,G;if(H)for(a=0,h=K.length;a<h;++a)g=K[a],g.cc||(E[a]=g.get(0));else for(a=0,h=K.length;a<h;++a)E[a]=K[a].get(0);if(p.ia){V(p.d);V(p.J);G=l.d;b=0;for(e=G.length;b<e;++b){d=G[b];if(H)for(a=0,h=K.length;a<h;++a)g=K[a],g.cc&&(E[a]=g.get(b));v?(a=0,q&&(a=d.type.Ne[n]),a=T.apply(d.D[x+a],E)):a=T.apply(d,E);(f=Ma(a,M))?p.d.push(d):m&&p.J.push(d)}l.finish&&l.finish(!0);p.ia=!1;l.qd();return p.tj()}c=
0;G=(f=m&&!this.Ab.dr(this))?p.J:p.d;var y=!1;b=0;for(e=G.length;b<e;++b){d=G[b];if(H)for(a=0,h=K.length;a<h;++a)g=K[a],g.cc&&(E[a]=g.get(b));v?(a=0,q&&(a=d.type.Ne[n]),a=T.apply(d.D[x+a],E)):a=T.apply(d,E);if(Ma(a,M))if(y=!0,f){if(p.d.push(d),r)for(a=0,h=d.siblings.length;a<h;a++)g=d.siblings[a],g.type.V().d.push(g)}else{G[c]=d;if(r)for(a=0,h=d.siblings.length;a<h;a++)g=d.siblings[a],g.type.V().d[c]=g;c++}else if(f){G[c]=d;if(r)for(a=0,h=d.siblings.length;a<h;a++)g=d.siblings[a],g.type.V().J[c]=
g;c++}else if(m&&(p.J.push(d),r))for(a=0,h=d.siblings.length;a<h;a++)g=d.siblings[a],g.type.V().J.push(g)}va(G,c);if(r)for(q=l.nb,b=0,e=q.length;b<e;b++)d=q[b].V(),f?va(d.J,c):va(d.d,c);c=y;if(f&&!y)for(b=0,e=p.d.length;b<e;b++){d=p.d[b];if(H)for(a=0,h=K.length;a<h;a++)g=K[a],g.cc&&(E[a]=g.get(b));a=v?T.apply(d.D[x],E):T.apply(d,E);if(Ma(a,M)){y=!0;break}}l.finish&&l.finish(c||m);return m?y:p.tj()};Nb=a;c.prototype.na=function(){var b,a,c;b=0;for(a=this.H.length;b<a;b++)c=this.H[b],c.na(),c.cc&&(this.vf=
!0)};c.prototype.xk=function(){var b=this.b,a,c,e=this.H,h=this.ga;a=0;for(c=e.length;a<c;++a)h[a]=e[a].get();return this.La.apply(b.Oc,h)};c.prototype.wk=function(){var b=this.type,a=this.kc,c=b.Uc,e=this.vf,h=this.H,g=this.ga,f=this.La,d=b.V().nc(),b=b.q,l=-1<a,p,m,r,q,n,x;if(e)for(m=0,q=h.length;m<q;++m)n=h[m],n.cc||(g[m]=n.get(0));else for(m=0,q=h.length;m<q;++m)g[m]=h[m].get(0);p=0;for(r=d.length;p<r;++p){x=d[p];if(e)for(m=0,q=h.length;m<q;++m)n=h[m],n.cc&&(g[m]=n.get(p));l?(m=0,b&&(m=x.type.Ne[c]),
f.apply(x.D[a+m],g)):f.apply(x,g)}return!1};Ob=c;var r=[],H=-1;b.prototype.na=function(){var b,a;if(11===this.type)this.ge=this.b.Rl(this.Eg,this.Ab.parent);else if(13===this.type)for(b=0,a=this.ye.length;b<a;b++)this.ye[b].na();this.Gc&&this.Gc.na()};b.prototype.lr=function(b){this.cc||!b||b.ma.di||(this.cc=!0)};b.prototype.An=function(){this.cc=!0};b.prototype.Iq=function(b){this.ed=b||0;b=e();this.Gc.get(b);H--;return b.data};b.prototype.Jq=function(b){this.ed=b||0;b=e();this.Gc.get(b);H--;return O(b.data)?
b.data:""};b.prototype.Pq=function(){return this.object};b.prototype.Gq=function(){return this.yl};b.prototype.Nq=function(b){this.ed=b||0;b=e();this.Gc.get(b);H--;return b.Fa()?this.b.Lf(b.data):this.b.mj(b.data)};b.prototype.Oq=function(){return this.Ga};b.prototype.Mq=function(){return this.key};b.prototype.Lq=function(){return this.index};b.prototype.Kq=function(b){b=b||0;var a=this.W.type,c=null,c=a.V(),e=c.nc();if(e.length)c=e[b%e.length].type;else if(c.J.length)c=c.J[b%c.J.length].type;else if(a.d.length)c=
a.d[b%a.d.length].type;else return 0;return this.index+c.bh[a.Uc]};b.prototype.Hq=function(){return this.ge};b.prototype.Fq=function(){return this.Ll};b.prototype.Qq=function(){var b,a;b=0;for(a=this.ye.length;b<a;b++)this.Dg[b]=this.ye[b].get();return this.Dg};Pb=b;g.prototype.na=function(){this.pa=m(this.pa)};g.prototype.ci=function(b){var a=this.b.Ql();this.parent&&!this.Xf&&a?(this.se>=a.length&&(a.length=this.se+1),a[this.se]=b):this.data=b};g.prototype.Wl=function(){var b=this.b.Ql();return!this.parent||
this.Xf||!b||this.vh?this.data:this.se>=b.length||"undefined"===typeof b[this.se]?this.xj:b[this.se]};g.prototype.Ca=function(){!this.parent||this.Xf||this.vh||this.ci(this.xj)};Jb=g;l.prototype.toString=function(){return"include:"+this.Rf.toString()};l.prototype.na=function(){this.Rf=this.b.$i[this.Wq];this.sheet.$l.add(this);this.pa=m(this.pa);for(var b=this.parent;b;)b.group&&b.Qg.push(this),b=b.parent;this.Wn()};l.prototype.Ca=function(){this.parent&&this.b.ug(this.b.k);this.Rf.uj||this.Rf.Ca(!0);
this.parent&&this.b.hf(this.b.k)};l.prototype.Wn=function(){for(var b=this.parent;b;){if(b.group&&!b.Of){this.Ea=!1;return}b=b.parent}this.Ea=!0};Tb=l;h.prototype.reset=function(b){this.Tb=b;this.Qb=this.mb=0;V(this.Kn);this.Yi=this.oe=!1};Ib=h})();
(function(){function d(f,a){this.W=f;this.b=f.b;this.type=a[0];this.get=[this.Wp,this.Sp,this.fq,this.iq,this.Hp,this.gq,this.$p,this.Pp,this.Zp,this.dq,this.Ip,this.cq,this.Qp,this.aq,this.Xp,this.Yp,this.Tp,this.Up,this.Op,this.hq,this.bq,this.Vp,this.Np,this.Rp][this.type];var c=null;this.ad=this.H=this.ga=this.La=this.ki=this.second=this.first=this.value=null;this.kc=-1;this.oc=null;this.ao=-1;this.ge=this.Eg=null;this.mf=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Rb(f,a[1]);break;case 18:this.first=new Rb(f,a[1]);this.second=new Rb(f,a[2]);this.ki=new Rb(f,a[3]);break;case 19:this.La=this.b.md(a[1]);this.La!==Z.prototype.mc.random&&this.La!==Z.prototype.mc.Wo||this.W.An();this.ga=[];this.H=[];3===a.length?(c=a[2],this.ga.length=c.length+1):this.ga.length=1;break;case 20:this.ad=this.b.k[a[1]];this.kc=-1;this.La=this.b.md(a[2]);this.mf=a[3];Vb.Function&&this.La===Vb.Function.prototype.mc.Bs&&this.W.An();a[4]?this.oc=new Rb(f,a[4]):this.oc=null;this.ga=
[];this.H=[];6===a.length?(c=a[5],this.ga.length=c.length+1):this.ga.length=1;break;case 21:this.ad=this.b.k[a[1]];this.mf=a[2];a[3]?this.oc=new Rb(f,a[3]):this.oc=null;this.ao=a[4];break;case 22:this.ad=this.b.k[a[1]];this.ad.jh(a[2]);this.kc=this.ad.gj(a[2]);this.La=this.b.md(a[3]);this.mf=a[4];a[5]?this.oc=new Rb(f,a[5]):this.oc=null;this.ga=[];this.H=[];7===a.length?(c=a[6],this.ga.length=c.length+1):this.ga.length=1;break;case 23:this.Eg=a[1],this.ge=null}this.W.lr(this.ad);4<=this.type&&17>=
this.type&&(this.first=new Rb(f,a[1]),this.second=new Rb(f,a[2]));if(c){var e,b;e=0;for(b=c.length;e<b;e++)this.H.push(new Rb(f,c[e]))}}function q(){++p;v.length===p&&v.push(new Qb);return v[p]}function m(f,a,c){var e,b;e=0;for(b=f.length;e<b;++e)f[e].get(c),a[e+1]=c.data}function n(f,a){this.type=f||Y.De;this.data=a||0;this.ue=null;this.type==Y.De&&(this.data=Math.floor(this.data))}d.prototype.na=function(){23===this.type&&(this.ge=this.W.b.Rl(this.Eg,this.W.Ab.parent));this.first&&this.first.na();
this.second&&this.second.na();this.ki&&this.ki.na();this.oc&&this.oc.na();if(this.H){var f,a;f=0;for(a=this.H.length;f<a;f++)this.H[f].na()}};var v=[],p=-1;d.prototype.hq=function(f){var a=this.H,c=this.ga;c[0]=f;f=q();m(a,c,f);--p;this.La.apply(this.b.Oc,c)};d.prototype.bq=function(f){var a=this.ad,c=this.ga,e=this.H,b=this.oc,g=this.La,d=this.W.ed,h=a.V(),n=h.nc();if(!n.length)if(h.J.length)n=h.J;else{this.mf?f.tb(""):f.X(0);return}c[0]=f;f.ue=a;f=q();m(e,c,f);b&&(b.get(f),f.Fa()&&(d=f.data,n=a.d));
--p;a=n.length;if(d>=a||d<=-a)d%=a;0>d&&(d+=a);g.apply(n[d],c)};d.prototype.Np=function(f){var a=this.ad,c=this.ga,e=this.H,b=this.oc,g=this.kc,d=this.La,h=this.W.ed,n=a.V(),r=n.nc();if(!r.length)if(n.J.length)r=n.J;else{this.mf?f.tb(""):f.X(0);return}c[0]=f;f.ue=a;f=q();m(e,c,f);b&&(b.get(f),f.Fa()&&(h=f.data,r=a.d));--p;e=r.length;if(h>=e||h<=-e)h%=e;0>h&&(h+=e);h=r[h];r=0;a.q&&(r=h.type.Ne[a.Uc]);d.apply(h.D[g+r],c)};d.prototype.Vp=function(f){var a=this.oc,c=this.ad,e=this.ao,b=this.W.ed,g=c.V(),
d=g.nc();if(!d.length)if(g.J.length)d=g.J;else{this.mf?f.tb(""):f.X(0);return}if(a){g=q();a.get(g);if(g.Fa()){b=g.data;d=c.d;0!==d.length&&(b%=d.length,0>b&&(b+=d.length));b=c.lj(b);c=b.xa[e];O(c)?f.tb(c):f.B(c);--p;return}--p}a=d.length;if(b>=a||b<=-a)b%=a;0>b&&(b+=a);b=d[b];d=0;c.q&&(d=b.type.bh[c.Uc]);c=b.xa[e+d];O(c)?f.tb(c):f.B(c)};d.prototype.Wp=function(f){f.type=Y.De;f.data=this.value};d.prototype.Sp=function(f){f.type=Y.Ce;f.data=this.value};d.prototype.fq=function(f){f.type=Y.String;f.data=
this.value};d.prototype.iq=function(f){this.first.get(f);f.Fa()&&(f.data=-f.data)};d.prototype.Hp=function(f){this.first.get(f);var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data+=a.data,a.Se()&&f.bf());--p};d.prototype.gq=function(f){this.first.get(f);var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data-=a.data,a.Se()&&f.bf());--p};d.prototype.$p=function(f){this.first.get(f);var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data*=a.data,a.Se()&&f.bf());--p};d.prototype.Pp=function(f){this.first.get(f);
var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data/=a.data,f.bf());--p};d.prototype.Zp=function(f){this.first.get(f);var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data%=a.data,a.Se()&&f.bf());--p};d.prototype.dq=function(f){this.first.get(f);var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data=Math.pow(f.data,a.data),a.Se()&&f.bf());--p};d.prototype.Ip=function(f){this.first.get(f);var a=q();this.second.get(a);a.Ue()||f.Ue()?this.Kp(f,a):this.Jp(f,a);--p};d.prototype.Kp=function(f,a){f.Ue()&&
a.Ue()?this.Mp(f,a):this.Lp(f,a)};d.prototype.Mp=function(f,a){f.data+=a.data};d.prototype.Lp=function(f,a){f.Ue()?f.data+=(Math.round(1E10*a.data)/1E10).toString():f.tb(f.data.toString()+a.data)};d.prototype.Jp=function(f,a){f.X(f.data&&a.data?1:0)};d.prototype.cq=function(f){this.first.get(f);var a=q();this.second.get(a);f.Fa()&&a.Fa()&&(f.data||a.data?f.X(1):f.X(0));--p};d.prototype.Op=function(f){this.first.get(f);f.data?this.second.get(f):this.ki.get(f)};d.prototype.Qp=function(f){this.first.get(f);
var a=q();this.second.get(a);f.X(f.data===a.data?1:0);--p};d.prototype.aq=function(f){this.first.get(f);var a=q();this.second.get(a);f.X(f.data!==a.data?1:0);--p};d.prototype.Xp=function(f){this.first.get(f);var a=q();this.second.get(a);f.X(f.data<a.data?1:0);--p};d.prototype.Yp=function(f){this.first.get(f);var a=q();this.second.get(a);f.X(f.data<=a.data?1:0);--p};d.prototype.Tp=function(f){this.first.get(f);var a=q();this.second.get(a);f.X(f.data>a.data?1:0);--p};d.prototype.Up=function(f){this.first.get(f);
var a=q();this.second.get(a);f.X(f.data>=a.data?1:0);--p};d.prototype.Rp=function(f){var a=this.ge.Wl();ga(a)?f.B(a):f.tb(a)};Rb=d;n.prototype.Se=function(){return this.type===Y.Ce};n.prototype.Fa=function(){return this.type===Y.De||this.type===Y.Ce};n.prototype.Ue=function(){return this.type===Y.String};n.prototype.bf=function(){this.Se()||(this.Ue()&&(this.data=parseFloat(this.data)),this.type=Y.Ce)};n.prototype.X=function(f){this.type=Y.De;this.data=Math.floor(f)};n.prototype.B=function(f){this.type=
Y.Ce;this.data=f};n.prototype.tb=function(f){this.type=Y.String;this.data=f};n.prototype.cs=function(f){ga(f)?(this.type=Y.Ce,this.data=f):O(f)?(this.type=Y.String,this.data=f.toString()):(this.type=Y.De,this.data=0)};Qb=n;Y={De:0,Ce:1,String:2}})();function Z(d){this.b=d;this.yb=[]}
Z.prototype.Lb=function(){var d={},q,m,n,v,p,f,a,c;d.waits=[];var e=d.waits,b;q=0;for(m=this.yb.length;q<m;q++){f=this.yb[q];b={t:f.time,st:f.es,s:f.Fn,ev:f.If.K,sm:[],sols:{}};f.If.gc[f.Qb]&&(b.act=f.If.gc[f.Qb].K);n=0;for(v=f.pa.length;n<v;n++)b.sm.push(f.pa[n].K);for(p in f.ub)if(f.ub.hasOwnProperty(p)){a=this.b.k[parseInt(p,10)];c={sa:f.ub[p].sn,insts:[]};n=0;for(v=f.ub[p].le.length;n<v;n++)c.insts.push(f.ub[p].le[n].uid);b.sols[a.K.toString()]=c}e.push(b)}return d};
Z.prototype.tc=function(d){d=d.waits;var q,m,n,v,p,f,a,c,e,b,g;V(this.yb);q=0;for(m=d.length;q<m;q++)if(f=d[q],c=this.b.pl[f.ev.toString()]){e=-1;n=0;for(v=c.gc.length;n<v;n++)if(c.gc[n].K===f.act){e=n;break}if(-1!==e){a={ub:{},pa:[],Cl:!1};a.time=f.t;a.es=f.st||"";a.Fn=!!f.s;a.If=c;a.Qb=e;n=0;for(v=f.sm.length;n<v;n++)(c=this.b.lh(f.sm[n]))&&a.pa.push(c);for(p in f.sols)if(f.sols.hasOwnProperty(p)&&(c=this.b.lh(parseInt(p,10)))){e=f.sols[p];b={sn:e.sa,le:[]};n=0;for(v=e.insts.length;n<v;n++)(g=this.b.Ul(e.insts[n]))&&
b.le.push(g);a.ub[c.index.toString()]=b}this.yb.push(a)}}};
(function(){function d(){}function q(){}function m(){}var n=Z.prototype;d.prototype.bl=function(){return!0};d.prototype.xo=function(){return!0};d.prototype.ko=function(f,a,c){return Ub(f.Wl(),a,c)};d.prototype.lo=function(){var f=this.b.eb();return f.Yi?!1:!f.oe};d.prototype.cl=function(){return!0};d.prototype.vo=function(){return!0};d.prototype.yi=function(){return!0};d.prototype.el=function(){return!0};d.prototype.yo=function(){return!0};d.prototype.wi=function(){return!0};d.prototype.eo=function(f,
a,c){return Ia(W(f),W(c))<=W(a)};d.prototype.oo=function(f,a){return Ka(W(f),W(a))};d.prototype.no=function(f,a,c){f=Ha(f);a=Ha(a);c=Ha(c);return Ka(c,a)?Ka(f,a)&&!Ka(f,c):!(!Ka(f,a)&&Ka(f,c))};n.C=new d;q.prototype.mo=function(f){this.b.Yf||this.b.Af||(this.b.Af=f)};q.prototype.Co=function(f,a){0===f.bo?ga(a)?f.ci(a):f.ci(parseFloat(a)):1===f.bo&&f.ci(a.toString())};var v=[],p=[];n.zb=new q;m.prototype["int"]=function(f,a){O(a)?(f.X(parseInt(a,10)),isNaN(f.data)&&(f.data=0)):f.X(a)};m.prototype["float"]=
function(f,a){O(a)?(f.B(parseFloat(a)),isNaN(f.data)&&(f.data=0)):f.B(a)};m.prototype.random=function(f,a,c){void 0===c?f.B(Math.random()*a):f.B(Math.random()*(c-a)+a)};m.prototype.sqrt=function(f,a){f.B(Math.sqrt(a))};m.prototype.abs=function(f,a){f.B(Math.abs(a))};m.prototype.round=function(f,a){f.X(Math.round(a))};m.prototype.floor=function(f,a){f.X(Math.floor(a))};m.prototype.ceil=function(f,a){f.X(Math.ceil(a))};m.prototype.sin=function(f,a){f.B(Math.sin(W(a)))};m.prototype.cos=function(f,a){f.B(Math.cos(W(a)))};
m.prototype.tan=function(f,a){f.B(Math.tan(W(a)))};m.prototype.asin=function(f,a){f.B(Ba(Math.asin(a)))};m.prototype.acos=function(f,a){f.B(Ba(Math.acos(a)))};m.prototype.atan=function(f,a){f.B(Ba(Math.atan(a)))};m.prototype.exp=function(f,a){f.B(Math.exp(a))};m.prototype.log10=function(f,a){f.B(Math.log(a)/Math.LN10)};m.prototype.max=function(f){var a=arguments[1];"number"!==typeof a&&(a=0);var c,e,b;c=2;for(e=arguments.length;c<e;c++)b=arguments[c],"number"===typeof b&&a<b&&(a=b);f.B(a)};m.prototype.min=
function(f){var a=arguments[1];"number"!==typeof a&&(a=0);var c,e,b;c=2;for(e=arguments.length;c<e;c++)b=arguments[c],"number"===typeof b&&a>b&&(a=b);f.B(a)};m.prototype.Le=function(f){f.B(this.b.Le)};m.prototype.Cg=function(f){f.B(this.b.Cg)};m.prototype.time=function(f){f.B(this.b.Vb.ka)};m.prototype.gd=function(f){f.X(this.b.gd)};m.prototype.Nh=function(f){f.X(this.b.Nh)};m.prototype.cj=function(f){f.X(this.b.cj)};m.prototype.i=function(f,a,c,e,b){f.B(Ba(X(a,c,e,b)))};m.prototype.left=function(f,
a,c){f.tb(O(a)?a.substr(0,c):"")};m.prototype.right=function(f,a,c){f.tb(O(a)?a.substr(a.length-c):"")};m.prototype.replace=function(f,a,c,e){O(a)&&O(c)&&O(e)?f.tb(a.replace(new RegExp(Wa(c),"gi"),e)):f.tb(O(a)?a:"")};m.prototype.trim=function(f,a){f.tb(O(a)?a.trim():"")};m.prototype.Wo=function(f){var a=Q(Math.random()*(arguments.length-1));f.cs(arguments[a+1])};m.prototype.Si=function(f){f.B(this.b.Si/1E3)};m.prototype.Fh=function(f){f.B(this.b.Fh)};n.mc=new m;n.Ur=function(){var f,a,c,e,b,g,d=
this.b.eb();f=0;for(c=this.yb.length;f<c;f++){e=this.yb[f];if(-1===e.time){if(!e.Fn)continue}else if(e.time>this.b.Vb.ka)continue;d.Tb=e.If;d.Qb=e.Qb;d.mb=0;for(a in e.ub)e.ub.hasOwnProperty(a)&&(b=this.b.k[parseInt(a,10)].V(),g=e.ub[a],b.ia=g.sn,wa(b.d,g.le),b=g,V(b.le),p.push(b));e.If.Tr();this.b.Qi(e.pa);e.Cl=!0}a=f=0;for(c=this.yb.length;f<c;f++)e=this.yb[f],this.yb[a]=e,e.Cl?(Oa(e.ub),V(e.pa),v.push(e)):a++;va(this.yb,a)}})();
(function(){fb=function(d,m){var n=d[1],v=d[3],p=d[4],f=d[5],a=d[6],c=d[7],e=d[8];m.C||(m.C={});m.zb||(m.zb={});m.mc||(m.mc={});var b=m.C,g=m.zb,l=m.mc;v&&(b.Gs=function(b,a){return Ub(this.x,b,a)},b.Hs=function(b,a){return Ub(this.y,b,a)},b.Os=function(){var b=this.e;this.la();var a=this.ca;return!(a.right<b.L||a.bottom<b.M||a.left>b.P||a.top>b.O)},b.Ps=function(){this.la();var b=this.ca,a=this.b.U;return 0>b.right||0>b.bottom||b.left>a.width||b.top>a.height},b.bt=function(b,a,c){var e=this.V(),
g=e.nc();if(!g.length)return!1;var f=g[0],d=f,l=La(f.x,f.y,a,c),p,m,q;p=1;for(m=g.length;p<m;p++)if(f=g[p],q=La(f.x,f.y,a,c),0===b&&q<l||1===b&&q>l)l=q,d=f;e.rg(d);return!0},g.zt=function(b){this.x!==b&&(this.x=b,this.oa())},g.At=function(b){this.y!==b&&(this.y=b,this.oa())},g.tt=function(b,a){if(this.x!==b||this.y!==a)this.x=b,this.y=a,this.oa()},g.ut=function(b,a){var c=b.zq(this);if(c){var e;c.kj?(e=c.kj(a,!0),c=c.kj(a,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.oa()}},
g.Us=function(b){0!==b&&(this.x+=Math.cos(this.i)*b,this.y+=Math.sin(this.i)*b,this.oa())},g.Ts=function(b,a){0!==a&&(this.x+=Math.cos(W(b))*a,this.y+=Math.sin(W(b))*a,this.oa())},l.Ho=function(b){b.B(this.x)},l.Io=function(b){b.B(this.y)},l.Le=function(b){b.B(this.b.hj(this))});p&&(b.Fs=function(b,a){return Ub(this.width,b,a)},b.Cs=function(b,a){return Ub(this.height,b,a)},g.Do=function(b){this.width!==b&&(this.width=b,this.oa())},g.ot=function(b){this.height!==b&&(this.height=b,this.oa())},g.wt=
function(b,a){if(this.width!==b||this.height!==a)this.width=b,this.height=a,this.oa()},l.Et=function(b){b.B(this.width)},l.Ks=function(b){b.B(this.height)},l.ys=function(b){this.la();b.B(this.ca.left)},l.As=function(b){this.la();b.B(this.ca.top)},l.zs=function(b){this.la();b.B(this.ca.right)},l.xs=function(b){this.la();b.B(this.ca.bottom)});f&&(b.eo=function(b,a){return Ia(this.i,W(a))<=W(b)},b.oo=function(b){return Ka(this.i,W(b))},b.no=function(b,a){var c=Ha(b),e=Ha(a),g=Da(this.i);return Ka(e,
c)?Ka(g,c)&&!Ka(g,e):!(!Ka(g,c)&&Ka(g,e))},g.kt=function(b){b=W(Ca(b));isNaN(b)||this.i===b||(this.i=b,this.oa())},g.gt=function(b){0===b||isNaN(b)||(this.i+=W(b),this.i=Da(this.i),this.oa())},g.ht=function(b){0===b||isNaN(b)||(this.i-=W(b),this.i=Da(this.i),this.oa())},g.it=function(b,a){var c=Ja(this.i,W(a),W(b));isNaN(c)||this.i===c||(this.i=c,this.oa())},g.jt=function(b,a,c){b=Ja(this.i,Math.atan2(c-this.y,a-this.x),W(b));isNaN(b)||this.i===b||(this.i=b,this.oa())},g.xt=function(b,a){var c=Math.atan2(a-
this.y,b-this.x);isNaN(c)||this.i===c||(this.i=c,this.oa())},l.ws=function(b){b.B(Ea(this.i))});n||(b.Ds=function(b,a,c){return Ub(this.xa[b],a,c)},b.Ms=function(b){return this.xa[b]},b.ct=function(b,a){var c=this.V(),e=c.nc();if(!e.length)return!1;var g=e[0],f=g,d=g.xa[a],l,p,m;l=1;for(p=e.length;l<p;l++)if(g=e[l],m=g.xa[a],0===b&&m<d||1===b&&m>d)d=m,f=g;c.rg(f);return!0},b.$s=function(b){var a,c,e,g,f;if(this.b.tq().Dj){f=this.V();if(f.ia)for(f.ia=!1,V(f.d),V(f.J),e=this.d,a=0,c=e.length;a<c;a++)g=
e[a],g.uid===b?f.J.push(g):f.d.push(g);else{e=a=0;for(c=f.d.length;a<c;a++)g=f.d[a],f.d[e]=g,g.uid===b?f.J.push(g):e++;va(f.d,e)}this.qd();return!!f.d.length}g=this.b.Ul(b);if(!g)return!1;f=this.V();if(!f.ia&&-1===f.d.indexOf(g))return!1;if(this.q)for(b=g.type.ba,a=0,c=b.length;a<c;a++){if(b[a]===this)return f.rg(g),this.qd(),!0}else if(g.type===this)return f.rg(g),this.qd(),!0;return!1},b.al=function(){return!0},b.wo=function(){return!0},g.pt=function(b,a){var c=this.xa;ga(c[b])?c[b]=ga(a)?a:parseFloat(a):
O(c[b])&&(c[b]=O(a)?a:a.toString())},g.vs=function(b,a){var c=this.xa;ga(c[b])?c[b]=ga(a)?c[b]+a:c[b]+parseFloat(a):O(c[b])&&(c[b]=O(a)?c[b]+a:c[b]+a.toString())},g.Bt=function(b,a){var c=this.xa;ga(c[b])&&(c[b]=ga(a)?c[b]-a:c[b]-parseFloat(a))},g.lt=function(b,a){this.xa[b]=a?1:0},g.Ct=function(b){this.xa[b]=1-this.xa[b]},g.Js=function(){this.b.Ud(this)},g.qo||(g.qo=function(b){var a,c;try{a=JSON.parse(b)}catch(e){return}this.b.Dh(this,a,!0);this.Vd&&this.Vd();if(this.D)for(b=0,a=this.D.length;b<
a;++b)c=this.D[b],c.Vd&&c.Vd()}),l.Is=function(b){var a=b.ue.d.length,c,e,g;c=0;for(e=this.b.lc.length;c<e;c++)g=this.b.lc[c],b.ue.q?0<=g.type.ba.indexOf(b.ue)&&a++:g.type===b.ue&&a++;b.X(a)},l.et=function(b){b.X(b.ue.V().nc().length)},l.Dt=function(b){b.X(this.uid)},l.Ls=function(b){b.X(this.Nf())},l.fo||(l.fo=function(b){b.tb(JSON.stringify(this.b.yk(this,!0)))}));a&&(b.Qs=function(){return this.visible},g.yt=function(b){!b!==!this.visible&&(this.visible=!!b,this.b.S=!0)},b.Es=function(b,a){return Ub(bb(100*
this.opacity),b,a)},g.qt=function(b){b=b/100;0>b?b=0:1<b&&(b=1);b!==this.opacity&&(this.opacity=b,this.b.S=!0)},l.Opacity=function(b){b.B(bb(100*this.opacity))});c&&(b.Ns=function(b){return b?this.e===b:!1},b.dt=function(b){var a=this.V(),c=a.nc();if(!c.length)return!1;var e=c[0],g=e,f,d;f=1;for(d=c.length;f<d;f++)if(e=c[f],0===b){if(e.e.index>g.e.index||e.e.index===g.e.index&&e.Hc()>g.Hc())g=e}else if(e.e.index<g.e.index||e.e.index===g.e.index&&e.Hc()<g.Hc())g=e;a.rg(g);return!0},g.Xs=function(){var b=
this.e,a=b.d;a.length&&a[a.length-1]===this||(b.lf(this,!1),b.xf(this,!1),this.b.S=!0)},g.Vs=function(){var b=this.e,a=b.d;a.length&&a[0]===this||(b.lf(this,!1),b.Mr(this),this.b.S=!0)},g.Ws=function(b){b&&b!=this.e&&(this.e.lf(this,!0),this.e=b,b.xf(this,!0),this.b.S=!0)},g.Gt=function(b,a){var c=0===b;if(a){var e=a.uq(this);e&&e.uid!==this.uid&&(this.e.index!==e.e.index&&(this.e.lf(this,!0),this.e=e.e,e.e.xf(this,!0)),this.e.nr(this,e,c),this.b.S=!0)}},l.Ss=function(b){b.X(this.e.Wm)},l.Rs=function(b){b.tb(this.e.name)},
l.Ft=function(b){b.X(this.Hc())});e&&(g.mt=function(b,a){if(this.b.j){var c=this.type.jj(a);if(!(0>c)){var e=1===b;this.nd[c]!==e&&(this.nd[c]=e,this.zc(),this.b.S=!0)}}},g.nt=function(b,a,c){if(this.b.j){var e=this.type.jj(b);0>e||(b=this.type.F[e],e=this.fa[e],a=Math.floor(a),0>a||a>=e.length||(1===this.b.j.Dq(b.ua,a)&&(c/=100),e[a]!==c&&(e[a]=c,b.Ea&&(this.b.S=!0))))}})};Ab=function(){this.Li=this.Kg=!0;this.type.Ig=!0;this.b.S=!0;var d,m,n=this.Gi;d=0;for(m=n.length;d<m;++d)n[d](this);this.e.Pb&&
this.la()};Bb=function(d){d&&this.Gi.push(d)};Db=function(){if(this.Kg){var d=this.ca,m=this.Cc;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.pb*this.width,-this.qb*this.height);this.i?(d.offset(-this.x,-this.y),m.Cn(d,this.i),m.offset(this.x,this.y),m.ql(d)):m.xe(d);d.normalize();this.Kg=!1;this.Zn()}};var d=new U(0,0,0,0);Eb=function(){if(this.e.Pb){var q=this.e.Oa,m=this.ca;d.set(q.$a(m.left),q.ab(m.top),q.$a(m.right),q.ab(m.bottom));this.ib.Hf(d)||(this.ib.right<this.ib.left?
q.update(this,null,d):q.update(this,this.ib,d),this.ib.Df(d),this.e.xc=!0)}};Fb=function(){if(this.Li&&this.Bf){this.la();var q=this.type.Pg,m=this.ca;d.set(q.$a(m.left),q.ab(m.top),q.$a(m.right),q.ab(m.bottom));this.td.Hf(d)||(this.td.right<this.td.left?q.update(this,null,d):q.update(this,this.td,d),this.td.Df(d),this.Li=!1)}};Cb=function(d,m){return this.ca.Sb(d,m)&&this.Cc.Sb(d,m)?this.Ia&&!this.Ia.Mj()?(this.Ia.Ii(this.width,this.height,this.i),this.Ia.Sb(d-this.x,m-this.y)):!0:!1};wb=function(){this.type.oi();
return this.je};Gb=function(){this.e.Tk();return this.Ac};Hb=function(){V(this.N);var d,m,n,v=!0;d=0;for(m=this.nd.length;d<m;d++)this.nd[d]&&(n=this.type.F[d],this.N.push(n),n.Xb||(v=!1));this.$n=!!this.N.length;this.dd=v};xb=function(){return"Inst"+this.ln};ib=function(d){if(d&&d.Ub&&d.type!=this){var m,n,v;m=0;for(n=d.siblings.length;m<n;m++)if(v=d.siblings[m],v.type==this)return v}d=this.V().nc();return d.length?d[0]:null};jb=function(d){var m=this.V().nc();return m.length?m[d.Nf()%m.length]:
null};hb=function(){if(this.qf&&!this.q){var d,m;d=0;for(m=this.d.length;d<m;d++)this.d[d].je=d;var n=d,v=this.b.lc;d=0;for(m=v.length;d<m;++d)v[d].type===this&&(v[d].je=n++);this.qf=!1}};ub=function(d){if(d<this.d.length)return this.d[d];d-=this.d.length;var m=this.b.lc,n,v;n=0;for(v=m.length;n<v;++n)if(m[n].type===this){if(0===d)return m[n];--d}return null};kb=function(){return this.fd[this.Dc]};nb=function(){this.Dc++;this.Dc===this.fd.length?this.fd.push(new gb(this)):(this.fd[this.Dc].ia=!0,
V(this.fd[this.Dc].J))};ob=function(){this.Dc++;this.Dc===this.fd.length&&this.fd.push(new gb(this));var d=this.fd[this.Dc],m=this.fd[this.Dc-1];m.ia?(d.ia=!0,V(d.J)):(d.ia=!1,wa(d.d,m.d),wa(d.J,m.J))};pb=function(){this.Dc--};qb=function(d){var m,n,v,p,f,a=0;if(!this.q)for(m=0,n=this.ba.length;m<n;m++)for(f=this.ba[m],v=0,p=f.da.length;v<p;v++){if(d===f.da[v].name)return this.R.lastBehIndex=a,f.da[v];a++}m=0;for(n=this.da.length;m<n;m++){if(d===this.da[m].name)return this.R.lastBehIndex=a,this.da[m];
a++}return null};rb=function(d){return this.jh(d)?this.R.lastBehIndex:-1};sb=function(d){var m,n;m=0;for(n=this.F.length;m<n;m++)if(this.F[m].name===d)return m;return-1};tb=function(){if(this.Ub&&!this.q){var d,m,n,v,p,f,a;this.oi();f=this.V();var c=f.ia,e=(d=this.b.eb())&&d.Tb&&d.Tb.uc;d=0;for(m=this.nb.length;d<m;d++)if(p=this.nb[d],p!==this&&(p.oi(),a=p.V(),a.ia=c,!c)){V(a.d);n=0;for(v=f.d.length;n<v;++n)a.d[n]=p.lj(f.d[n].je);if(e)for(V(a.J),n=0,v=f.J.length;n<v;++n)a.J[n]=p.lj(f.J[n].je)}}};
vb=function(){return"Type"+this.K};Ub=function(d,m,n){if("undefined"===typeof d||"undefined"===typeof n)return!1;switch(m){case 0:return d===n;case 1:return d!==n;case 2:return d<n;case 3:return d<=n;case 4:return d>n;case 5:return d>=n;default:return!1}}})();
var cc={warp:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = vTex;\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale);\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale);\ngl_FragColor = texture2D(samplerFront, p);\n}",$g:25,
ah:25,Ui:!1,Xb:!1,Ei:!0,H:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]}};function fc(d){this.b=d}
(function(){function d(){}function q(){}var m=fc.prototype;m.fc=function(d){this.ma=d;this.b=d.b};m.fc.prototype.ra=function(){};m.kb=function(d){this.type=d;this.b=d.b;this.Ge=Array(4);this.Pn=this.mi=this.Ae=this.Ld=this.Kd=0;this.sj=!1};var n=m.kb.prototype;n.ra=function(){var d=this;if(!this.b.hb){jQuery(document).mousemove(function(a){d.tr(a)});jQuery(document).mousedown(function(a){d.sr(a)});jQuery(document).mouseup(function(a){d.ur(a)});jQuery(document).dblclick(function(a){d.rr(a)});var f=
function(a){d.Br(a)};document.addEventListener("mousewheel",f,!1);document.addEventListener("DOMMouseScroll",f,!1)}};var v={left:0,top:0};n.tr=function(d){var f=this.b.hb?v:jQuery(this.b.canvas).offset();this.Kd=d.pageX-f.left;this.Ld=d.pageY-f.top};n.Rm=function(){return 0<this.b.cb?!0:0<=this.Kd&&0<=this.Ld&&this.Kd<this.b.width&&this.Ld<this.b.height};n.sr=function(d){this.Rm()&&(this.Ge[d.which]=!0,this.b.zd=!0,this.b.trigger(fc.prototype.C.uo,this),this.Ae=d.which-1,this.mi=0,this.b.trigger(fc.prototype.C.$k,
this),this.b.trigger(fc.prototype.C.xi,this),this.b.zd=!1)};n.ur=function(d){this.Ge[d.which]&&(this.b.Xl&&!this.b.Ad&&d.preventDefault(),this.b.Xl=!0,this.Ge[d.which]=!1,this.b.zd=!0,this.Ae=d.which-1,this.b.trigger(fc.prototype.C.dl,this),this.b.zd=!1)};n.rr=function(d){this.Rm()&&(d.preventDefault(),this.b.zd=!0,this.Ae=d.which-1,this.mi=1,this.b.trigger(fc.prototype.C.$k,this),this.b.trigger(fc.prototype.C.xi,this),this.b.zd=!1)};n.Br=function(d){this.Pn=0>(d.wheelDelta?d.wheelDelta:d.detail?
-d.detail:0)?0:1;this.sj=!1;this.b.zd=!0;this.b.trigger(fc.prototype.C.zo,this);this.b.zd=!1;this.sj&&db(d)&&d.preventDefault()};n.ff=function(){var d,f;d=0;for(f=this.Ge.length;d<f;++d)this.Ge[d]&&(this.Ge[d]=!1,this.Ae=d-1,this.b.trigger(fc.prototype.C.dl,this))};d.prototype.$k=function(d,f){return d===this.Ae&&f===this.mi};d.prototype.uo=function(){return!0};d.prototype.dl=function(d){return d===this.Ae};d.prototype.xi=function(d,f,a){return d!==this.Ae||f!==this.mi?!1:this.b.ks(a,this.Kd,this.Ld)};
d.prototype.zo=function(d){this.sj=!0;return d===this.Pn};m.C=new d;m.zb=new function(){};q.prototype.Ho=function(d,f){var a,c,e,b,g;fa(f)?(a=this.b.Lf(0),c=a.scale,e=a.ld,b=a.Jc,g=a.i,a.scale=1,a.ld=1,a.Jc=1,a.i=0,d.B(a.Wa(this.Kd,this.Ld,!0)),a.scale=c,a.ld=e,a.Jc=b,a.i=g):(a=ga(f)?this.b.Lf(f):this.b.mj(f))?d.B(a.Wa(this.Kd,this.Ld,!0)):d.B(0)};q.prototype.Io=function(d,f){var a,c,e,b,g;fa(f)?(a=this.b.Lf(0),c=a.scale,e=a.ld,b=a.Kc,g=a.i,a.scale=1,a.ld=1,a.Kc=1,a.i=0,d.B(a.Wa(this.Kd,this.Ld,!1)),
a.scale=c,a.ld=e,a.Kc=b,a.i=g):(a=ga(f)?this.b.Lf(f):this.b.mj(f))?d.B(a.Wa(this.Kd,this.Ld,!1)):d.B(0)};m.mc=new q})();function gc(d){this.b=d}
(function(){function d(d){this.W=d;this.Ea=!1;this.i=this.speed=this.y=this.x=0;this.opacity=1;this.pd=this.Pe=this.size=this.nh=0}function q(){}var m=gc.prototype;m.fc=function(d){this.ma=d;this.b=d.b};var n=m.fc.prototype;n.ra=function(){this.q||(this.Y=new Image,this.Y.Ti=this.Fk,this.Q=null,this.b.Xk(this.Y,this.Ek))};n.qg=function(){this.q||(this.Q=null)};n.Oh=function(){this.q||!this.d.length||this.Q||(this.Q=this.b.j.Eh(this.Y,!0,this.b.aa,this.Gk))};n.Wj=function(){this.q||this.Q||!this.b.j||
(this.Q=this.b.j.Eh(this.Y,!0,this.b.aa,this.Gk))};n.Qk=function(){this.q||this.d.length||!this.Q||(this.b.j.deleteTexture(this.Q),this.Q=null)};n.kk=function(d){d.drawImage(this.Y,0,0)};d.prototype.init=function(){var d=this.W;this.x=d.x-d.si/2+Math.random()*d.si;this.y=d.y-d.ti/2+Math.random()*d.ti;this.speed=d.Aj-d.fi/2+Math.random()*d.fi;this.i=d.i-d.gi/2+Math.random()*d.gi;this.opacity=d.qh;this.size=d.zj-d.ei/2+Math.random()*d.ei;this.nh=d.rj-d.oh/2+Math.random()*d.oh;this.pd=this.Pe=0};d.prototype.Pc=
function(d){var f=this.W;this.x+=Math.cos(this.i)*this.speed*d;this.y+=Math.sin(this.i)*this.speed*d;this.y+=this.Pe*d;this.speed+=f.Ai*d;this.size+=this.nh*d;this.Pe+=f.fj*d;this.pd+=d;1>this.size?this.Ea=!1:(0!==f.bg&&(this.i+=Math.random()*f.bg*d-f.bg*d/2),0!==f.eg&&(this.speed+=Math.random()*f.eg*d-f.eg*d/2),0!==f.dg&&(this.opacity+=Math.random()*f.dg*d-f.dg*d/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=f.Je&&this.pd>=f.timeout&&(this.Ea=!1),2===f.Je&&0>=this.speed&&(this.Ea=
!1))};d.prototype.Fb=function(d){var f=this.W.opacity*this.opacity;if(0!==f){0===this.W.Je&&(f*=1-this.pd/this.W.timeout);d.globalAlpha=f;var f=this.x-this.size/2,a=this.y-this.size/2;this.W.b.vc&&(f=f+.5|0,a=a+.5|0);d.drawImage(this.W.type.Y,f,a,this.size,this.size)}};d.prototype.Xa=function(d){var f=this.W.opacity*this.opacity;0===this.W.Je&&(f*=1-this.pd/this.W.timeout);var a=this.size,c=a*this.W.cn,e=this.x-a/2,b=this.y-a/2;this.W.b.vc&&(e=e+.5|0,b=b+.5|0);1>c||0===f||(c<d.mr||c>d.ak?(d.Qd(f),
d.Nd(e,b,e+a,b,e+a,b+a,e,b+a)):d.Gr(this.x,this.y,c,f))};d.prototype.left=function(){return this.x-this.size/2};d.prototype.right=function(){return this.x+this.size/2};d.prototype.top=function(){return this.y-this.size/2};d.prototype.bottom=function(){return this.y+this.size/2};m.kb=function(d){this.type=d;this.b=d.b};var n=m.kb.prototype,v=[];n.ra=function(){var d=this.ta;this.Wh=d[0];this.gi=W(d[1]);this.of=d[2];this.Ck=!0;this.Aj=d[3];this.zj=d[4];this.qh=d[5]/100;this.rj=d[6];this.si=d[7];this.ti=
d[8];this.fi=d[9];this.ei=d[10];this.oh=d[11];this.Ai=d[12];this.fj=d[13];this.bg=d[14];this.eg=d[15];this.dg=d[16];this.Je=d[17];this.timeout=d[18];this.ve=0;this.cn=1;this.Qh=this.x;this.Sh=this.y;this.Rh=this.x;this.Ph=this.y;this.Ko(function(d){d.ca.set(d.Qh,d.Sh,d.Rh,d.Ph);d.Cc.xe(d.ca);d.Kg=!1;d.Uk();d.Zn()});this.Kb||(this.Ya=[]);this.b.Ik(this);this.type.Wj();if(1===this.of)for(d=0;d<this.Wh;d++)this.Bi().opacity=0;this.fh=!0};n.Lb=function(){var d={r:this.Wh,sc:this.gi,st:this.of,s:this.Ck,
isp:this.Aj,isz:this.zj,io:this.qh,gr:this.rj,xr:this.si,yr:this.ti,spr:this.fi,szr:this.ei,grnd:this.oh,acc:this.Ai,g:this.fj,lar:this.bg,lsr:this.eg,lor:this.dg,dm:this.Je,to:this.timeout,pcc:this.ve,ft:this.fh,p:[]},f,a,c,e=d.p;f=0;for(a=this.Ya.length;f<a;f++)c=this.Ya[f],e.push([c.x,c.y,c.speed,c.i,c.opacity,c.nh,c.size,c.Pe,c.pd]);return d};n.tc=function(d){this.Wh=d.r;this.gi=d.sc;this.of=d.st;this.Ck=d.s;this.Aj=d.isp;this.zj=d.isz;this.qh=d.io;this.rj=d.gr;this.si=d.xr;this.ti=d.yr;this.fi=
d.spr;this.ei=d.szr;this.oh=d.grnd;this.Ai=d.acc;this.fj=d.g;this.bg=d.lar;this.eg=d.lsr;this.dg=d.lor;this.Je=d.dm;this.timeout=d.to;this.ve=d.pcc;this.fh=d.ft;v.push.apply(v,this.Ya);V(this.Ya);var f,a,c,e=d.p;d=0;for(f=e.length;d<f;d++)a=this.Bi(),c=e[d],a.x=c[0],a.y=c[1],a.speed=c[2],a.i=c[3],a.opacity=c[4],a.nh=c[5],a.size=c[6],a.Pe=c[7],a.pd=c[8]};n.ef=function(){v.push.apply(v,this.Ya);V(this.Ya)};n.Bi=function(){var m;v.length?(m=v.pop(),m.W=this):m=new d(this);this.Ya.push(m);m.Ea=!0;return m};
n.Pc=function(){var d=this.b.hj(this),f,a,c,e;if(0===this.of&&this.Ck)for(this.ve+=d*this.Wh,a=Q(this.ve),this.ve-=a,f=0;f<a;f++)c=this.Bi(),c.init();this.Qh=this.x;this.Sh=this.y;this.Rh=this.x;this.Ph=this.y;e=f=0;for(a=this.Ya.length;f<a;f++)c=this.Ya[f],this.Ya[e]=c,this.b.S=!0,1===this.of&&this.fh&&c.init(),c.Pc(d),c.Ea?(c.left()<this.Qh&&(this.Qh=c.left()),c.right()>this.Rh&&(this.Rh=c.right()),c.top()<this.Sh&&(this.Sh=c.top()),c.bottom()>this.Ph&&(this.Ph=c.bottom()),e++):v.push(c);va(this.Ya,
e);this.oa();this.fh=!1;1===this.of&&0===this.Ya.length&&this.b.Ud(this)};n.Fb=function(d){var f,a,c,e=this.e;f=0;for(a=this.Ya.length;f<a;f++)c=this.Ya[f],c.right()>=e.L&&c.bottom()>=e.M&&c.left()<=e.P&&c.top()<=e.O&&c.Fb(d)};n.Xa=function(d){this.cn=this.e.fb();d.Da(this.type.Q);var f,a,c,e=this.e;f=0;for(a=this.Ya.length;f<a;f++)c=this.Ya[f],c.right()>=e.L&&c.bottom()>=e.M&&c.left()<=e.P&&c.top()<=e.O&&c.Xa(d)};m.C=new function(){};q.prototype.Ao=function(d){this.qh=d/100};m.zb=new q;m.mc=new function(){}})();
function ec(d){this.b=d}
(function(){function d(){if(0===this.Wi.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var e=a.getContext("2d");this.pf?e.drawImage(this.Y,this.cf,this.df,this.width,this.height,0,0,this.width,this.height):e.drawImage(this.Y,0,0,this.width,this.height);this.Wi=a.toDataURL("image/png")}return this.Wi}function q(){}var m=ec.prototype;m.fc=function(a){this.ma=a;this.b=a.b};var n=m.fc.prototype;n.ra=function(){if(!this.q){var a,e,b,g,f,h,m,n,p;this.hc=[];this.Qf=
!1;a=0;for(e=this.lb.length;a<e;a++){f=this.lb[a];m={};m.name=f[0];m.speed=f[1];m.loop=f[2];m.tk=f[3];m.uk=f[4];m.dn=f[5];m.K=f[6];m.frames=[];b=0;for(g=f[7].length;b<g;b++)h=f[7][b],n={},n.Ek=h[0],n.Fk=h[1],n.cf=h[2],n.df=h[3],n.width=h[4],n.height=h[5],n.duration=h[6],n.pb=h[7],n.qb=h[8],n.wj=h[9],n.Th=h[10],n.en=h[11],n.pf=0!==n.width,n.Wi="",n.It=d,p={left:0,top:0,right:1,bottom:1},n.Bk=p,n.Q=null,(p=this.b.mq(h[0]))?n.Y=p:(n.Y=new Image,n.Y.Yo=h[0],n.Y.Ti=h[1],n.Y.Ro=null,this.b.Xk(n.Y,h[0])),
m.frames.push(n),this.hc.push(n);this.lb[a]=m}}};n.Yn=function(){var a,e,b;a=0;for(e=this.d.length;a<e;a++)b=this.d[a],b.Sg=b.Ja.Q};n.qg=function(){if(!this.q){var a,e,b;a=0;for(e=this.hc.length;a<e;++a)b=this.hc[a],b.Y.Ro=null,b.Q=null;this.Qf=!1;this.Yn()}};n.Oh=function(){if(!this.q&&this.d.length){var a,e,b;a=0;for(e=this.hc.length;a<e;++a)b=this.hc[a],b.Q=this.b.j.Eh(b.Y,!1,this.b.aa,b.en);this.Yn()}};n.Wj=function(){if(!this.q&&!this.Qf&&this.b.j){var a,e,b;a=0;for(e=this.hc.length;a<e;++a)b=
this.hc[a],b.Q=this.b.j.Eh(b.Y,!1,this.b.aa,b.en);this.Qf=!0}};n.Qk=function(){if(!this.q&&!this.d.length&&this.Qf){var a,e,b;a=0;for(e=this.hc.length;a<e;++a)b=this.hc[a],this.b.j.deleteTexture(b.Q),b.Q=null;this.Qf=!1}};var v=[];n.kk=function(a){var e,b,d;V(v);e=0;for(b=this.hc.length;e<b;++e)d=this.hc[e].Y,-1===v.indexOf(d)&&(a.drawImage(d,0,0),v.push(d))};m.kb=function(a){this.type=a;this.b=a.b;a=this.type.lb[0].frames[0].Th;this.Kb?this.Ia.wg(a):this.Ia=new Xa(a)};var p=m.kb.prototype;p.ra=function(){this.visible=
0===this.ta[0];this.Bf=0!==this.ta[3];this.Z=this.Pl(this.ta[1])||this.type.lb[0];this.n=this.ta[2];0>this.n&&(this.n=0);this.n>=this.Z.frames.length&&(this.n=this.Z.frames.length-1);var a=this.Z.frames[this.n];this.Ia.wg(a.Th);this.pb=a.pb;this.qb=a.qb;this.He=this.Z.speed;this.ud=this.Z.uk;1===this.type.lb.length&&1===this.type.lb[0].frames.length||0===this.He||this.b.Ik(this);this.Kb?this.Bc.reset():this.Bc=new Va;this.Vc=this.Bc.ka;this.Xd=!0;this.Qc=0;this.Wd=!0;this.Pi=this.hl="";this.Vo=0;
this.Oi=-1;this.type.Wj();var e,b,d,f,h,m,n,a=0;for(e=this.type.lb.length;a<e;a++)for(f=this.type.lb[a],b=0,d=f.frames.length;b<d;b++)h=f.frames[b],0===h.width&&(h.width=h.Y.width,h.height=h.Y.height),h.pf&&(n=h.Y,m=h.Bk,m.left=h.cf/n.width,m.top=h.df/n.height,m.right=(h.cf+h.width)/n.width,m.bottom=(h.df+h.height)/n.height,0===h.cf&&0===h.df&&h.width===n.width&&h.height===n.height&&(h.pf=!1));this.Ja=this.Z.frames[this.n];this.Sg=this.Ja.Q};p.Lb=function(){var a={a:this.Z.K,f:this.n,cas:this.He,
fs:this.Vc,ar:this.Qc,at:this.Bc.ka,rt:this.ud};this.Xd||(a.ap=this.Xd);this.Wd||(a.af=this.Wd);return a};p.tc=function(a){var e=this.pq(a.a);e&&(this.Z=e);this.n=a.f;0>this.n&&(this.n=0);this.n>=this.Z.frames.length&&(this.n=this.Z.frames.length-1);this.He=a.cas;this.Vc=a.fs;this.Qc=a.ar;this.Bc.reset();this.Bc.ka=a.at;this.Xd=a.hasOwnProperty("ap")?a.ap:!0;this.Wd=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.ud=a.rt:this.ud=this.Z.uk;this.Ja=this.Z.frames[this.n];this.Sg=this.Ja.Q;
this.Ia.wg(this.Ja.Th);this.pb=this.Ja.pb;this.qb=this.Ja.qb};p.Fi=function(a){this.n=a?0:this.Z.frames.length-1;this.Xd=!1;this.hl=this.Z.name;this.b.trigger(ec.prototype.C.so,this);this.b.trigger(ec.prototype.C.ro,this);this.Qc=0};p.kl=function(){return this.Bc.ka};p.Pc=function(){this.Bc.add(this.b.hj(this));this.Pi.length&&this.fp();0<=this.Oi&&this.gp();var a=this.Bc.ka,e=this.Z,b=e.frames[this.n],d=b.duration/this.He;this.Xd&&a>=this.Vc+d&&(this.Wd?this.n++:this.n--,this.Vc+=d,this.n>=e.frames.length&&
(e.dn?(this.Wd=!1,this.n=e.frames.length-2):e.loop?this.n=this.ud:(this.Qc++,this.Qc>=e.tk?this.Fi(!1):this.n=this.ud)),0>this.n&&(e.dn?(this.n=1,this.Wd=!0,e.loop||(this.Qc++,this.Qc>=e.tk&&this.Fi(!0))):e.loop?this.n=this.ud:(this.Qc++,this.Qc>=e.tk?this.Fi(!0):this.n=this.ud)),0>this.n?this.n=0:this.n>=e.frames.length&&(this.n=e.frames.length-1),a>this.Vc+e.frames[this.n].duration/this.He&&(this.Vc=a),a=e.frames[this.n],this.Ee(b,a),this.b.S=!0)};p.Pl=function(a){var e,b,d;e=0;for(b=this.type.lb.length;e<
b;e++)if(d=this.type.lb[e],cb(d.name,a))return d;return null};p.pq=function(a){var e,b,d;e=0;for(b=this.type.lb.length;e<b;e++)if(d=this.type.lb[e],d.K===a)return d;return null};p.fp=function(){var a=this.Z.frames[this.n],e=this.Pl(this.Pi);this.Pi="";!e||cb(e.name,this.Z.name)&&this.Xd||(this.Z=e,this.He=e.speed,this.ud=e.uk,0>this.n&&(this.n=0),this.n>=this.Z.frames.length&&(this.n=this.Z.frames.length-1),1===this.Vo&&(this.n=0),this.Xd=!0,this.Vc=this.Bc.ka,this.Wd=!0,this.Ee(a,this.Z.frames[this.n]),
this.b.S=!0)};p.gp=function(){var a=this.Z.frames[this.n],e=this.n;this.n=Q(this.Oi);0>this.n&&(this.n=0);this.n>=this.Z.frames.length&&(this.n=this.Z.frames.length-1);e!==this.n&&(this.Ee(a,this.Z.frames[this.n]),this.Vc=this.Bc.ka,this.b.S=!0);this.Oi=-1};p.Ee=function(a,e){var b=a.width,d=a.height,f=e.width,h=e.height;b!=f&&(this.width*=f/b);d!=h&&(this.height*=h/d);this.pb=e.pb;this.qb=e.qb;this.Ia.wg(e.Th);this.oa();this.Ja=e;this.Sg=e.Q;b=0;for(d=this.D.length;b<d;b++)f=this.D[b],f.Ar&&f.Ar(a,
e);this.b.trigger(ec.prototype.C.Ee,this)};p.Fb=function(a){a.globalAlpha=this.opacity;var e=this.Ja,b=e.pf,d=e.Y,f=this.x,h=this.y,m=this.width,n=this.height;if(0===this.i&&0<=m&&0<=n)f-=this.pb*m,h-=this.qb*n,this.b.vc&&(f=Math.round(f),h=Math.round(h)),b?a.drawImage(d,e.cf,e.df,e.width,e.height,f,h,m,n):a.drawImage(d,f,h,m,n);else{this.b.vc&&(f=Math.round(f),h=Math.round(h));a.save();var p=0<m?1:-1,k=0<n?1:-1;a.translate(f,h);1===p&&1===k||a.scale(p,k);a.rotate(this.i*p*k);f=0-this.pb*la(m);h=
0-this.qb*la(n);b?a.drawImage(d,e.cf,e.df,e.width,e.height,f,h,la(m),la(n)):a.drawImage(d,f,h,la(m),la(n));a.restore()}};p.Ke=function(a){this.Xa(a)};p.Xa=function(a){a.Da(this.Sg);a.Qd(this.opacity);var e=this.Ja,b=this.Cc;if(this.b.vc){var d=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;e.pf?a.Od(b.wb+d,b.xb+f,b.Mb+d,b.Nb+f,b.Db+d,b.Eb+f,b.Bb+d,b.Cb+f,e.Bk):a.Nd(b.wb+d,b.xb+f,b.Mb+d,b.Nb+f,b.Db+d,b.Eb+f,b.Bb+d,b.Cb+f)}else e.pf?a.Od(b.wb,b.xb,b.Mb,b.Nb,b.Db,b.Eb,b.Bb,b.Cb,e.Bk):a.Nd(b.wb,
b.xb,b.Mb,b.Nb,b.Db,b.Eb,b.Bb,b.Cb)};p.wq=function(a){var e=this.Ja,b,d;b=0;for(d=e.wj.length;b<d;b++)if(cb(a,e.wj[b][0]))return b;return-1};p.kj=function(a,e){var b=this.Ja,d=b.wj,f;O(a)?f=this.wq(a):f=a-1;f=Q(f);if(0>f||f>=d.length)return e?this.x:this.y;var h=(d[f][1]-b.pb)*this.width,d=d[f][2],d=(d-b.qb)*this.height,b=Math.cos(this.i);f=Math.sin(this.i);var m=h*b-d*f,d=d*b+h*f,h=m+this.x,d=d+this.y;return e?h:d};var f=new ca,a=!1;new U(0,0,0,0);n.finish=function(c){if(a){if(c){var e=this.b.eb().Tb.uc;
c=null.V();var b=f.jd(),d,l;if(c.ia){c.ia=!1;V(c.d);d=0;for(l=b.length;d<l;++d)c.d[d]=b[d];if(e)for(V(c.J),d=0,l=null.d.length;d<l;++d)b=null.d[d],f.contains(b)||c.J.push(b)}else if(e)for(e=c.d.length,d=0,l=b.length;d<l;++d)c.d[e+d]=b[d],za(c.J,b[d]);else wa(c.d,b);null.qd()}f.clear();a=!1}};q.prototype.ro=function(a){return cb(this.hl,a)};q.prototype.so=function(){return!0};q.prototype.Ee=function(){return!0};m.C=new q;m.zb=new function(){};m.mc=new function(){}})();function hc(d){this.b=d}
(function(){function d(){return a.length?a.pop():{}}function q(c){var e,b;e=0;for(b=c.length;e<b;e++)a.push(c[e]);V(c)}function m(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function n(){}var v=hc.prototype;v.ra=function(){v.zb.Do=function(a){this.width!==a&&(this.width=a,this.ze=!0,this.oa())}};v.fc=function(a){this.ma=a;this.b=a.b};var p=v.fc.prototype;p.ra=function(){};p.qg=function(){if(!this.q){var a,e,b;a=0;for(e=this.d.length;a<e;a++)b=this.d[a],b.Ic=null,b.te=
null,b.rb=null}};v.kb=function(a){this.type=a;this.b=a.b;this.Kb?V(this.Gd):this.Gd=[];this.ze=!0};p=v.kb.prototype;p.ra=function(){this.text=this.ta[0];this.visible=0===this.ta[1];this.font=this.ta[2];this.color=this.ta[3];this.ph=this.ta[4];this.qi=this.ta[5];this.Yk=0===this.ta[7];this.Qj=this.zh=this.width;this.yh=this.height;this.Vj=this.ta[8];this.gh=this.Me="";this.Ln=this.Mn=this.tg=0;this.Er();this.rb=this.te=this.Ic=null;this.Um=!1;this.ag=this.b.gd;this.Kb?this.kf.set(0,0,1,1):this.kf=
new U(0,0,1,1);this.b.j&&this.b.Ik(this)};p.Er=function(){var a=this.font.split(" "),e;for(e=0;e<a.length;e++)if("pt"===a[e].substr(a[e].length-2,2)){this.tg=parseInt(a[e].substr(0,a[e].length-2));this.pk=Math.ceil(this.tg/72*96)+4;0<e&&(this.gh=a[e-1]);this.Me=a[e+1];for(e+=2;e<a.length;e++)this.Me+=" "+a[e];break}};p.Lb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.ph,va:this.qi,wr:this.Yk,lho:this.Vj,fn:this.Me,fs:this.gh,ps:this.tg,pxh:this.pk,tw:this.Mn,th:this.Ln,lrt:this.ag}};
p.tc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.ph=a.ha;this.qi=a.va;this.Yk=a.wr;this.Vj=a.lho;this.Me=a.fn;this.gh=a.fs;this.tg=a.ps;this.pk=a.pxh;this.Mn=a.tw;this.Ln=a.th;this.ag=a.lrt;this.ze=!0;this.Qj=this.zh=this.width;this.yh=this.height};p.Pc=function(){if(this.b.j&&this.rb&&300<=this.b.gd-this.ag){var a=this.e;this.la();var e=this.ca;if(e.right<a.L||e.bottom<a.M||e.left>a.P||e.top>a.O)this.b.j.deleteTexture(this.rb),this.Ic=this.te=this.rb=null}};p.ef=function(){this.Ic=
this.te=null;this.b.j&&this.rb&&this.b.j.deleteTexture(this.rb);this.rb=null};p.kl=function(){this.font=this.gh+" "+this.tg.toString()+"pt "+this.Me;this.ze=!0;this.b.S=!0};p.Fb=function(a,e){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=e?1:this.opacity;var b=1;e&&(b=Math.abs(this.e.fb()),a.save(),a.scale(b,b));if(this.ze||this.width!==this.Qj)this.type.ma.Fo(this.text,this.Gd,a,this.width,this.Yk),this.ze=!1,this.Qj=this.width;this.la();var b=e?0:this.Cc.wb,d=e?0:this.Cc.xb;
this.b.vc&&(b=b+.5|0,d=d+.5|0);0===this.i||e||(a.save(),a.translate(b,d),a.rotate(this.i),d=b=0);var f=d+this.height,h=this.pk,h=h+this.Vj,m,n;1===this.qi?d+=Math.max(this.height/2-this.Gd.length*h/2,0):2===this.qi&&(d+=Math.max(this.height-this.Gd.length*h-2,0));for(n=0;n<this.Gd.length&&!(m=b,1===this.ph?m=b+(this.width-this.Gd[n].width)/2:2===this.ph&&(m=b+(this.width-this.Gd[n].width)),a.fillText(this.Gd[n].text,m,d),d+=h,d>=f-h);n++);(0!==this.i||e)&&a.restore();this.ag=this.b.gd};p.Xa=function(a){if(!(1>
this.width||1>this.height)){var e=this.ze||this.Um;this.Um=!1;var b=this.e.fb(),d=this.e.ob(),f=this.kf,h=b*this.width,m=b*this.height,n=Math.ceil(h),p=Math.ceil(m),k=Math.abs(n),q=Math.abs(p),v=this.b.A/2,L=this.b.u/2;this.te||(this.Ic=document.createElement("canvas"),this.Ic.width=k,this.Ic.height=q,this.zh=k,this.yh=q,e=!0,this.te=this.Ic.getContext("2d"));if(k!==this.zh||q!==this.yh)this.Ic.width=k,this.Ic.height=q,this.rb&&(a.deleteTexture(this.rb),this.rb=null),e=!0;e&&(this.te.clearRect(0,
0,k,q),this.Fb(this.te,!0),this.rb||(this.rb=a.bb(k,q,this.b.aa,this.b.Ad)),a.Wk(this.Ic,this.rb,this.b.Ad));this.zh=k;this.yh=q;a.Da(this.rb);a.Qd(this.opacity);a.Yb();a.translate(-v,-L);a.Ob();var C=this.Cc,e=this.e.ya(C.wb,C.xb,!0),k=this.e.ya(C.wb,C.xb,!1),q=this.e.ya(C.Mb,C.Nb,!0),v=this.e.ya(C.Mb,C.Nb,!1),L=this.e.ya(C.Db,C.Eb,!0),A=this.e.ya(C.Db,C.Eb,!1),S=this.e.ya(C.Bb,C.Cb,!0),C=this.e.ya(C.Bb,C.Cb,!1);if(this.b.vc||0===this.i&&0===d)var z=(e+.5|0)-e,B=(k+.5|0)-k,e=e+z,k=k+B,q=q+z,v=v+
B,L=L+z,A=A+B,S=S+z,C=C+B;0===this.i&&0===d?(q=e+n,v=k,L=q,A=k+p,S=e,C=A,f.right=1,f.bottom=1):(f.right=h/n,f.bottom=m/p);a.Od(e,k,q,v,L,A,S,C,f);a.Yb();a.scale(b,b);a.Zh(-this.e.ob());a.translate((this.e.L+this.e.P)/-2,(this.e.M+this.e.O)/-2);a.Ob();this.ag=this.b.gd}};var f=[];v.Eo=function(a){V(f);for(var e="",b,d=0;d<a.length;)if(b=a.charAt(d),"\n"===b)e.length&&(f.push(e),e=""),f.push("\n"),++d;else if(" "===b||"\t"===b||"-"===b){do e+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===
a.charAt(d)));f.push(e);e=""}else d<a.length&&(e+=b,d++);e.length&&f.push(e)};var a=[];v.Fo=function(a,e,b,f,l){if(a&&a.length)if(2>=f)q(e);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=b.measureText(a).width;if(h<=f){q(e);e.push(d());e[0].text=a;e[0].width=h;return}}this.Go(a,e,b,f,l)}else q(e)};v.Go=function(c,e,b,g,l){l&&(this.Eo(c),c=f);var h="",n,p,q,k=0;for(q=0;q<c.length;q++)"\n"===c[q]?(k>=e.length&&e.push(d()),h=m(h),p=e[k],p.text=h,p.width=b.measureText(h).width,k++,h=""):(n=h,h+=c[q],
p=b.measureText(h).width,p>=g&&(k>=e.length&&e.push(d()),n=m(n),p=e[k],p.text=n,p.width=b.measureText(n).width,k++,h=c[q],l||" "!==h||(h="")));h.length&&(k>=e.length&&e.push(d()),h=m(h),p=e[k],p.text=h,p.width=b.measureText(h).width,k++);for(q=k;q<e.length;q++)a.push(e[q]);e.length=k};v.C=new function(){};n.prototype.Bo=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.ze=!0,this.b.S=!0)};v.zb=new n;v.mc=new function(){}})();
function ic(d){this.b=d}
(function(){function d(a){a%=g.length;0>a&&(a+=g.length);return a}function q(){var a,b,c,e;a=0;for(b=g.length;a<b;++a)c=g[a],(e=g[d(a-1)])&&!c&&(h=a),!e&&c&&(r=a)}var m=ic.prototype;m.fc=function(a){this.ma=a;this.b=a.b};var n=m.fc.prototype,v=!1,p=null,f=null;n.ra=function(){this.q||v||(v=!0,p=new Image,p.Ti=15E3,this.b.Xk(p,"penumbra.png"))};n.qg=function(){if(!this.q){this.sb=this.Q=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.Q=null,c.sb=null}};n.Oh=function(){if(!this.q){var a,b;
a=0;for(b=this.d.length;a<b;++a)this.d[a].Al()}};m.kb=function(a){this.type=a;this.b=a.b};n=m.kb.prototype;n.ra=function(){if(!f){var a=p.width,b=p.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(p,0,0,a,b);f=c.getImageData(0,0,a,b).data}this.Ed=this.x;this.Fd=this.y;this.ym=this.ta[0];this.Jb=1E3;this.Ye=this.ta[1];this.wl=this.ta[2];this.tag=this.ta[3];this.Sj=this.Tj=this.Uj=0;this.qm=this.x;this.rm=this.y;this.sb=this.Q=null;
this.b.j?this.Al():this.Ye=0;this.b.ls(this)};n.xl=function(a){return 1===this.wl?cb(this.tag,a):2===this.wl?!cb(this.tag,a):!0};n.Hk=function(){if(this.qm!==this.x||this.rm!==this.y)this.Ed=this.x,this.Fd=this.y;var a=this.e,b=(a.L+a.P)/2,c=(a.M+a.O)/2,e=a.P-a.L,d=a.O-a.M;if(b!==this.x||c!==this.y||e!==this.width||d!==this.height)this.x=b,this.y=c,this.width=e,this.height=d,this.oa();this.qm=this.x;this.rm=this.y;this.Jb=1.5*La(a.L,a.M,a.P,a.O)};n.ef=function(){this.b.j&&(this.Q&&(this.b.j.deleteTexture(this.Q),
this.Q=null),this.sb&&(this.b.j.deleteTexture(this.sb),this.sb=null))};n.Lb=function(){return{}};n.tc=function(){};var a=[],c=[];n.Vl=function(){this.b.Ak&&(this.b.Eq(this.e,this.b.Ak.Lt,this.ca,a),Qa(a))};var e=[],b=0,g=[],l=[],h=-1,x=-1,r=-1,H=-1,k=0,t=0,D=[],L=0,C=0,A=0,S=0,z=0,B=0,I=0,aa=0,F=new Xa([]);n.Fb=function(b){this.Vl();b.save();b.fillStyle="rgba("+this.Uj+","+this.Tj+","+this.Sj+","+this.opacity+")";var e,d,f,h,k,l,m,n,p,q;e=0;for(d=a.length;e<d;++e)if(f=a[e],f.R.shadowcasterEnabled&&
this.xl(f.R.shadowcasterTag))if(f.la(),m=f.R.shadowcasterHeight,f.Jk){f.sq(this.ca,c);n=f.x;p=f.y;f=0;for(h=c.length;f<h;++f){k=c[f];q=k.Qr;k.jk?(k=k.jk,l=q.left,q=q.top):(F.xe(q,0,0),k=F,q=l=0);this.Og(k,n+l,p+q,m,!1);b.beginPath();b.moveTo(D[0],D[1]);k=2;for(l=D.length;k<l;k+=2)b.lineTo(D[k],D[k+1]);b.closePath();b.fill();V(g);V(D)}V(c)}else{f.Ia&&!f.Ia.Mj()?(f.Ia.Ii(f.width,f.height,f.i),k=f.Ia):(F.Bn(f.Cc,f.x,f.y,f.width,f.height),k=F);this.Og(k,f.x,f.y,m,Ma(0>f.width,0>f.height));b.beginPath();
b.moveTo(D[0],D[1]);f=2;for(h=D.length;f<h;f+=2)b.lineTo(D[f],D[f+1]);b.closePath();b.fill();V(g);V(D)}b.restore();V(a)};n.Aq=function(a,c,d,f){b=a.jf;V(e);var g,h=a.cd;t=k=0;var l;for(l=0;l<b;++l)g=2*l,a=h[g]+c,g=h[g+1]+d,f?(e.unshift(g),e.unshift(a)):(e.push(a),e.push(g)),k+=a,t+=g;k/=b;t/=b};n.Og=function(a,c,d,f,k){this.Aq(a,c,d,k);var m;V(g);V(l);V(D);H=x=r=h=-1;d=this.Ed;k=this.Fd;if(0<this.Ye)this.Ji(-this.Ye),q(),wa(l,g),x=h,H=r,V(g),r=h=-1,this.Ji(this.Ye),q(),-1!==h&&-1!==r&&-1!==x&&-1!==
H&&this.To();else for(this.Ji(0),q(),a=0;a<b;++a)m=2*a,c=e[m],m=e[m+1],this.So(a,d,k,c,m,f)};n.So=function(a,b,c,e,f,k){var l;l=g[d(a-1)];var m=a===h,n=a===r;g[a]||l?(a=X(b,c,e,f),l=La(b,c,e,f),k=this.Uo(b,c,e,f,k),b+=Math.cos(a)*(l+k),c+=Math.sin(a)*(l+k)):(b=e,c=f);n&&(D.push(e),D.push(f));D.push(b);D.push(c);m&&(D.push(e),D.push(f))};n.Ji=function(a){var c=this.Ed,d=this.Fd,f=c,h=d,l,m,n,p,q;for(l=0;l<b;++l)m=2*l,n=l+1,n=n===b?0:2*n,p=e[m],m=e[m+1],q=e[n],n=e[n+1],0!==a&&(h=X(c,d,k,t)-Math.PI/
2,f=c+Math.cos(h)*a,h=d+Math.sin(h)*a),g.push(Ia(X(p,m,f,h),X(p,m,q,n)-Math.PI/2)>=Math.PI/2)};var u=0,J=0;n.To=function(){for(var a=x,c,d,f;a=a%b,c=2*a,d=e[c],f=e[c+1],D.push(d),D.push(f),a!==r;++a);var g=this.Ye,h=X(this.Ed,this.Fd,k,t),a=this.Ed+Math.cos(h-Math.PI/2)*g,l=this.Fd+Math.sin(h-Math.PI/2)*g,h=X(a,l,d,f),m=La(a,l,d,f),a=a+Math.cos(h)*(m+this.Jb),l=l+Math.sin(h)*(m+this.Jb);c=2*x;var n=e[c];c=e[c+1];var h=X(this.Ed,this.Fd,k,t),p=this.Ed+Math.cos(h+Math.PI/2)*g,q=this.Fd+Math.sin(h+Math.PI/
2)*g,h=X(p,q,n,c),m=La(p,q,n,c),g=p+Math.cos(h)*(m+this.Jb),h=q+Math.sin(h)*(m+this.Jb);z=d;B=f;L=n;C=c;var v,H,F,m=a-d,p=l-f;v=g-n;H=h-c;F=-v*p+m*H;0===F?d=!1:(q=(-p*(d-n)+m*(f-c))/F,F=-v*p+m*H,0===F?d=!1:(n=(v*(f-c)-H*(d-n))/F,0<=q&&1>=q&&0<=n&&1>=n?(u=d+n*m,J=f+n*p,d=!0):d=!1));d?(D.push(u),D.push(J),I=u,aa=J,A=u,S=J):(D.push(a),D.push(l),D.push(g),D.push(h),I=a,aa=l,A=g,S=h)};n.Uo=function(a,b,c,e,d){if(d>=this.ym)return this.Jb;if(0>=d)return 0;a=La(a,b,c,e);a=Math.atan(a/(this.ym-d));d=d*Math.tan(a);
d>=this.Jb&&(d=this.Jb);0>d&&(d=0);return d};n.Xa=function(b){b.Qd(this.opacity);this.Vl();var e,d,f,k,l,m,n,p,q,t;e=0;for(d=a.length;e<d;++e)if(f=a[e],f.R.shadowcasterEnabled&&this.xl(f.R.shadowcasterTag))if(f.la(),l=f.R.shadowcasterHeight,f.Jk){f.sq(this.ca,c);n=f.x;p=f.y;f=0;for(k=c.length;f<k;++f)m=c[f],q=m.Qr,m.jk?(m=m.jk,t=q.left,q=q.top):(F.xe(q,0,0),m=F,q=t=0),this.Og(m,n+t,p+q,l,!1),6>D.length||(b.Da(this.Q),b.zl(D),-1<h&&-1<x&&(b.Da(this.sb),this.Xg(b,!0)),-1<r&&-1<H&&(b.Da(this.sb),this.Xg(b,
!1)),V(g),V(D));V(c)}else f.Ia&&!f.Ia.Mj()?(f.Ia.Ii(f.width,f.height,f.i),m=f.Ia):(F.Bn(f.Cc,f.x,f.y,f.width,f.height),m=F),this.Og(m,f.x,f.y,l,Ma(0>f.width,0>f.height)),6>D.length||(b.Da(this.Q),b.zl(D),-1<h&&-1<x&&(b.Da(this.sb),this.Xg(b,!0)),-1<r&&-1<H&&(b.Da(this.sb),this.Xg(b,!1)),V(g),V(D));V(a)};n.Xg=function(a,b){var c=this.Ed,d=this.Fd,f,g,l,m,n,p;b?(l=L,m=C,n=A,p=S):(l=z,m=B,n=I,p=aa);var q=this.Ye,u=X(c,d,k,t),v=Math.PI/2;b&&(v=-v);c+=Math.cos(u+v)*q;d+=Math.sin(u+v)*q;q=!1;if(b){if(q=
h!==x)f=e[2*h],g=e[2*h+1]}else if(q=r!==H)f=e[2*H],g=e[2*H+1];var u=q?X(f,g,l,m):X(c,d,l,m),v=l+Math.cos(u)*this.Jb,D=m+Math.sin(u)*this.Jb,F,J,ia,lb=ia=0,mb=1;q&&(ia=X(c,d,f,g),F=f+Math.cos(ia)*this.Jb,J=g+Math.sin(ia)*this.Jb,c=X(l,m,n,p),ia=Ia(u,ia)/Ia(c,ia),u=La(f,g,l,m),u=u/(u+this.Jb),c=X(0,1,ia,0),d=La(0,1,ia,0),lb+=Math.cos(c)*u*d,mb+=Math.sin(c)*u*d);a.mn(l,m,n,p,v,D,v,D,lb,mb,1,ia,ia);q&&a.mn(f,g,v,D,F,J,F,J,0,1,ia,0,0)};n.Al=function(){this.b.j&&(this.Q&&(this.b.j.deleteTexture(this.Q),
this.Q=null),this.sb&&(this.b.j.deleteTexture(this.sb),this.sb=null),this.Zo(),this.cp())};n.Zo=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Uj+","+this.Tj+","+this.Sj+")";b.fillRect(0,0,16,16);this.Q=this.b.j.bb(16,16,!1,!1,!0);this.b.j.Wk(a,this.Q)};n.cp=function(){var a=p.width,b=p.height,c=this.Uj,d=this.Tj,e=this.Sj,g=f,h=document.createElement("canvas");h.width=a;h.height=b;var k=h.getContext("2d"),l=k.createImageData(a,
b),m=l.data,n,q;n=0;for(q=m.length;n<q;n+=4)m[n]=c,m[n+1]=d,m[n+2]=e,m[n+3]=g[n+3];k.putImageData(l,0,0);this.sb=this.b.j.bb(a,b,this.b.aa,!1,!1);this.b.j.Wk(h,this.sb)};m.C=new function(){};m.zb=new function(){};m.mc=new function(){}})();function dc(){return[gc,fc,hc,ec,ic,fc.prototype.C.xi,Z.prototype.zb.mo,Z.prototype.C.bl,Z.prototype.zb.Co,Z.prototype.C.ko,hc.prototype.zb.Bo,gc.prototype.zb.Ao]};
